function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return b})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return b})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("os0x"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("S+S0"),c=n("x7I3"),l=o.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");var f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),d=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},v=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),y=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.m=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.m++,e.currentUser=e.A(),e.R=!0,e.u&&e.u(e.currentUser)},this.m=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.m,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.m!==e)throw new p(f.ABORTED,"getToken aborted due to token change.");return n?(be("string"==typeof n.accessToken),new d(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return be(null===t||"string"==typeof t),new h(t)},t}(),g=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),m=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new g(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new p(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new p(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new p(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new p(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),w=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.min=function(){return new t(new _(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),b=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&we(),void 0===n?n=t.length-e:n>t.length-e&&we(),this.segments=t,this.offset=e,this.F=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.N(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.k=function(t){return this.$(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.M=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.L=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.prototype.j=function(){return this.W().join("/")},e.prototype.toString=function(){return this.j()},e.K=function(t){if(t.indexOf("//")>=0)throw new p(f.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(b);k.G=new k([]);var C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.H=function(t){return C.test(t)},e.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.H(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.j()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.J=function(){return new e(["__name__"])},e.X=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new p(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new p(f.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new p(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new p(f.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(b);E.G=new E([]);var S=function(){function t(t){this.path=t}return t.Z=function(e){return new t(k.K(e).k(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===k.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,e){return k.N(t.path,e.path)},t.et=function(t){return t.length%2==0},t.st=function(e){return new t(new k(e.slice()))},t}();function T(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}S.EMPTY=new S(new k([]));var x=function(){function t(t){this.it=t}return t.fromBase64String=function(e){return new t(pe.nt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return pe.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return Ee(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function O(t){return null==t}function N(t){return-0===t&&1/t==-1/0}function P(t){return"number"==typeof t&&Number.isInteger(t)&&!N(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function D(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function R(t){var e=B(t.mapValue.fields.__local_write_time__.timestampValue);return new _(e.seconds,e.nanos)}x.ht=new x("");var j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function V(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D(t)?4:10:we()}function M(t,e){var n=V(t);if(n!==V(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return R(t).isEqual(R(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=B(t.timestampValue),r=B(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return H(t.bytesValue).isEqual(H(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return z(t.geoPointValue.latitude)===z(e.geoPointValue.latitude)&&z(t.geoPointValue.longitude)===z(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return z(t.integerValue)===z(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=z(t.doubleValue),r=z(e.doubleValue);return n===r?N(n)===N(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Se(t.arrayValue.values||[],e.arrayValue.values||[],M);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(T(n)!==T(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!M(n[i],r[i])))return!1;return!0}(t,e);default:return we()}}function F(t,e){return void 0!==(t.values||[]).find((function(t){return M(t,e)}))}function L(t,e){var n=V(t),r=V(e);if(n!==r)return Ee(n,r);switch(n){case 0:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=z(t.integerValue||t.doubleValue),r=z(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return U(t.timestampValue,e.timestampValue);case 4:return U(R(t),R(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(t,e){var n=H(t),r=H(e);return n.S(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ee(n[i],r[i]);if(0!==o)return o}return Ee(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ee(z(t.latitude),z(e.latitude));return 0!==n?n:Ee(z(t.longitude),z(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=L(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ee(r[s],o[s]);if(0!==a)return a;var u=L(n[r[s]],i[o[s]]);if(0!==u)return u}return Ee(r.length,o.length)}(t.mapValue,e.mapValue);default:throw we()}}function U(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ee(t,e);var n=B(t),r=B(e),i=Ee(n.seconds,r.seconds);return 0!==i?i:Ee(n.nanos,r.nanos)}function q(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=B(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?H(e.bytesValue).toBase64():"referenceValue"in e?S.Z(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):we();var n}(t)}function B(t){if(be(!!t),"string"==typeof t){var e=0,n=j.exec(t);if(be(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:z(t.seconds),nanos:z(t.nanos)}}function z(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function H(t){return"string"==typeof t?x.fromBase64String(t):x.fromUint8Array(t)}function G(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function W(t){return!!t&&"integerValue"in t}function Q(t){return!!t&&"arrayValue"in t}function K(t){return!!t&&"nullValue"in t}function Y(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Z(t){return!!t&&"mapValue"in t}var $=function(){function t(){}return t.prototype.ot=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();$.instance=new $;var X=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e.some((function(e){return M(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Se(this.elements,e.elements,M)},t}(),J=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e=e.filter((function(e){return!M(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Se(this.elements,e.elements,M)},t}(),tt=function(){function t(t,e){this.serializer=t,this.ct=e}return t.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return W(n)&&W(this.ct)?this.serializer._t(r):this.serializer.lt(r)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return W(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&M(this.ct,e.ct)},t.prototype.asNumber=function(t){return z(t.integerValue||t.doubleValue)},t}();function et(t){return Q(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var nt=function(){function t(t){this.fields=t,t.sort(E.N)}return t.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},t.prototype.isEqual=function(t){return Se(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),it=function(t,e){this.version=t,this.transformResults=e},ot=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ft=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof mt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof mt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),st=function(){function t(){}return t.prototype.It=function(t){},t.wt=function(t){return t instanceof mt?t.version:w.min()},t}(),at=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Rt=r,i.type=0,i}return i.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new mt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=st.wt(t);return new mt(this.key,r,this.value,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},e}(st),ut=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Vt=r,o.Rt=i,o.type=1,o}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new wt(this.key,e.version);var n=this.gt(t);return new mt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=st.wt(t),i=this.gt(t);return new mt(this.key,r,i,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},e.prototype.gt=function(t){var e;return e=t instanceof mt?t.data():ft.empty(),this.pt(e)},e.prototype.pt=function(t){var e=this,n=new pt(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.yt()},e}(st),ct=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Rt=ot.exists(!0),r}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),be(null!=e.transformResults),!this.Rt.Et(t))return new wt(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new mt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new mt(this.key,r.version,o,{At:!0})},e.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof mt?t.field(i.field):void 0,s=i.transform.ut(o||null);null!=s&&(e=null==e?(new pt).set(i.field,s):e.set(i.field,s))}return e?e.yt():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Se(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},e.prototype.bt=function(t){return t},e.prototype.vt=function(t,e){var n=[];be(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof mt&&(s=t.field(i.field)),n.push(o.at(s,e[r]))}return n},e.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof mt&&(u=e.field(s.field)),null===u&&n instanceof mt&&(u=n.field(s.field)),r.push(a.ot(u,t))}return r},e.prototype.St=function(t,e){for(var n=new pt(t),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.yt()},e}(st),lt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=3,r}return i.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new _t(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new _t(this.key,w.min()):t},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),ht=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=4,r}return i.__extends(e,t),e.prototype.at=function(t,e){we()},e.prototype.ot=function(t,e,n){we()},e.prototype.Pt=function(t){we()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),ft=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Z(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return M(this.proto,t.proto)},t}(),pt=function(){function t(t){void 0===t&&(t=ft.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,e){return this.Nt(t,e),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===V(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.yt=function(){var t=this.$t(E.G,this.Ft);return null!=t?new ft(t):this.Ct},t.prototype.$t=function(t,e){var n=this,r=!1,i=this.Ct.field(t),o=Z(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.$t(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function dt(t){var e=[];return I(t.fields||{},(function(t,n){var r=new E([t]);if(Z(n)){var i=dt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new nt(e)}var vt,yt,gt=function(t,e){this.key=t,this.version=e},mt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).kt=r,o.At=!!i.At,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.kt.field(t)},e.prototype.data=function(){return this.kt},e.prototype.Mt=function(){return this.kt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.kt.isEqual(t.kt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.kt.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(gt),_t=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(gt),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(gt),bt=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Lt=null}return t.prototype.canonicalId=function(){if(null===this.Lt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),O(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Lt=t}return this.Lt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),O(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Ot=function(){return S.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),kt=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new Ot(t)),this.qt.push(new Ot(E.J(),"asc"));else{for(var n=!1,r=0,i=this.xt;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var s=this.xt.length>0?this.xt[this.xt.length-1].dir:"asc";this.qt.push(new Ot(E.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.xt.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(e){var n=this.xt.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Yt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.Jt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,e,this.endAt)},t.prototype.Xt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,e)},t.prototype.Zt=function(e){return new t(e,null,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.xt.length||1===this.xt.length&&this.xt[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!O(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!O(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.xt.length>0?this.xt[0].field:null},t.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ct&&n.ue())return n.field}return null},t.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Ct&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Ot=function(){return this.ee().Ot()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new bt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Ot(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new xt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new xt(this.startAt.position,!this.startAt.before):null;this.Ut=new bt(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Ut},t.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):S.et(this.path)?this.path.isEqual(e):this.path.U(e)},t.prototype.ne=function(t){for(var e=0,n=this.xt;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),Ct=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.Y())return"in"===n?new St(t,r):new Et(t,n,r);if(K(r)){if("=="!==n)throw new p(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Y(r)){if("=="!==n)throw new p(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Tt(t,r):"in"===n?new It(t,r):"array-contains-any"===n?new At(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&V(this.value)===V(e)&&this.de(L(e,this.value))},e.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return we()}},e.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+q(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&M(this.value,t.value)},e.prototype.toString=function(){return this.field.j()+" "+this.op+" "+q(this.value)},e}((function(){})),Et=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=S.Z(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=S.N(t.key,this.key);return this.de(e)},e}(Ct),St=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return S.Z(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ct),Tt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Q(e)&&F(e.arrayValue,this.value)},e}(Ct),It=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&F(this.value.arrayValue,e)},e}(Ct),At=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Q(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return F(e.value.arrayValue,t)}))},e}(Ct),xt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return q(t)})).join(",")},t.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?S.N(S.Z(o.referenceValue),e.key):L(o,e.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!M(this.position[e],t.position[e]))return!1;return!0},t}(),Ot=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}return t.prototype.compare=function(t,e){var n=this.fe?S.N(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?L(r,i):we()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return we()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Nt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=w.min()),void 0===o&&(o=w.min()),void 0===s&&(s=x.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Ie=function(e){return new t(this.target,this.targetId,this.Te,e,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.we=function(e,n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Re=function(e){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,e,this.resumeToken)},t}(),Pt=function(t){this.count=t};function Dt(t){switch(t){case f.OK:return we();case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return we()}}function Rt(t){if(void 0===t)return me("GRPC error has no .code"),f.UNKNOWN;switch(t){case vt.OK:return f.OK;case vt.CANCELLED:return f.CANCELLED;case vt.UNKNOWN:return f.UNKNOWN;case vt.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case vt.INTERNAL:return f.INTERNAL;case vt.UNAVAILABLE:return f.UNAVAILABLE;case vt.UNAUTHENTICATED:return f.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case vt.NOT_FOUND:return f.NOT_FOUND;case vt.ALREADY_EXISTS:return f.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return f.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case vt.ABORTED:return f.ABORTED;case vt.OUT_OF_RANGE:return f.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return f.UNIMPLEMENTED;case vt.DATA_LOSS:return f.DATA_LOSS;default:return we()}}(yt=vt||(vt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";var jt=function(){function t(t,e){this.N=t,this.root=e||Mt.EMPTY}return t.prototype.me=function(e,n){return new t(this.N,this.root.me(e,n,this.N).Ae(null,null,Mt.Pe,null,null))},t.prototype.remove=function(e){return new t(this.N,this.root.remove(e,this.N).Ae(null,null,Mt.Pe,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Vt(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Vt(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Vt(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Vt(this.root,t,this.N,!0)},t}(),Vt=function(){function t(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},t.prototype.$e=function(){return this.Fe.length>0},t.prototype.ke=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),Mt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.Ae=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.me=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.Ae(null,null,null,r.left.me(t,e,n),null):0===i?r.Ae(null,e,null,null,null):r.Ae(null,null,null,null,r.right.me(t,e,n))).Me()},t.prototype.Le=function(){if(this.left.B())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.xe()),(e=e.Ae(null,null,null,e.left.Le(),null)).Me()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.B()||i.left.Oe()||i.left.left.Oe()||(i=i.xe()),i=i.Ae(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Be()),i.right.B()||i.right.Oe()||i.right.left.Oe()||(i=i.qe()),0===n(e,i.key)){if(i.right.B())return t.EMPTY;r=i.right.min(),i=i.Ae(r.key,r.value,null,null,i.right.Le())}i=i.Ae(null,null,null,null,i.right.remove(e,n))}return i.Me()},t.prototype.Oe=function(){return this.color},t.prototype.Me=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.Ue()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Be()),t.left.Oe()&&t.right.Oe()&&(t=t.Qe()),t},t.prototype.xe=function(){var t=this.Qe();return t.right.left.Oe()&&(t=(t=(t=t.Ae(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.Oe()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var e=this.Ae(null,null,t.RED,null,this.right.left);return this.right.Ae(null,null,this.color,e,null)},t.prototype.Be=function(){var e=this.Ae(null,null,t.RED,this.left.right,null);return this.left.Ae(null,null,this.color,null,e)},t.prototype.Qe=function(){var t=this.left.Ae(null,null,!this.left.color,null,null),e=this.right.Ae(null,null,!this.right.color,null,null);return this.Ae(null,null,!this.color,t,e)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.Oe()&&this.left.Oe())throw we();if(this.right.Oe())throw we();var t=this.left.je();if(t!==this.right.je())throw we();return t+(this.Oe()?0:1)},t}();Mt.EMPTY=null,Mt.RED=!0,Mt.Pe=!1,Mt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw we()},enumerable:!0,configurable:!0}),t.prototype.Ae=function(t,e,n,r,i){return this},t.prototype.me=function(t,e,n){return new Mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());var Ft=function(){function t(t){this.N=t,this.data=new jt(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},t.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.$e();){var r=n.Ne();if(this.N(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.$e();)if(!t(n.Ne().key))return},t.prototype.ze=function(t){var e=this.data.ve(t);return e.$e()?e.Ne().key:null},t.prototype.be=function(){return new Lt(this.data.be())},t.prototype.ve=function(t){return new Lt(this.data.ve(t))},t.prototype.add=function(t){return this.Ae(this.data.remove(t).me(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.Ae(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.be(),r=e.data.be();n.$e();){var i=n.Ne().key,o=r.Ne().key;if(0!==this.N(i,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.Ae=function(e){var n=new t(this.N);return n.data=e,n},t}(),Lt=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.$e=function(){return this.Ye.$e()},t}(),Ut=new jt(S.N);function qt(){return Ut}function Bt(){return qt()}var zt=new jt(S.N);function Ht(){return zt}var Gt=new jt(S.N);function Wt(){return Gt}var Qt=new Ft(S.N);function Kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Qt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Yt=new Ft(Ee);function Zt(){return Yt}var $t=function(){function t(t){this.N=t?function(e,n){return t(e,n)||S.N(e.key,n.key)}:function(t,e){return S.N(t.key,e.key)},this.Je=Ht(),this.Xe=new jt(this.N)}return t.Ze=function(e){return new t(e.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.Ae(e.Je.me(t.key,t),e.Xe.me(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.Ae(this.Je.remove(t),this.Xe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Xe.be(),r=e.Xe.be();n.$e();){var i=n.Ne().key,o=r.Ne().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.Ae=function(e,n){var r=new t;return r.N=this.N,r.Je=e,r.Xe=n,r},t}(),Xt=function(){function t(){this.ts=new jt(S.N)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);n?0!==t.type&&3===n.type?this.ts=this.ts.me(e,t):3===t.type&&1!==n.type?this.ts=this.ts.me(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.me(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.me(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.me(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.me(e,{type:2,doc:t.doc}):we():this.ts=this.ts.me(e,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},t}(),Jt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=s,this.hs=a}return t.os=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,$t.Ze(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),te=function(){function t(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}return t.ls=function(e,n){var r=new Map;return r.set(e,ee.ds(e,n)),new t(w.min(),r,Zt(),qt(),Kt())},t}(),ee=function(){function t(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.Is=i}return t.ds=function(e,n){return new t(x.ht,n,Kt(),Kt(),Kt())},t}(),ne=function(t,e,n,r){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=r},re=function(t,e){this.targetId=t,this.ms=e},ie=function(t,e,n,r){void 0===n&&(n=x.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oe=function(){function t(){this.As=0,this.Ps=ue(),this.Vs=x.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.As},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=Kt(),e=Kt(),n=Kt();return this.Ps.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:we()}})),new ee(this.Vs,this.gs,t,e,n)},t.prototype.Ds=function(){this.ps=!1,this.Ps=ue()},t.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.me(t,e)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.As+=1},t.prototype.$s=function(){this.As-=1},t.prototype.ks=function(){this.ps=!0,this.gs=!0},t}(),se=function(){function t(t){this.Ms=t,this.Ls=new Map,this.Os=qt(),this.xs=ae(),this.Bs=new Ft(Ee)}return t.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var r=n[e];t.Rs instanceof mt?this.Us(r,t.Rs):t.Rs instanceof _t&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Qs(o[i],t.key,t.Rs)},t.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var r=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&r.vs(t.resumeToken);break;case 1:r.$s(),r.ys||r.Ds(),r.vs(t.resumeToken);break;case 2:r.$s(),r.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(r.ks(),r.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),r.vs(t.resumeToken));break;default:we()}}))},t.prototype.js=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ls.forEach((function(t,r){n.Gs(r)&&e(r)}))},t.prototype.Hs=function(t){var e=t.targetId,n=t.ms.count,r=this.Ys(e);if(r){var i=r.target;if(i.Ot())if(0===n){var o=new S(i.path);this.Qs(e,o,new _t(o,w.min()))}else be(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},t.prototype.Xs=function(t){var e=this,n=new Map;this.Ls.forEach((function(r,i){var o=e.Ys(i);if(o){if(r.fs&&o.target.Ot()){var s=new S(o.target.path);null!==e.Os.get(s)||e.Zs(i,s)||e.Qs(i,s,new _t(s,t))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=Kt();this.xs.forEach((function(t,n){var i=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new te(t,n,this.Bs,this.Os,r);return this.Os=qt(),this.xs=ae(),this.Bs=new Ft(Ee),i},t.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.Os=this.Os.me(e.key,e),this.xs=this.xs.me(e.key,this.ti(e.key).add(t))}},t.prototype.Qs=function(t,e,n){if(this.Gs(t)){var r=this.Ks(t);this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.xs=this.xs.me(e,this.ti(e).delete(t)),n&&(this.Os=this.Os.me(e,n))}},t.prototype.removeTarget=function(t){this.Ls.delete(t)},t.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ms.ei(t).size+e.Ts.size-e.Is.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var e=this.Ls.get(t);return e||(e=new oe,this.Ls.set(t,e)),e},t.prototype.ti=function(t){var e=this.xs.get(t);return e||(e=new Ft(Ee),this.xs=this.xs.me(t,e)),e},t.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||ge("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ys=function(t){var e=this.Ls.get(t);return e&&e.ys?null:this.Ms.si(t)},t.prototype.zs=function(t){var e=this;this.Ls.set(t,new oe),this.Ms.ei(t).forEach((function(n){e.Qs(t,n,null)}))},t.prototype.Zs=function(t,e){return this.Ms.ei(t).has(e)},t}();function ae(){return new jt(S.N)}function ue(){return new jt(S.N)}var ce={asc:"ASCENDING",desc:"DESCENDING"},le={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},he=function(){function t(t,e){this.ii=t,this.options=e}return t.prototype.ni=function(t){var e=void 0===t.code?f.UNKNOWN:Rt(t.code);return new p(e,t.message||"")},t.prototype.ri=function(t){return this.options.hi||O(t)?t:{value:t}},t.prototype.oi=function(t){var e;return O(e="object"==typeof t?t.value:t)?null:e},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:N(t)?"-0":t}},t.prototype.ai=function(t){return P(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=B(t);return new _(e.seconds,e.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(be(void 0===t||"string"==typeof t),x.fromBase64String(t||"")):(be(void 0===t||t instanceof Uint8Array),x.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return be(!!t),w.v(this.v(t))},t.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var e=k.K(t);return be(fe(e)),e},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var e=this.di(t);return be(e.get(1)===this.ii.projectId),be(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new S(this.Ti(e))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?k.G:this.Ti(e)},Object.defineProperty(t.prototype,"wi",{get:function(){return new k(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new k(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return be(t.length>4&&"documents"===t.get(4)),t.k(5)},t.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},t.prototype.mi=function(t){return{name:this.fi(t.key),fields:t.Mt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.Ai=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new ft({mapValue:{fields:t.fields}});return new mt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Pi=function(t){be(!!t.found);var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new ft({mapValue:{fields:t.found.fields}});return new mt(e,n,r,{})},t.prototype.Vi=function(t){be(!!t.missing),be(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new _t(e,n)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):we()},t.prototype.pi=function(t){var e;if("targetChange"in t){var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.ni(o);e=new ie(n,r,i,s||null)}else if("documentChange"in t){var a=t.documentChange,u=this.Z(a.document.name),c=this.fromVersion(a.document.updateTime),l=new ft({mapValue:{fields:a.document.fields}}),h=new mt(u,c,l,{});e=new ne(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var f=t.documentDelete,p=this.Z(f.document),d=f.readTime?this.fromVersion(f.readTime):w.min(),v=new _t(p,d);e=new ne([],f.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){var y=t.documentRemove,g=this.Z(y.document);e=new ne([],y.removedTargetIds||[],g,null)}else{if(!("filter"in t))return we();var m=t.filter,_=new Pt(m.count||0);e=new re(m.targetId,_)}return e},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:we()},t.prototype.bi=function(t){if(!("targetChange"in t))return w.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?w.min():e.readTime?this.fromVersion(e.readTime):w.min()},t.prototype.vi=function(t){var e,n=this;if(t instanceof at)e={update:this.Ri(t.key,t.value)};else if(t instanceof lt)e={delete:this.fi(t.key)};else if(t instanceof ut)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof ct)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof ht))return we();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},t.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):ot.ft();if(t.update){var r=this.Z(t.update.name),i=new ft({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.$i(t.updateMask);return new ut(r,i,o,n)}return new at(r,i,n)}if(t.delete){var s=this.Z(t.delete);return new lt(s,n)}if(t.transform){var a=this.Z(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.ki(t)}));return be(!0===n.exists),new ct(a,u)}if(t.verify){var c=this.Z(t.verify);return new ht(c,n)}return we()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:we()},t.prototype.Ni=function(t){return void 0!==t.updateTime?ot.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ot.exists(t.exists):ot.ft()},t.prototype.Mi=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(w.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new it(n,r)},t.prototype.Li=function(t,e){var n=this;return t&&t.length>0?(be(void 0!==e),t.map((function(t){return n.Mi(t,e)}))):[]},t.prototype.Di=function(t){var e=t.transform;if(e instanceof $)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof X)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof J)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof tt)return{fieldPath:t.field.j(),increment:e.ct};throw we()},t.prototype.ki=function(t){var e=null;"setToServerValue"in t?(be("REQUEST_TIME"===t.setToServerValue),e=$.instance):"appendMissingElements"in t?e=new X(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new J(t.removeAllFromArray.values||[]):"increment"in t?e=new tt(this,t.increment):we();var n=E.X(t.fieldPath);return new rt(n,e)},t.prototype.Oi=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.xi=function(t){return be(1===t.documents.length),kt.Wt(this.Ii(t.documents[0])).ee()},t.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.M()),e.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},t.prototype.Wi=function(t){var e=this.Ii(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var u=null;n.limit&&(u=this.oi(n.limit));var c=null;n.startAt&&(c=this.Gi(n.startAt));var l=null;return n.endAt&&(l=this.Gi(n.endAt)),new kt(e,i,a,s,u,"F",c,l).ee()},t.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}},t.prototype.ee=function(t){var e,n=t.target;return(e=n.Ot()?{documents:this.Oi(n)}:{query:this.Bi(n)}).targetId=t.targetId,t.resumeToken.rt()>0&&(e.resumeToken=this.ui(t.resumeToken)),e},t.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Ct?e.Yi(t):we()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):we():[]},t.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},t.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){return new xt(t.values||[],!!t.before)},t.prototype.en=function(t){return ce[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return le[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return we()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return E.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new Ot(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return Ct.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if(Y(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(K(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return Ct.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return Ct.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return we()}},t.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},t.prototype.$i=function(t){return new nt((t.fieldPaths||[]).map((function(t){return E.X(t)})))},t}();function fe(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var pe=function(){function t(){}return t.an=function(e){t.platform&&we(),t.platform=e},t.nt=function(){return t.platform||we(),t.platform},t}(),de=new s.Logger("@firebase/firestore");function ve(){return de.logLevel}function ye(t){de.logLevel=t}function ge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=s.LogLevel.DEBUG){var r=e.map(_e);de.debug.apply(de,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function me(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=s.LogLevel.ERROR){var r=e.map(_e);de.error.apply(de,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function _e(t){if("string"==typeof t)return t;var e=pe.nt();try{return e.un(t)}catch(e){return t}}function we(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw me(e),new Error(e)}function be(t,e){t||we()}function ke(t,e){return t}var Ce=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=pe.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ee(t,e){return t<e?-1:t>e?1:0}function Se(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Te(t){return t+"\0"}var Ie=function(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ae=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.S=function(t){return Ee(this.projectId,t.projectId)||Ee(this.database,t.database)},t}(),xe=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.fn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.B=function(){return A(this.fn)},t}(),Oe=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.at(e,r[i]))}return e},t.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.ot(e,o,this.Tn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ot(r.key,t.get(r.key));i&&(n=n.me(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Kt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Se(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Se(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Ne=function(){function t(t,e,n,r,i){this.batch=t,this.wn=e,this.En=n,this.streamToken=r,this.Rn=i}return t.from=function(e,n,r,i){be(e.mutations.length===r.length);for(var o=Wt(),s=e.mutations,a=0;a<s.length;a++)o=o.me(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Pe=function(){function t(t){var e=this;this.mn=null,this.An=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t((function(t){e.Pn=!0,e.result=t,e.mn&&e.mn(t)}),(function(t){e.Pn=!0,e.error=t,e.An&&e.An(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Vn&&we(),this.Vn=!0,this.Pn?this.error?this.gn(n,this.error):this.pn(e,this.result):new t((function(t,i){r.mn=function(n){r.pn(e,n).next(t,i)},r.An=function(e){r.gn(n,e).next(t,i)}}))},t.prototype.yn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.bn((function(){return e(n)})):t.resolve(n)},t.prototype.gn=function(e,n){return e?this.bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.vn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Sn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.vn(r)},t}(),De=function(){function t(){this.Dn=new xe((function(t){return t.toString()})),this.Cn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),t.prototype.Nn=function(t,e){this.$n(),this.readTime=e,this.Dn.set(t.key,t)},t.prototype.kn=function(t,e){this.$n(),e&&(this.readTime=e),this.Dn.set(t,null)},t.prototype.Mn=function(t,e){this.$n();var n=this.Dn.get(e);return void 0!==n?Pe.resolve(n):this.Ln(t,e)},t.prototype.getEntries=function(t,e){return this.On(t,e)},t.prototype.apply=function(t){return this.$n(),this.Cn=!0,this.xn(t)},t.prototype.$n=function(){},t}(),Re="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",je=function(){function t(){this.Bn=[]}return t.prototype.qn=function(t){this.Bn.push(t)},t.prototype.Un=function(){this.Bn.forEach((function(t){return t()}))},t}(),Ve=function(){function t(t,e,n){this.Qn=t,this.Wn=e,this.jn=n}return t.prototype.Kn=function(t,e){var n=this;return this.Wn.Gn(t,e).next((function(r){return n.zn(t,e,r)}))},t.prototype.zn=function(t,e,n){return this.Qn.Mn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ot(e,t);return t}))},t.prototype.Hn=function(t,e,n){var r=Bt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ot(t,e);r=r.me(t,e)})),r},t.prototype.Yn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next((function(e){return n.Jn(t,e)}))},t.prototype.Jn=function(t,e){var n=this;return this.Wn.Xn(t,e).next((function(r){var i=n.Hn(t,e,r),o=qt();return i.forEach((function(t,e){e||(e=new _t(t,w.min())),o=o.me(t,e)})),o}))},t.prototype.Zn=function(t,e,n){return e.Ot()?this.tr(t,e.path):e._e()?this.er(t,e,n):this.sr(t,e,n)},t.prototype.tr=function(t,e){return this.Kn(t,new S(e)).next((function(t){var e=Ht();return t instanceof mt&&(e=e.me(t.key,t)),e}))},t.prototype.er=function(t,e,n){var r=this,i=e.collectionGroup,o=Ht();return this.jn.ir(t,i).next((function(s){return Pe.forEach(s,(function(s){var a=e.Zt(s.child(i));return r.sr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.me(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sr=function(t,e,n){var r,i,o=this;return this.Qn.Zn(t,e,n).next((function(n){return r=n,o.Wn.nr(t,e)})).next((function(e){return o.rr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=u.ot(l,l,o.Tn);r=h instanceof mt?r.me(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.rr=function(t,e,n){for(var r=Kt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ut&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Qn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof mt&&(c=c.me(t,e))})),c}))},t}(),Me=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.hr=n,this.or=r}return t.ar=function(e,n){for(var r=Kt(),i=Kt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Fe=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ur=function(t){return n.cr(t)},this._r=function(t){return e.lr(t)})}return t.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},t}();Fe.dr=-1;var Le=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ue=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Tr=t,this.Er=e,this.Ir=n,this.wr=r,this.Rr=i,this.mr=0,this.Ar=null,this.Pr=Date.now(),this.reset()}return t.prototype.reset=function(){this.mr=0},t.prototype.Vr=function(){this.mr=this.Rr},t.prototype.gr=function(t){var e=this;this.cancel();var n=Math.floor(this.mr+this.pr()),r=Math.max(0,Date.now()-this.Pr),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.mr+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ar=this.Tr.yr(this.Er,i,(function(){return e.Pr=Date.now(),t()})),this.mr*=this.wr,this.mr<this.Ir&&(this.mr=this.Ir),this.mr>this.Rr&&(this.mr=this.Rr)},t.prototype.cancel=function(){null!==this.Ar&&(this.Ar.cancel(),this.Ar=null)},t.prototype.pr=function(){return(Math.random()-.5)*this.mr},t}();function qe(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ze(e)),e=Be(t.get(n),e);return ze(e)}function Be(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ze(t){return t+"\x01\x01"}function He(t){var e=t.length;if(be(e>=2),2===e)return be("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),k.G;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&we(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:we()}o=s+2}return new k(r)}var Ge=function(){function t(){this.br=new We}return t.prototype.vr=function(t,e){return this.br.add(e),Pe.resolve()},t.prototype.ir=function(t,e){return Pe.resolve(this.br.getEntries(e))},t}(),We=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.M(),r=this.index[e]||new Ft(k.N),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.M(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ft(k.N)).W()},t}(),Qe=function(){function t(){this.Sr=new We}return t.prototype.vr=function(t,e){var n=this;if(!this.Sr.has(e)){var r=e.O(),i=e.M();t.qn((function(){n.Sr.add(e)}));var o={collectionId:r,parent:qe(i)};return Ke(t).put(o)}return Pe.resolve()},t.prototype.ir=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Te(e),""],!1,!0);return Ke(t).Dr(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(He(o.parent))}return n}))},t}();function Ke(t){return ln.Cr(t,jn.store)}var Ye=function(){function t(t,e){this.serializer=t,this.jn=e}return t.prototype.Nn=function(t,e,n){return $e(t).put(Xe(e),n)},t.prototype.kn=function(t,e){var n=$e(t),r=Xe(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Fr(t,r)}))},t.prototype.Mn=function(t,e){var n=this;return $e(t).get(Xe(e)).next((function(t){return n.Nr(t)}))},t.prototype.$r=function(t,e){var n=this;return $e(t).get(Xe(e)).next((function(t){var e=n.Nr(t);return e?{kr:e,size:Je(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Bt();return this.Mr(t,e,(function(t,e){var i=n.Nr(e);r=r.me(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=Bt(),i=new jt(S.N);return this.Mr(t,e,(function(t,e){var o=n.Nr(e);o?(r=r.me(t,o),i=i.me(t,Je(e))):(r=r.me(t,null),i=i.me(t,0))})).next((function(){return{Or:r,xr:i}}))},t.prototype.Mr=function(t,e,n){if(e.B())return Pe.resolve();var r=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),i=e.be(),o=i.Ne();return $e(t).Br({range:r},(function(t,e,r){for(var s=S.st(t);o&&S.N(o,s)<0;)n(o,null),o=i.Ne();o&&o.isEqual(s)&&(n(o,e),o=i.$e()?i.Ne():null),o?r.qr(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.$e()?i.Ne():null}))},t.prototype.Zn=function(t,e,n){var r=this,i=Ht(),o=e.path.length+1,s={};if(n.isEqual(w.min())){var a=e.path.W();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.W(),c=this.serializer.Ur(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=On.collectionReadTimeIndex}return $e(t).Br(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Qr(n);e.path.q(a.key.path)?a instanceof mt&&e.matches(a)&&(i=i.me(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Wr=function(t,e){var n=this,r=qt(),i=this.serializer.Ur(e),o=$e(t),s=IDBKeyRange.lowerBound(i,!0);return o.Br({index:On.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Qr(e);r=r.me(o.key,o),i=e.readTime})).next((function(){return{jr:r,readTime:n.serializer.Kr(i)}}))},t.prototype.Gr=function(t){var e=this,n=$e(t),r=w.min();return n.Br({index:On.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.Kr(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.zr=function(e){return new t.Hr(this,!!e&&e.Yr)},t.prototype.Jr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ze(t).get(Nn.key).next((function(t){return be(!!t),t}))},t.prototype.Fr=function(t,e){return Ze(t).put(Nn.key,e)},t.prototype.Nr=function(t){if(t){var e=this.serializer.Qr(t);return e instanceof _t&&e.version.isEqual(w.min())?null:e}return null},t}();function Ze(t){return ln.Cr(t,Nn.store)}function $e(t){return ln.Cr(t,On.store)}function Xe(t){return t.path.W()}function Je(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw we();e=t.noDocument}return JSON.stringify(e).length}Ye.Hr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Yr=n,r.Zr=new xe((function(t){return t.toString()})),r}return i.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[],r=0,i=new Ft((function(t,e){return Ee(t.j(),e.j())}));return this.Dn.forEach((function(o,s){var a=e.Zr.get(o);if(s){var u=e.Xr.serializer.th(s,e.readTime);i=i.add(o.path.M());var c=Je(u);r+=c-a,n.push(e.Xr.Nn(t,o,u))}else if(r-=a,e.Yr){var l=e.Xr.serializer.th(new _t(o,w.min()),e.readTime);n.push(e.Xr.Nn(t,o,l))}else n.push(e.Xr.kn(t,o))})),i.forEach((function(r){n.push(e.Xr.jn.vr(t,r))})),n.push(this.Xr.updateMetadata(t,r)),Pe.vn(n)},e.prototype.Ln=function(t,e){var n=this;return this.Xr.$r(t,e).next((function(t){return null===t?(n.Zr.set(e,0),null):(n.Zr.set(e,t.size),t.kr)}))},e.prototype.On=function(t,e){var n=this;return this.Xr.Lr(t,e).next((function(t){var e=t.Or;return t.xr.forEach((function(t,e){n.Zr.set(t,e)})),e}))},e}(De);var tn=function(){function t(t){this.eh=t}return t.prototype.next=function(){return this.eh+=2,this.eh},t.sh=function(){return new t(0)},t.ih=function(){return new t(-1)},t}(),en=function(){function t(t,e){this.nh=t,this.serializer=e}return t.prototype.rh=function(t){var e=this;return this.hh(t).next((function(n){var r=new tn(n.highestTargetId);return n.highestTargetId=r.next(),e.oh(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ah=function(t){return this.hh(t).next((function(t){return w.v(new _(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.uh=function(t){return on(t._h)},t.prototype.lh=function(t,e,n){var r=this;return this.hh(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.C()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.oh(t,i)}))},t.prototype.dh=function(t,e){var n=this;return this.fh(t,e).next((function(){return n.hh(t).next((function(r){return r.targetCount+=1,n.Th(e,r),n.oh(t,r)}))}))},t.prototype.Eh=function(t,e){return this.fh(t,e)},t.prototype.Ih=function(t,e){var n=this;return this.wh(t,e.targetId).next((function(){return nn(t).delete(e.targetId)})).next((function(){return n.hh(t)})).next((function(e){return be(e.targetCount>0),e.targetCount-=1,n.oh(t,e)}))},t.prototype.Rh=function(t,e,n){var r=this,i=0,o=[];return nn(t).Br((function(s,a){var u=r.serializer.mh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ih(t,u)))})).next((function(){return Pe.vn(o)})).next((function(){return i}))},t.prototype.js=function(t,e){var n=this;return nn(t).Br((function(t,r){var i=n.serializer.mh(r);e(i)}))},t.prototype.hh=function(t){return rn(t._h)},t.prototype.oh=function(t,e){return(n=t,ln.Cr(n,Rn.store)).put(Rn.key,e);var n},t.prototype.fh=function(t,e){return nn(t).put(this.serializer.Ah(e))},t.prototype.Th=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ph=function(t){return this.hh(t).next((function(t){return t.targetCount}))},t.prototype.Vh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return nn(t).Br({range:i,index:Pn.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.mh(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.gh=function(t,e,n){var r=this,i=[],o=sn(t);return e.forEach((function(e){var s=qe(e.path);i.push(o.put(new Dn(n,s))),i.push(r.nh.ph(t,n,e))})),Pe.vn(i)},t.prototype.yh=function(t,e,n){var r=this,i=sn(t);return Pe.forEach(e,(function(e){var o=qe(e.path);return Pe.vn([i.delete([n,o]),r.nh.bh(t,n,e)])}))},t.prototype.wh=function(t,e){var n=sn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.vh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=sn(t),i=Kt();return r.Br({range:n,Sh:!0},(function(t,e,n){var r=He(t[1]),o=new S(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Dh=function(t,e){var n=qe(e.path),r=IDBKeyRange.bound([n],[Te(n)],!1,!0),i=0;return sn(t).Br({index:Dn.documentTargetsIndex,Sh:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.si=function(t,e){var n=this;return nn(t).get(e).next((function(t){return t?n.serializer.mh(t):null}))},t}();function nn(t){return ln.Cr(t,Pn.store)}function rn(t){return Ln.Cr(t,Rn.store).get(Rn.key).next((function(t){return be(null!==t),t}))}function on(t){return rn(t).next((function(t){return t.highestListenSequenceNumber}))}function sn(t){return ln.Cr(t,Dn.store)}var an=function(){function t(t){this.Ch=t}return t.prototype.Qr=function(t){if(t.document)return this.Ch.Ai(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=S.st(t.noDocument.path),n=this.Fh(t.noDocument.readTime);return new _t(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=S.st(t.unknownDocument.path),i=this.Fh(t.unknownDocument.version);return new wt(r,i)}return we()},t.prototype.th=function(t,e){var n=this.Ur(e),r=t.key.path.M().W();if(t instanceof mt){var i=this.Ch.mi(t);return new On(null,null,i,t.hasCommittedMutations,n,r)}if(t instanceof _t){var o=t.key.path.W(),s=this.Nh(t.version),a=t.hasCommittedMutations;return new On(null,new An(o,s),null,a,n,r)}if(t instanceof wt){var u=t.key.path.W(),c=this.Nh(t.version);return new On(new xn(u,c),null,null,!0,n,r)}return we()},t.prototype.Ur=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},t.prototype.Kr=function(t){var e=new _(t[0],t[1]);return w.v(e)},t.prototype.Nh=function(t){var e=t.C();return new Cn(e.seconds,e.nanoseconds)},t.prototype.Fh=function(t){var e=new _(t.seconds,t.nanoseconds);return w.v(e)},t.prototype.$h=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Ch.vi(t)})),i=e.mutations.map((function(t){return n.Ch.vi(t)}));return new Tn(t,e.batchId,e.Tn.toMillis(),r,i)},t.prototype.kh=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Ch.Fi(t)})),r=t.mutations.map((function(t){return e.Ch.Fi(t)})),i=_.fromMillis(t.localWriteTimeMs);return new Oe(t.batchId,i,n,r)},t.prototype.mh=function(t){var e,n=this.Fh(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Fh(t.lastLimboFreeSnapshotVersion):w.min();return e=void 0!==t.query.documents?this.Ch.xi(t.query):this.Ch.Wi(t.query),new Nt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,x.fromBase64String(t.resumeToken))},t.prototype.Ah=function(t){var e,n=this.Nh(t.Ee),r=this.Nh(t.lastLimboFreeSnapshotVersion);e=t.target.Ot()?this.Ch.Oi(t.target):this.Ch.Bi(t.target);var i=t.resumeToken.toBase64();return new Pn(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),un="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this)._h=e,r.Mh=n,r}return i.__extends(e,t),e}(je),ln=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Tr=s,this.Lh=u,this.Oh=null,this.xh=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bh=null,this.inForeground=!1,this.qh=null,this.Uh=null,this.Qh=Number.NEGATIVE_INFINITY,this.Wh=function(t){return Promise.resolve()},!t.jh())throw new p(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.nh=new pn(this,o),this.Kh=n+t.Gh,this.serializer=new an(a),this.document=i.document,this.zh=new en(this.nh,this.serializer),this.jn=new Qe,this.Qn=new Ye(this.serializer,this.jn),!i.window||!i.window.localStorage)throw new p(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Hh=this.window.localStorage}return t.Cr=function(t,e){if(t instanceof cn)return Ln.Cr(t._h,e);throw we()},t.prototype.start=function(){var t=this;return Ln.Yh(this.Kh,bn,new kn(this.serializer)).then((function(e){return t.Jh=e,t.Xh()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new p(f.FAILED_PRECONDITION,un);return t.Zh(),t.to(),t.eo(),t.Jh.runTransaction("readonly",[Rn.store],(function(t){return on(t)}))})).then((function(e){t.Oh=new Fe(e,t.Lh)})).then((function(){t.xh=!0})).catch((function(e){return t.Jh&&t.Jh.close(),Promise.reject(e)}))},t.prototype.so=function(t){var e=this;return this.Wh=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.io?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.no=function(t){var e=this;this.Jh.ro((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ho=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.oo((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.io?[4,this.Xh()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Xh=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return fn(e).put(new Mn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ao(e).next((function(e){e||(t.isPrimary=!1,t.Tr.oo((function(){return t.Wh(!1)})))}))})).next((function(){return t.uo(e)})).next((function(n){return t.isPrimary&&!n?t.co(e).next((function(){return!1})):!!n&&t._o(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization){if(Bn(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;throw e}return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Tr.oo((function(){return t.Wh(e)})),t.isPrimary=e}))},t.prototype.ao=function(t){var e=this;return hn(t).get(En.key).next((function(t){return Pe.resolve(e.lo(t))}))},t.prototype.do=function(t){return fn(t).delete(this.clientId)},t.prototype.fo=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.To(this.Qh,18e5)?[3,2]:(this.Qh=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.Cr(n,Mn.store);return r.Dr().next((function(t){var n=e.Eo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Pe.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Io(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.eo=function(){var t=this;this.Uh=this.Tr.yr("client_metadata_refresh",4e3,(function(){return t.Xh().then((function(){return t.fo()})).then((function(){return t.eo()}))}))},t.prototype.lo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uo=function(t){var e=this;return hn(t).get(En.key).next((function(n){if(null!==n&&e.To(n.leaseTimestampMs,5e3)&&!e.wo(n.ownerId)){if(e.lo(n)&&e.networkEnabled)return!0;if(!e.lo(n)){if(!n.allowTabSynchronization)throw new p(f.FAILED_PRECONDITION,un);return!1}}return!(!e.networkEnabled||!e.inForeground)||fn(t).Dr().next((function(t){return void 0===e.Eo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ge("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ro=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.xh=!1,this.mo(),this.Uh&&(this.Uh.cancel(),this.Uh=null),this.Ao(),this.Po(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.co(e).next((function(){return t.do(e)}))})).catch((function(t){ge("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Jh.close(),this.Vo(),[2]}}))}))},t.prototype.Eo=function(t,e){var n=this;return t.filter((function(t){return n.To(t.updateTimeMs,e)&&!n.wo(t.clientId)}))},t.prototype.po=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return fn(e).Dr().next((function(e){return t.Eo(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t.jh()?[4,Ln.delete(e+t.Gh)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"io",{get:function(){return this.xh},enumerable:!0,configurable:!0}),t.prototype.yo=function(t){return vn.bo(t,this.serializer,this.jn,this.nh)},t.prototype.vo=function(){return this.zh},t.prototype.So=function(){return this.Qn},t.prototype.Do=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ge("IndexedDbPersistence","Starting transaction:",t),this.Jh.runTransaction("readonly"===e?"readonly":"readwrite",Fn,(function(o){return r=new cn(o,i.Oh?i.Oh.next():Fe.dr),"readwrite-primary"===e?i.ao(r).next((function(t){return!!t||i.uo(r)})).next((function(e){if(!e)throw me("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Tr.oo((function(){return i.Wh(!1)})),new p(f.FAILED_PRECONDITION,Re);return n(r)})).next((function(t){return i._o(r).next((function(){return t}))})):i.Co(r).next((function(){return n(r)}))})).then((function(t){return r.Un(),t}))},t.prototype.Co=function(t){var e=this;return hn(t).get(En.key).next((function(t){if(null!==t&&e.To(t.leaseTimestampMs,5e3)&&!e.wo(t.ownerId)&&!e.lo(t)&&(!e.allowTabSynchronization||!t.allowTabSynchronization))throw new p(f.FAILED_PRECONDITION,un)}))},t.prototype._o=function(t){var e=new En(this.clientId,this.allowTabSynchronization,Date.now());return hn(t).put(En.key,e)},t.jh=function(){return Ln.jh()},t.Fo=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.co=function(t){var e=this,n=hn(t);return n.get(En.key).next((function(t){return e.lo(t)?(ge("IndexedDbPersistence","Releasing primary lease."),n.delete(En.key)):Pe.resolve()}))},t.prototype.To=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(me("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Zh=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qh=function(){t.Tr.oo((function(){return t.inForeground="visible"===t.document.visibilityState,t.Xh()}))},this.document.addEventListener("visibilitychange",this.qh),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ao=function(){this.qh&&(this.document.removeEventListener("visibilitychange",this.qh),this.qh=null)},t.prototype.to=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Bh=function(){t.mo(),t.Tr.oo((function(){return t.Ro()}))},this.window.addEventListener("unload",this.Bh))},t.prototype.Po=function(){this.Bh&&(this.window.removeEventListener("unload",this.Bh),this.Bh=null)},t.prototype.wo=function(t){try{var e=null!==this.Hh.getItem(this.Io(t));return ge("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return me("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mo=function(){try{this.Hh.setItem(this.Io(this.clientId),String(Date.now()))}catch(t){me("Failed to set zombie client id.",t)}},t.prototype.Vo=function(){try{this.Hh.removeItem(this.Io(this.clientId))}catch(t){}},t.prototype.Io=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function hn(t){return ln.Cr(t,En.store)}function fn(t){return ln.Cr(t,Mn.store)}ln.Gh="main";var pn=function(){function t(t,e){this.db=t,this.No=new nr(this,e)}return t.prototype.$o=function(t){var e=this.ko(t);return this.db.vo().Ph(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ko=function(t){var e=0;return this.Mo(t,(function(t){e++})).next((function(){return e}))},t.prototype.js=function(t,e){return this.db.vo().js(t,e)},t.prototype.Mo=function(t,e){return this.Lo(t,(function(t,n){return e(n)}))},t.prototype.ph=function(t,e,n){return dn(t,n)},t.prototype.bh=function(t,e,n){return dn(t,n)},t.prototype.Rh=function(t,e,n){return this.db.vo().Rh(t,e,n)},t.prototype.Oo=function(t,e){return dn(t,e)},t.prototype.xo=function(t,e){return function(t,e){var n=!1;return wn(t).Bo((function(r){return yn(t,r,e).next((function(t){return t&&(n=!0),Pe.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.qo=function(t,e){var n=this,r=this.db.So().zr(),i=[],o=0;return this.Lo(t,(function(s,a){if(a<=e){var u=n.xo(t,s).next((function(e){if(!e)return o++,r.Mn(t,s).next((function(){return r.kn(s),sn(t).delete([0,qe(s.path)])}))}));i.push(u)}})).next((function(){return Pe.vn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Ie(t.Mh);return this.db.vo().Eh(t,n)},t.prototype.Uo=function(t,e){return dn(t,e)},t.prototype.Lo=function(t,e){var n,r=sn(t),i=Fe.dr;return r.Br({index:Dn.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Fe.dr&&e(new S(He(n)),i),i=s,n=o):i=Fe.dr})).next((function(){i!==Fe.dr&&e(new S(He(n)),i)}))},t.prototype.Qo=function(t){return this.db.So().Jr(t)},t}();function dn(t,e){return sn(t).put(function(t,e){return new Dn(0,qe(t.path),e)}(e,t.Mh))}var vn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.jn=n,this.nh=r,this.Wo={}}return t.bo=function(e,n,r,i){return be(""!==e.uid),new t(e.t()?e.uid:"",n,r,i)},t.prototype.jo=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mn(t).Br({index:Tn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ko=function(t,e,n){return this.Go(t).next((function(e){return e.lastStreamToken=n.toBase64(),wn(t).put(e)}))},t.prototype.zo=function(t){return this.Go(t).next((function(t){return x.fromBase64String(t.lastStreamToken)}))},t.prototype.Ho=function(t,e){return this.Go(t).next((function(n){return n.lastStreamToken=e.toBase64(),wn(t).put(n)}))},t.prototype.Yo=function(t,e,n,r){var i=this,o=_n(t),s=mn(t);return s.add({}).next((function(a){be("number"==typeof a);for(var u=new Oe(a,e,n,r),c=i.serializer.$h(i.userId,u),l=[],h=new Ft((function(t,e){return Ee(t.j(),e.j())})),f=0,p=r;f<p.length;f++){var d=p[f],v=In.key(i.userId,d.key.path,a);h=h.add(d.key.path.M()),l.push(s.put(c)),l.push(o.put(v,In.PLACEHOLDER))}return h.forEach((function(e){l.push(i.jn.vr(t,e))})),t.qn((function(){i.Wo[a]=u.keys()})),Pe.vn(l).next((function(){return u}))}))},t.prototype.Jo=function(t,e){var n=this;return mn(t).get(e).next((function(t){return t?(be(t.userId===n.userId),n.serializer.kh(t)):null}))},t.prototype.Xo=function(t,e){var n=this;return this.Wo[e]?Pe.resolve(this.Wo[e]):this.Jo(t,e).next((function(t){if(t){var r=t.keys();return n.Wo[e]=r,r}return null}))},t.prototype.Zo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return mn(t).Br({index:Tn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(be(e.batchId>=r),o=n.serializer.kh(e)),i.done()})).next((function(){return o}))},t.prototype.ta=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mn(t).Br({index:Tn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.ea=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mn(t).Dr(Tn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.kh(t)}))}))},t.prototype.Gn=function(t,e){var n=this,r=In.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return _n(t).Br({range:i},(function(r,i,s){var a=r[0],u=r[2],c=He(r[1]);if(a===n.userId&&e.path.isEqual(c))return mn(t).get(u).next((function(t){if(!t)throw we();be(t.userId===n.userId),o.push(n.serializer.kh(t))}));s.done()})).next((function(){return o}))},t.prototype.Xn=function(t,e){var n=this,r=new Ft(Ee),i=[];return e.forEach((function(e){var o=In.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=_n(t).Br({range:s},(function(t,i,o){var s=t[0],a=t[2],u=He(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Pe.vn(i).next((function(){return n.sa(t,r)}))},t.prototype.nr=function(t,e){var n=this,r=e.path,i=r.length+1,o=In.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ft(Ee);return _n(t).Br({range:s},(function(t,e,o){var s=t[0],u=t[2],c=He(t[1]);s===n.userId&&r.q(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.sa(t,a)}))},t.prototype.sa=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(mn(t).get(e).next((function(t){if(null===t)throw we();be(t.userId===n.userId),r.push(n.serializer.kh(t))})))})),Pe.vn(i).next((function(){return r}))},t.prototype.ia=function(t,e){var n=this;return gn(t._h,this.userId,e).next((function(r){return t.qn((function(){n.na(e.batchId)})),Pe.forEach(r,(function(e){return n.nh.Oo(t,e)}))}))},t.prototype.na=function(t){delete this.Wo[t]},t.prototype.ra=function(t){var e=this;return this.jo(t).next((function(n){if(!n)return Pe.resolve();var r=IDBKeyRange.lowerBound(In.prefixForUser(e.userId)),i=[];return _n(t).Br({range:r},(function(t,n,r){if(t[0]===e.userId){var o=He(t[1]);i.push(o)}else r.done()})).next((function(){be(0===i.length)}))}))},t.prototype.Dh=function(t,e){return yn(t,this.userId,e)},t.prototype.Go=function(t){var e=this;return wn(t).get(this.userId).next((function(t){return t||new Sn(e.userId,-1,"")}))},t}();function yn(t,e,n){var r=In.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return _n(t).Br({range:o,Sh:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function gn(t,e,n){var r=t.store(Tn.store),i=t.store(In.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Br({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){be(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=In.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Pe.vn(o).next((function(){return c}))}function mn(t){return ln.Cr(t,Tn.store)}function _n(t){return ln.Cr(t,In.store)}function wn(t){return ln.Cr(t,Sn.store)}var bn=10,kn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;be(n<r&&n>=0&&r<=bn);var o=new zn(e);n<1&&r>=1&&(function(t){t.createObjectStore(En.store)}(t),function(t){t.createObjectStore(Sn.store,{keyPath:Sn.keyPath}),t.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(In.store)}(t),Vn(t),function(t){t.createObjectStore(On.store)}(t));var s=Pe.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Dn.store),t.deleteObjectStore(Pn.store),t.deleteObjectStore(Rn.store)}(t),Vn(t)),s=s.next((function(){return function(t){var e=t.store(Rn.store),n=new Rn(0,0,w.min().C(),0);return e.put(Rn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Tn.store).Dr().next((function(n){t.deleteObjectStore(Tn.store),t.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0});var r=e.store(Tn.store),i=n.map((function(t){return r.put(t)}));return Pe.vn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Mn.store,{keyPath:Mn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Nn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(On.store);e.createIndex(On.readTimeIndex,On.readTimeIndexPath,{unique:!1}),e.createIndex(On.collectionReadTimeIndex,On.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(On.store).Br((function(t,n){e+=Je(n)})).next((function(){var n=new Nn(e);return t.store(Nn.store).put(Nn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Sn.store),r=t.store(Tn.store);return n.Dr().next((function(n){return Pe.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Dr(Tn.userMutationsIndex,i).next((function(r){return Pe.forEach(r,(function(r){be(r.userId===n.userId);var i=e.serializer.kh(r);return gn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Dn.store),n=t.store(On.store);return on(t).next((function(t){var r=[];return n.Br((function(n,i){var o=new k(n),s=function(t){return[0,qe(t)]}(o);r.push(e.get(s).next((function(n){return n?Pe.resolve():function(n){return e.put(new Dn(0,qe(n),t))}(o)})))})).next((function(){return Pe.vn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(jn.store,{keyPath:jn.keyPath});var n=e.store(jn.store),r=new We,i=function(t){if(r.add(t)){var e=t.O(),i=t.M();return n.put({collectionId:e,parent:qe(i)})}};return e.store(On.store).Br({Sh:!0},(function(t,e){var n=new k(t);return i(n.M())})).next((function(){return e.store(In.store).Br({Sh:!0},(function(t,e){var n=He(t[1]);return i(n.M())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Pn.store);return n.Br((function(t,r){var i=e.serializer.mh(r),o=e.serializer.Ah(i);return n.put(o)}))},t}(),Cn=function(t,e){this.seconds=t,this.nanoseconds=e},En=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};En.store="owner",En.key="owner";var Sn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Sn.store="mutationQueues",Sn.keyPath="userId";var Tn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Tn.store="mutations",Tn.keyPath="batchId",Tn.userMutationsIndex="userMutationsIndex",Tn.userMutationsKeyPath=["userId","batchId"];var In=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,qe(e)]},t.key=function(t,e,n){return[t,qe(e),n]},t}();In.store="documentMutations",In.PLACEHOLDER=new In;var An=function(t,e){this.path=t,this.readTime=e},xn=function(t,e){this.path=t,this.version=e},On=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};On.store="remoteDocuments",On.readTimeIndex="readTimeIndex",On.readTimeIndexPath="readTime",On.collectionReadTimeIndex="collectionReadTimeIndex",On.collectionReadTimeIndexPath=["parentPath","readTime"];var Nn=function(t){this.byteSize=t};Nn.store="remoteDocumentGlobal",Nn.key="remoteDocumentGlobalKey";var Pn=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Pn.store="targets",Pn.keyPath="targetId",Pn.queryTargetsIndexName="queryTargetsIndex",Pn.queryTargetsKeyPath=["canonicalId","targetId"];var Dn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Dn.store="targetDocuments",Dn.keyPath=["targetId","path"],Dn.documentTargetsIndex="documentTargetsIndex",Dn.documentTargetsKeyPath=["path","targetId"];var Rn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Rn.key="targetGlobalKey",Rn.store="targetGlobal";var jn=function(t,e){this.collectionId=t,this.parent=e};function Vn(t){t.createObjectStore(Dn.store,{keyPath:Dn.keyPath}).createIndex(Dn.documentTargetsIndex,Dn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pn.store,{keyPath:Pn.keyPath}).createIndex(Pn.queryTargetsIndexName,Pn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Rn.store)}jn.store="collectionParents",jn.keyPath=["collectionId","parent"];var Mn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mn.store="clientMetadata",Mn.keyPath="clientId";var Fn=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Sn.store,Tn.store,In.store,On.store,Pn.store,En.store,Rn.store,Dn.store],[Mn.store]),[Nn.store]),[jn.store]),Ln=function(){function t(e){this.db=e,12.2===t.ha(a.getUA())&&me("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Yh=function(e,n,r){return ge("SimpleDb","Opening database:",e),new Pe((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new p(f.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new p(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){ge("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,bn).next((function(){ge("SimpleDb","Database upgrade to version "+bn+" complete")}))}})).yn()},t.delete=function(t){return ge("SimpleDb","Removing database:",t),Gn(window.indexedDB.deleteDatabase(t)).yn()},t.jh=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.oa())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.ha(e),r=0<n&&n<10,i=t.aa(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.oa=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.ua)},t.Cr=function(t,e){return t.store(e)},t.ha=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.aa=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.ro=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,t=zn.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),Pe.reject(e)})).yn(),u={},s.catch((function(){})),[4,t.ca];case 2:return[2,(u.value=(i.sent(),s),u)];case 3:return ge("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Un=function(){function t(t){this._a=t,this.la=!1,this.da=null}return Object.defineProperty(t.prototype,"Pn",{get:function(){return this.la},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fa",{get:function(){return this.da},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this._a=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.la=!0},t.prototype.qr=function(t){this.da=t},t.prototype.delete=function(){return Gn(this._a.delete())},t}(),qn=function(t){function e(e){var n=this;return(n=t.call(this,f.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(p);function Bn(t){return"IndexedDbTransactionError"===t.name}var zn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Ta=new Le,this.transaction.oncomplete=function(){e.Ta.resolve()},this.transaction.onabort=function(){t.error?e.Ta.reject(new qn(t.error)):e.Ta.resolve()},this.transaction.onerror=function(t){var n=Qn(t.target.error);e.Ta.reject(new qn(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"ca",{get:function(){return this.Ta.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.Ta.reject(t),this.aborted||(ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hn(e)},t}(),Hn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ge("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Gn(n)},t.prototype.add=function(t){return ge("SimpleDb","ADD",this.store.name,t,t),Gn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Gn(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ge("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ge("SimpleDb","DELETE",this.store.name,t),Gn(this.store.delete(t))},t.prototype.count=function(){return ge("SimpleDb","COUNT",this.store.name),Gn(this.store.count())},t.prototype.Dr=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ea(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ia=function(t,e){ge("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Sh=!1;var r=this.cursor(n);return this.Ea(r,(function(t,e,n){return n.delete()}))},t.prototype.Br=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ea(r,e)},t.prototype.Bo=function(t){var e=this.cursor({});return new Pe((function(n,r){e.onerror=function(t){var e=Qn(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ea=function(t,e){var n=[];return new Pe((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Un(i),s=e(i.primaryKey,i.value,o);if(s instanceof Pe){var a=s.catch((function(t){return o.done(),Pe.reject(t)}));n.push(a)}o.Pn?r():null===o.fa?i.continue():i.continue(o.fa)}else r()}})).next((function(){return Pe.vn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Sh?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Gn(t){return new Pe((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qn(t.target.error);n(e)}}))}var Wn=!1;function Qn(t){var e=Ln.ha(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wn||(Wn=!0,setTimeout((function(){throw r}),0)),r}}return t}var Kn=function(){function t(t,e,n,r,i){this.wa=t,this.Er=e,this.Ra=n,this.op=r,this.ma=i,this.Aa=new Le,this.then=this.Aa.promise.then.bind(this.Aa.promise),this.catch=this.Aa.promise.catch.bind(this.Aa.promise),this.Aa.promise.catch((function(t){}))}return t.Pa=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Va=setTimeout((function(){return e.ga()}),t)},t.prototype.pa=function(){return this.ga()},t.prototype.cancel=function(t){null!==this.Va&&(this.clearTimeout(),this.Aa.reject(new p(f.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ga=function(){var t=this;this.wa.oo((function(){return null!==t.Va?(t.clearTimeout(),t.op().then((function(e){return t.Aa.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Va&&(this.ma(this),clearTimeout(this.Va),this.Va=null)},t}(),Yn=function(){function t(){var t=this;this.ya=Promise.resolve(),this.ba=Promise.resolve(),this.va=!1,this.Sa=[],this.Da=null,this.Ca=!1,this.Fa=[],this.Na=new Ue(this,"async_queue_retry"),this.$a=function(){t.ka("async_queue_retry")};var e=pe.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.$a)}return Object.defineProperty(t.prototype,"Ma",{get:function(){return this.va},enumerable:!0,configurable:!0}),t.prototype.oo=function(t){this.enqueue(t)},t.prototype.La=function(t){this.Oa(),this.xa(t)},t.prototype.Ba=function(t){return this.Oa(),this.xa(t)},t.prototype.qa=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.Oa(),this.va?[3,2]:(this.va=!0,(e=pe.nt().window)&&e.removeEventListener("visibilitychange",this.$a),[4,this.Ba(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Oa(),this.va?new Promise((function(t){})):this.xa(t)},t.prototype.Ua=function(t){var e=this;this.Oa(),this.va||(this.ba=this.ba.then((function(){var n=new Le;return e.oo((function r(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.Na.reset(),[3,3];case 2:if(!Bn(e=i.sent()))throw n.resolve(),e;return ge("AsyncQueue","Operation failed with retryable error: "+e),this.Na.gr(r),[3,3];case 3:return[2]}}))}))})),n.promise})))},t.prototype.xa=function(t){var e=this,n=this.ya.then((function(){return e.Ca=!0,t().catch((function(t){throw e.Da=t,e.Ca=!1,me("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.Ca=!1,t}))}));return this.ya=n,n},t.prototype.yr=function(t,e,n){var r=this;this.Oa(),this.Fa.indexOf(t)>-1&&(e=0);var i=Kn.Pa(this,t,e,n,(function(t){return r.Qa(t)}));return this.Sa.push(i),i},t.prototype.Oa=function(){this.Da&&we()},t.prototype.Wa=function(){},t.prototype.ja=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ya];case 1:e.sent(),e.label=2;case 2:if(t!==this.ya)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ka=function(t){for(var e=0,n=this.Sa;e<n.length;e++)if(n[e].Er===t)return!0;return!1},t.prototype.ka=function(t){var e=this;return this.ja().then((function(){e.Sa.sort((function(t,e){return t.Ra-e.Ra}));for(var n=0,r=e.Sa;n<r.length;n++){var i=r[n];if(i.pa(),"all"!==t&&i.Er===t)break}return e.ja()}))},t.prototype.Ga=function(t){this.Fa.push(t)},t.prototype.Qa=function(t){var e=this.Sa.indexOf(t);this.Sa.splice(e,1)},t}();function Zn(t,e){if(me("AsyncQueue",e+": "+t),Bn(t))return new p(f.UNAVAILABLE,e+": "+t);throw t}function $n(t,e){var n=t[1],r=e[1],i=Ee(t[0],e[0]);return 0===i?Ee(n,r):i}var Xn=function(){function t(t){this.za=t,this.buffer=new Ft($n),this.Ha=0}return t.prototype.Ya=function(){return++this.Ha},t.prototype.Ja=function(t){var e=[t,this.Ya()];if(this.buffer.size<this.za)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$n(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Jn={Xa:!1,Za:0,tu:0,eu:0},tr=function(){function t(t,e,n){this.su=t,this.iu=e,this.nu=n}return t.ru=function(e){return new t(e,t.hu,t.ou)},t}();tr.au=-1,tr.uu=1048576,tr.cu=41943040,tr.hu=10,tr.ou=1e3,tr._u=new tr(tr.cu,tr.hu,tr.ou),tr.DISABLED=new tr(tr.au,0,0);var er=function(){function t(t,e){this.No=t,this.wa=e,this.lu=!1,this.du=null}return t.prototype.start=function(t){this.No.fu.su!==tr.au&&this.Tu(t)},t.prototype.stop=function(){this.du&&(this.du.cancel(),this.du=null)},Object.defineProperty(t.prototype,"io",{get:function(){return null!==this.du},enumerable:!0,configurable:!0}),t.prototype.Tu=function(t){var e=this,n=this.lu?3e5:6e4;ge("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.du=this.wa.yr("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.du=null,this.lu=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eu(this.No)];case 2:return n.sent(),[3,7];case 3:return Bn(e=n.sent())?(ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,or(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tu(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),nr=function(){function t(t,e){this.Iu=t,this.fu=e}return t.prototype.wu=function(t,e){return this.Iu.$o(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Ru=function(t,e){var n=this;if(0===e)return Pe.resolve(Fe.dr);var r=new Xn(e);return this.Iu.js(t,(function(t){return r.Ja(t.sequenceNumber)})).next((function(){return n.Iu.Mo(t,(function(t){return r.Ja(t)}))})).next((function(){return r.maxValue}))},t.prototype.Rh=function(t,e,n){return this.Iu.Rh(t,e,n)},t.prototype.qo=function(t,e){return this.Iu.qo(t,e)},t.prototype.mu=function(t,e){var n=this;return this.fu.su===tr.au?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(Jn)):this.Qo(t).next((function(r){return r<n.fu.su?(ge("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.fu.su),Jn):n.Au(t,e)}))},t.prototype.Qo=function(t){return this.Iu.Qo(t)},t.prototype.Au=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.wu(t,this.fu.iu).next((function(e){return e>l.fu.nu?(ge("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.fu.nu+" from "+e),r=l.fu.nu):r=e,o=Date.now(),l.Ru(t,r)})).next((function(r){return n=r,a=Date.now(),l.Rh(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.qo(t,n)})).next((function(t){return c=Date.now(),ve()<=s.LogLevel.DEBUG&&ge("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Pe.resolve({Xa:!0,Za:r,tu:i,eu:t})}))},t}(),rr=function(){function t(t,e,n){this.persistence=t,this.Pu=e,this.Vu=new jt(Ee),this.gu=new xe((function(t){return t.canonicalId()})),this.pu=w.min(),this.Wn=t.yo(n),this.yu=t.So(),this.zh=t.vo(),this.bu=new Ve(this.yu,this.Wn,this.persistence.Do()),this.Pu.vu(this.bu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Su=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.Wn,n=this.bu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Wn.ea(r).next((function(s){return i=s,e=o.persistence.yo(t),n=new Ve(o.yu,e,o.persistence.Do()),e.ea(r)})).next((function(t){for(var e=[],o=[],s=Kt(),a=0,u=i;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,p=t;f<p.length;f++){var d=p[f];o.push(d.batchId);for(var v=0,y=d.mutations;v<y.length;v++)s=s.add(y[v].key)}return n.Yn(r,s).next((function(t){return{Du:t,Cu:e,Fu:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Wn=e,this.bu=n,this.Pu.vu(this.bu),r)]}}))}))},t.prototype.Nu=function(t){var e,n=this,r=_.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Kt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.bu.Yn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=c.Pt(e.get(c.key));null!=l&&s.push(new ut(c.key,l,dt(l.proto.mapValue),ot.exists(!0)))}return n.Wn.Yo(o,r,s,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Dn:n}}))},t.prototype.Ko=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.yu.zr({Yr:!0});return e.Wn.Ko(n,t.batch,t.streamToken).next((function(){return e.$u(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Wn.ra(n)})).next((function(){return e.bu.Yn(n,r)}))}))},t.prototype.ku=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Wn.Jo(n,t).next((function(t){return be(null!==t),r=t.keys(),e.Wn.ia(n,t)})).next((function(){return e.Wn.ra(n)})).next((function(){return e.bu.Yn(n,r)}))}))},t.prototype.ta=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Wn.ta(e)}))},t.prototype.zo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Wn.zo(e)}))},t.prototype.Ho=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Wn.Ho(n,t)}))},t.prototype.ah=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.zh.ah(e)}))},t.prototype.Mu=function(e){var n=this,r=e.Ee,i=this.Vu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.yu.zr({Yr:!0});i=n.Vu;var a=[];e.as.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.zh.yh(o,e.Is,s).next((function(){return n.zh.gh(o,e.Ts,s)})));var c=e.resumeToken;if(c.rt()>0){var l=u.we(c,r).Ie(o.Mh);i=i.me(s,l),t.Lu(u,l,e)&&a.push(n.zh.Eh(o,l))}}}));var u=qt(),c=Kt();if(e.cs.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.cs.forEach((function(i,c){var l=t.get(i);c instanceof _t&&c.version.isEqual(w.min())?(s.kn(i,r),u=u.me(i,c)):null==l||c.version.S(l.version)>0||0===c.version.S(l.version)&&l.hasPendingWrites?(s.Nn(c,r),u=u.me(i,c)):ge("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e._s.has(i)&&a.push(n.persistence.nh.Uo(o,i))}))}))),!r.isEqual(w.min())){var l=n.zh.ah(o).next((function(t){return n.zh.lh(o,o.Mh,r)}));a.push(l)}return Pe.vn(a).next((function(){return s.apply(o)})).next((function(){return n.bu.Jn(o,u)}))})).then((function(t){return n.Vu=i,t}))},t.Lu=function(t,e,n){return be(e.resumeToken.rt()>0),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.Ou||n.Ts.size+n.Es.size+n.Is.size>0},t.prototype.xu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Pe.forEach(t,(function(t){return Pe.forEach(t.hr,(function(n){return c.persistence.nh.ph(e,t.targetId,n)})).next((function(){return Pe.forEach(t.or,(function(n){return c.persistence.nh.bh(e,t.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!Bn(e=i.sent()))throw e;return ge("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)s=(o=r[n]).targetId,o.fromCache||(a=this.Vu.get(s),u=a.Re(a.Ee),this.Vu=this.Vu.me(s,u));return[2]}}))}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Wn.Zo(n,t)}))},t.prototype.qu=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.bu.Kn(n,t)}))},t.prototype.Uu=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.zh.Vh(n,t).next((function(i){return i?Pe.resolve(r=i):e.zh.rh(n).next((function(i){return r=new Nt(t,i,0,n.Mh),e.zh.dh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Vu.get(n.targetId)&&(e.Vu=e.Vu.me(n.targetId,n),e.gu.set(t,n.targetId)),n}))},t.prototype.Vh=function(t,e){var n=this.gu.get(e);return void 0!==n?Pe.resolve(this.Vu.get(n)):this.zh.Vh(t,e)},t.prototype.Qu=function(t,e){var n=this,r=this.Vu.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(t){return e?Pe.resolve():n.persistence.nh.removeTarget(t,r)})).then((function(){n.Vu=n.Vu.remove(t),n.gu.delete(r.target)}))},t.prototype.Wu=function(t,e){var n=this,r=w.min(),i=Kt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Vh(o,t.ee()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.zh.vh(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Pu.Zn(o,t,e?r:w.min(),e?i:Kt())})).next((function(t){return{documents:t,ju:i}}))}))},t.prototype.$u=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Pe.resolve();return o.forEach((function(r){s=s.next((function(){return n.Mn(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);be(null!==s),(!o||o.version.S(s)<0)&&(o=i.at(r,o,e))&&n.Nn(o,e.wn)}))})),s.next((function(){return r.Wn.ia(t,i)}))},t.prototype.Eu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.mu(n,e.Vu)}))},t}();rr.Ou=3e8;var ir=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.Wn=e.yo(r),i.yu=e.So(),i.zh=e.vo(),i}return i.__extends(e,t),e.prototype.start=function(){return this.Ku()},e.prototype.Gu=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Wn.Xo(n,t).next((function(t){return t?e.bu.Yn(n,t):Pe.resolve(null)}))}))},e.prototype.zu=function(t){this.Wn.na(t)},e.prototype.ho=function(t){this.persistence.ho(t)},e.prototype.po=function(){return this.persistence.po()},e.prototype.Hu=function(t){var e=this,n=this.Vu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.zh.si(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Wr=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.yu.Wr(e,t.pu)})).then((function(e){var n=e.jr;return t.pu=e.readTime,n}))},e.prototype.Ku=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.yu.Gr(t)}))];case 1:return t.pu=n.sent(),[2]}}))}))},e}(rr);function or(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==Re)throw t;return ge("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var sr=function(){function t(){this.Yu=new Ft(ar.Ju),this.Xu=new Ft(ar.Zu)}return t.prototype.B=function(){return this.Yu.B()},t.prototype.ph=function(t,e){var n=new ar(t,e);this.Yu=this.Yu.add(n),this.Xu=this.Xu.add(n)},t.prototype.tc=function(t,e){var n=this;t.forEach((function(t){return n.ph(t,e)}))},t.prototype.bh=function(t,e){this.ec(new ar(t,e))},t.prototype.sc=function(t,e){var n=this;t.forEach((function(t){return n.bh(t,e)}))},t.prototype.ic=function(t){var e=this,n=S.EMPTY,r=new ar(n,t),i=new ar(n,t+1),o=[];return this.Xu.Ke([r,i],(function(t){e.ec(t),o.push(t.key)})),o},t.prototype.nc=function(){var t=this;this.Yu.forEach((function(e){return t.ec(e)}))},t.prototype.ec=function(t){this.Yu=this.Yu.delete(t),this.Xu=this.Xu.delete(t)},t.prototype.rc=function(t){var e=S.EMPTY,n=new ar(e,t),r=new ar(e,t+1),i=Kt();return this.Xu.Ke([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Dh=function(t){var e=new ar(t,0),n=this.Yu.ze(e);return null!==n&&t.isEqual(n.key)},t}(),ar=function(){function t(t,e){this.key=t,this.hc=e}return t.Ju=function(t,e){return S.N(t.key,e.key)||Ee(t.hc,e.hc)},t.Zu=function(t,e){return Ee(t.hc,e.hc)||S.N(t.key,e.key)},t}();function ur(t,e){if(0!==e.length)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Sr(e.length,"argument")+".")}function cr(t,e,n){if(e.length!==n)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires "+Sr(n,"argument")+", but was called with "+Sr(e.length,"argument")+".")}function lr(t,e,n){if(e.length<n)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Sr(n,"argument")+", but was called with "+Sr(e.length,"argument")+".")}function hr(t,e,n,r){if(e.length<n||e.length>r)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Sr(e.length,"argument")+".")}function fr(t,e,n,r){gr(t,e,Er(n)+" argument",r)}function pr(t,e,n,r){void 0!==r&&fr(t,e,n,r)}function dr(t,e,n,r){gr(t,e,n+" option",r)}function vr(t,e,n,r){void 0!==r&&dr(t,e,n,r)}function yr(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(_r(u))}var c=_r(r);throw new p(f.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function gr(t,e,n,r){if(!("object"===e?mr(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=_r(r);throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function mr(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function _r(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":we()}function wr(t,e,n){if(void 0===n)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Er(e)+" argument, but it was undefined.")}function br(t,e,n){I(e,(function(e,r){if(n.indexOf(e)<0)throw new p(f.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function kr(t,e,n,r){var i=_r(r);return new p(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+Er(n)+" argument to be a "+e+", but it was: "+i)}function Cr(t,e,n){if(n<=0)throw new p(f.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+Er(e)+" argument to be a positive number, but it was: "+n+".")}function Er(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Sr(t,e){return t+" "+e+(1===t?"":"s")}function Tr(){if("undefined"==typeof Uint8Array)throw new p(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ir(){if(!pe.nt().oc)throw new p(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ar=function(){function t(t){Ir(),this.ac=t}return t.fromBase64String=function(e){cr("Blob.fromBase64String",arguments,1),fr("Blob.fromBase64String","string",1,e),Ir();try{return new t(x.fromBase64String(e))}catch(e){throw new p(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(cr("Blob.fromUint8Array",arguments,1),Tr(),!(e instanceof Uint8Array))throw kr("Blob.fromUint8Array","Uint8Array",1,e);return new t(x.fromUint8Array(e))},t.prototype.toBase64=function(){return cr("Blob.toBase64",arguments,0),Ir(),this.ac.toBase64()},t.prototype.toUint8Array=function(){return cr("Blob.toUint8Array",arguments,0),Tr(),this.ac.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ac.isEqual(t.ac)},t}(),xr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new p(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Sr(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(fr("FieldPath","string",n,t[n]),0===t[n].length)throw new p(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.uc=new E(t)}return t.documentId=function(){return t.cc},t.prototype.isEqual=function(e){if(!(e instanceof t))throw kr("isEqual","FieldPath",1,e);return this.uc.isEqual(e.uc)},t}();xr.cc=new xr(E.J().j());var Or=new RegExp("[~\\*/\\[\\]]"),Nr=function(t){this._c=t},Pr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return i.__extends(e,t),e.prototype.Di=function(t){if(2!==t.lc)throw t.dc(1===t.lc?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Nr),Dr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(e,t),e.prototype.Di=function(t){return new rt(t.path,$.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Nr),Rr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).fc=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=new Br({lc:3,methodName:this._c,Tc:!0},t.ii,t.serializer),n=this.fc.map((function(t){return Hr(t,e)})),r=new X(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nr),jr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).fc=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=new Br({lc:3,methodName:this._c,Tc:!0},t.ii,t.serializer),n=this.fc.map((function(t){return Hr(t,e)})),r=new J(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nr),Vr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).Ec=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=new Br({lc:3,methodName:this._c},t.ii,t.serializer),n=Hr(this.Ec,e),r=new tt(t.serializer,n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nr),Mr=function(){function t(t,e){if(cr("GeoPoint",arguments,2),fr("GeoPoint","number",1,t),fr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new p(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new p(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Ic=t,this.wc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Ic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.wc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Ic===t.Ic&&this.wc===t.wc},t.prototype.p=function(t){return Ee(this.Ic,t.Ic)||Ee(this.wc,t.wc)},t}(),Fr=/^__.*__$/,Lr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Rc=function(t,e){var n=[];return n.push(null!==this.Vt?new ut(t,this.data,this.Vt,e):new at(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}(),Ur=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Rc=function(t,e){var n=[new ut(t,this.data,this.Vt,e)];return this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}();function qr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var Br=function(){function t(t,e,n,r,i){this.settings=t,this.ii=e,this.serializer=n,void 0===r&&this.mc(),this.fieldTransforms=r||[],this.Vt=i||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lc",{get:function(){return this.settings.lc},enumerable:!0,configurable:!0}),t.prototype.Ac=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.ii,this.serializer,this.fieldTransforms,this.Vt)},t.prototype.Pc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ac({path:n,Tc:!1});return r.Vc(t),r},t.prototype.gc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ac({path:n,Tc:!1});return r.mc(),r},t.prototype.pc=function(t){return this.Ac({path:void 0,Tc:!0})},t.prototype.dc=function(t){var e=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new p(f.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.mc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Vc(this.path.get(t))},t.prototype.Vc=function(t){if(0===t.length)throw this.dc("Document fields must not be empty");if(qr(this.lc)&&Fr.test(t))throw this.dc('Document fields cannot begin and end with "__"')},t}(),zr=function(){function t(t,e){this.ii=t,this.serializer=e||pe.nt().yc(t)}return t.prototype.bc=function(t,e){var n=this.vc(0,t);Qr("Data must be an object, but it was:",n,e);var r=Gr(e,n);return new Lr(new ft(r),null,n.fieldTransforms)},t.prototype.Sc=function(t,e,n){var r=this.vc(2,t);Qr("Data must be an object, but it was:",r,e);var i,o,s=Gr(e,r);if(n){for(var a=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof xr)h=l.uc;else{if("string"!=typeof l)throw we();h=Yr(t,l)}if(!r.contains(h))throw new p(f.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Zr(a,h)||a.push(h)}i=new nt(a),o=r.fieldTransforms.filter((function(t){return i.dt(t.field)}))}else i=new nt(r.Vt),o=r.fieldTransforms;return new Lr(new ft(s),i,o)},t.prototype.Dc=function(t,e){var n=this.vc(1,t);Qr("Data must be an object, but it was:",n,e);var r=[],i=new pt;I(e,(function(e,o){var s=Yr(t,e),a=n.gc(s);if(o instanceof Pr)r.push(s);else{var u=Hr(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new nt(r);return new Ur(i.yt(),o,n.fieldTransforms)},t.prototype.Cc=function(t,e,n,r){var i=this.vc(1,t),o=[Kr(t,e)],s=[n];if(r.length%2!=0)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Kr(t,r[a])),s.push(r[a+1]);for(var u=[],c=new pt,l=o.length-1;l>=0;--l)if(!Zr(u,o[l])){var h=o[l],d=s[l],v=i.gc(h);if(d instanceof Pr)u.push(h);else{var y=Hr(d,v);null!=y&&(u.push(h),c.set(h,y))}}var g=new nt(u);return new Ur(c.yt(),g,i.fieldTransforms)},t.prototype.vc=function(t,e){return new Br({lc:t,methodName:e,path:E.G,Tc:!1},this.ii,this.serializer)},t.prototype.Fc=function(t,e,n){return void 0===n&&(n=!1),Hr(e,this.vc(n?4:3,t))},t}();function Hr(t,e){if(Wr(t))return Qr("Unsupported field value:",e,t),Gr(t,e);if(t instanceof Nr)return function(t,e){if(!qr(e.lc))throw e.dc(t._c+"() can only be used with update() and set()");if(null===e.path)throw e.dc(t._c+"() is not currently supported inside arrays");var n=t.Di(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.Tc&&4!==e.lc)throw e.dc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Hr(o[i],e.pc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof _){var r=new _(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof Mr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ar)return{bytesValue:e.serializer.ui(t)};if(t instanceof zi){var i=e.ii,o=t.firestore.Nc;if(!o.isEqual(i))throw e.dc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.$c.path,t.firestore.Nc)}}throw e.dc("Unsupported field value: "+_r(t))}(t,e)}function Gr(t,e){var n={};return A(t)?e.path&&e.path.length>0&&e.Vt.push(e.path):I(t,(function(t,r){var i=Hr(r,e.Pc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Wr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _||t instanceof Mr||t instanceof Ar||t instanceof zi||t instanceof Nr)}function Qr(t,e,n){if(!Wr(n)||!mr(n)){var r=_r(n);throw e.dc("an object"===r?t+" a custom object":t+" "+r)}}function Kr(t,e){if(e instanceof xr)return e.uc;if("string"==typeof e)return Yr(t,e);throw new p(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Yr(t,e){try{return function(t){if(t.search(Or)>=0)throw new p(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(xr.bind.apply(xr,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new p(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).uc}catch(e){var n=(r=e)instanceof Error?r.message:r.toString();throw new p(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var r}function Zr(t,e){return t.some((function(t){return t.isEqual(e)}))}var $r=function(){function t(t,e,n,r,i,o){this.Tr=t,this.kc=n,this.Mc=r,this.Lc=i,this.listener=o,this.state=0,this.Oc=0,this.xc=null,this.stream=null,this.Na=new Ue(t,e)}return t.prototype.Bc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.qc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Uc()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Bc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Qc=function(){this.state=0,this.Na.reset()},t.prototype.Wc=function(){var t=this;this.qc()&&null===this.xc&&(this.xc=this.Tr.yr(this.kc,6e4,(function(){return t.jc()})))},t.prototype.Kc=function(t){this.Gc(),this.stream.send(t)},t.prototype.jc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.qc()?[2,this.close(0)]:[2]}))}))},t.prototype.Gc=function(){this.xc&&(this.xc.cancel(),this.xc=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Gc(),this.Na.cancel(),this.Oc++,3!==t?this.Na.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(me(e.toString()),me("Using maximum backoff delay to prevent overloading the backend."),this.Na.Vr()):e&&e.code===f.UNAUTHENTICATED&&this.Lc._(),null!==this.stream&&(this.zc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Hc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.zc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Yc(this.Oc),n=this.Oc;this.Lc.getToken().then((function(e){t.Oc===n&&t.Jc(e)}),(function(n){e((function(){var e=new p(f.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Xc(e)}))}))},t.prototype.Jc=function(t){var e=this,n=this.Yc(this.Oc);this.stream=this.Zc(t),this.stream.t_((function(){n((function(){return e.state=2,e.listener.t_()}))})),this.stream.Hc((function(t){n((function(){return e.Xc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Uc=function(){var t=this;this.state=4,this.Na.gr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Xc=function(t){return ge("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Yc=function(t){var e=this;return function(n){e.Tr.oo((function(){return e.Oc===t?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Xr=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.Zc=function(t){return this.Mc.e_("Listen",t)},e.prototype.onMessage=function(t){this.Na.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.s_(e,n)},e.prototype.i_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Kc(e)},e.prototype.n_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.Kc(e)},e}($r),Jr=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.r_=!1,s.lastStreamToken=x.ht,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"h_",{get:function(){return this.r_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.r_=!1,t.prototype.start.call(this)},e.prototype.zc=function(){this.r_&&this.o_([])},e.prototype.Zc=function(t){return this.Mc.e_("Write",t)},e.prototype.onMessage=function(t){if(be(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.r_){this.Na.reset();var e=this.serializer.Li(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.a_(n,e)}return be(!t.writeResults||0===t.writeResults.length),this.r_=!0,this.listener.u_()},e.prototype.c_=function(){var t={};t.database=this.serializer.wi,this.Kc(t)},e.prototype.o_=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Kc(n)},e}($r),ti=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Mc=e,i.credentials=n,i.serializer=r,i}return i.__extends(e,t),e.prototype.l_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Mc.l_(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},e.prototype.d_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Mc.d_(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},e}((function(){this.__=void 0})),ei=function(){function t(t){this.f_=t,this.T_=Wt(),this.mutations=[],this.E_=!1,this.I_=null,this.w_=new Set}return t.prototype.R_=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.m_(),this.mutations.length>0)throw new p(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=ke(t),r={database:n.serializer.wi,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.d_("BatchGetDocuments",r)];case 1:return o=i.sent(),s=new Map,o.forEach((function(t){var e=n.serializer.gi(t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());be(!!e),a.push(e)})),a)]}}))}))}(this.f_,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof _t||t instanceof mt?n.A_(t):we()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.Rc(t,this.Rt(t))),this.w_.add(t)},t.prototype.update=function(t,e){try{this.write(e.Rc(t,this.P_(t)))}catch(t){this.I_=t}this.w_.add(t)},t.prototype.delete=function(t){this.write([new lt(t,this.Rt(t))]),this.w_.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.m_(),this.I_)throw this.I_;return t=this.T_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new ht(t,e.Rt(t)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=ke(t),r={database:n.serializer.wi,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.l_("Commit",r)];case 1:return o=i.sent(),[2,n.serializer.Li(o.writeResults,o.commitTime)]}}))}))}(this.f_,this.mutations)];case 1:return n.sent(),this.E_=!0,[2]}}))}))},t.prototype.A_=function(t){var e;if(t instanceof mt)e=t.version;else{if(!(t instanceof _t))throw we();e=w.min()}var n=this.T_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new p(f.ABORTED,"Document version changed between two reads.")}else this.T_=this.T_.me(t.key,e)},t.prototype.Rt=function(t){var e=this.T_.get(t);return!this.w_.has(t)&&e?ot.updateTime(e):ot.ft()},t.prototype.P_=function(t){var e=this.T_.get(t);if(!this.w_.has(t)&&e){if(e.isEqual(w.min()))throw new p(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ot.updateTime(e)}return ot.exists(!0)},t.prototype.write=function(t){this.m_(),this.mutations=this.mutations.concat(t)},t.prototype.m_=function(){},t}(),ni=function(){function t(t,e){this.wa=t,this.V_=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}return t.prototype.b_=function(){var t=this;0===this.g_&&(this.v_("Unknown"),this.p_=this.wa.yr("online_state_timeout",1e4,(function(){return t.p_=null,t.S_("Backend didn't respond within 10 seconds."),t.v_("Offline"),Promise.resolve()})))},t.prototype.D_=function(t){"Online"===this.state?this.v_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.S_("Connection failed 1 times. Most recent error: "+t.toString()),this.v_("Offline")))},t.prototype.set=function(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.v_(t)},t.prototype.v_=function(t){t!==this.state&&(this.state=t,this.V_(t))},t.prototype.S_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.y_?(me(e),this.y_=!1):ge("OnlineStateTracker",e)},t.prototype.C_=function(){null!==this.p_&&(this.p_.cancel(),this.p_=null)},t}(),ri=function(){function t(t,e,n,r,o){var s=this;this.F_=t,this.f_=e,this.wa=n,this.N_=[],this.k_=new Map,this.M_=null,this.networkEnabled=!1,this.isPrimary=!1,this.L_=!1,this.O_=o,this.O_.x_((function(t){n.oo((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.B_()?(ge("RemoteStore","Restarting streams for network reachability change."),[4,this.q_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.U_=new ni(n,r),this.Q_=function(t,e,n){var r=ke(t);return new Xr(e,r.Mc,r.credentials,r.serializer,n)}(this.f_,n,{t_:this.W_.bind(this),Hc:this.j_.bind(this),s_:this.K_.bind(this)}),this.G_=function(t,e,n){var r=ke(t);return new Jr(e,r.Mc,r.credentials,r.serializer,n)}(this.f_,n,{t_:this.z_.bind(this),Hc:this.H_.bind(this),u_:this.Y_.bind(this),a_:this.a_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.J_()},t.prototype.J_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.B_()?(t=this.G_,[4,this.F_.zo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.X_()?this.Z_():this.U_.set("Unknown"),[4,this.tl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.U_.set("Offline"),[2]}}))}))},t.prototype.el=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.G_.stop()];case 1:return t.sent(),[4,this.Q_.stop()];case 2:return t.sent(),this.N_.length>0&&(ge("RemoteStore","Stopping write stream with "+this.N_.length+" pending writes"),this.N_=[]),this.sl(),[2]}}))}))},t.prototype.Ro=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return ge("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.O_.Ro(),this.U_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.k_.has(t.targetId)||(this.k_.set(t.targetId,t),this.X_()?this.Z_():this.Q_.qc()&&this.il(t))},t.prototype.nl=function(t){this.k_.delete(t),this.Q_.qc()&&this.rl(t),0===this.k_.size&&(this.Q_.qc()?this.Q_.Wc():this.B_()&&this.U_.set("Unknown"))},t.prototype.si=function(t){return this.k_.get(t)||null},t.prototype.ei=function(t){return this.hl.ei(t)},t.prototype.il=function(t){this.M_.Ns(t.targetId),this.Q_.i_(t)},t.prototype.rl=function(t){this.M_.Ns(t),this.Q_.n_(t)},t.prototype.Z_=function(){this.M_=new se(this),this.Q_.start(),this.U_.b_()},t.prototype.X_=function(){return this.B_()&&!this.Q_.Bc()&&this.k_.size>0},t.prototype.B_=function(){return!this.L_&&this.isPrimary&&this.networkEnabled},t.prototype.sl=function(){this.M_=null},t.prototype.W_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.k_.forEach((function(e,n){t.il(e)})),[2]}))}))},t.prototype.j_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.sl(),this.X_()?(this.U_.D_(t),this.Z_()):this.U_.set("Unknown"),[2]}))}))},t.prototype.K_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.U_.set("Online"),!(t instanceof ie&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.ol(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.al(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ne?this.M_.qs(t):t instanceof re?this.M_.Hs(t):this.M_.Ws(t),e.isEqual(w.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.F_.ah()];case 8:return r=i.sent(),e.S(r)>=0?[4,this.ul(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return ge("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.al(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(!Bn(t))throw t;return this.L_=!0,[4,this.el()];case 1:return n.sent(),this.U_.set("Offline"),this.wa.Ua((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return ge("RemoteStore","Retrying IndexedDB access"),[4,this.F_.ah()];case 1:return t.sent(),this.L_=!1,[4,this.J_()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.ul=function(t){var e=this,n=this.M_.Xs(t);return n.as.forEach((function(n,r){if(n.resumeToken.rt()>0){var i=e.k_.get(r);i&&e.k_.set(r,i.we(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.k_.get(t);if(n){e.k_.set(t,n.we(x.ht,n.Ee)),e.rl(t);var r=new Nt(n.target,t,1,n.sequenceNumber);e.il(r)}})),this.hl.Mu(n)},t.prototype.ol=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.k_.has(o=r[n])?[4,this.hl.cl(o,e)]:[3,3]:[3,5];case 2:i.sent(),this.k_.delete(o),this.M_.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.tl=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this._l()?[4,this.F_.Bu(this.N_.length>0?this.N_[this.N_.length-1].batchId:-1)]:[3,5];case 1:return null!==(t=e.sent())?[3,2]:(0===this.N_.length&&this.G_.Wc(),[3,4]);case 2:return this.ll(t),[4,this.tl()];case 3:e.sent(),e.label=4;case 4:e.label=5;case 5:return this.dl()&&this.fl(),[2]}}))}))},t.prototype._l=function(){return this.B_()&&this.N_.length<10},t.prototype.Tl=function(){return this.N_.length},t.prototype.ll=function(t){this.N_.push(t),this.G_.qc()&&this.G_.h_&&this.G_.o_(t.mutations)},t.prototype.dl=function(){return this.B_()&&!this.G_.Bc()&&this.N_.length>0},t.prototype.fl=function(){this.G_.start()},t.prototype.z_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.G_.c_(),[2]}))}))},t.prototype.Y_=function(){var t=this;return this.F_.Ho(this.G_.lastStreamToken).then((function(){for(var e=0,n=t.N_;e<n.length;e++)t.G_.o_(n[e].mutations)})).catch(or)},t.prototype.a_=function(t,e){var n=this,r=this.N_.shift(),i=Ne.from(r,t,e,this.G_.lastStreamToken);return this.hl.El(i).then((function(){return n.tl()}))},t.prototype.H_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.N_.length>0?this.G_.h_?[4,this.Il(t)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.wl(t)];case 3:e.sent(),e.label=4;case 4:this.dl()&&this.fl(),e.label=5;case 5:return[2]}}))}))},t.prototype.wl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return Dt(t.code)?[2,(ge("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.G_.lastStreamToken),this.G_.lastStreamToken=x.ht,this.F_.Ho(x.ht).catch(or))]:[2]}))}))},t.prototype.Il=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){return Dt(n=t.code)&&n!==f.ABORTED?(e=this.N_.shift(),[2,(this.G_.Qc(),this.hl.Rl(e.batchId,t).then((function(){return r.tl()})))]):[2]}))}))},t.prototype.ml=function(){return new ei(this.f_)},t.prototype.q_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.U_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Al=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.B_()?(ge("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.q_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.el()];case 3:e.sent(),this.U_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function ii(t,e){return"firestore_clients_"+t+"_"+e}function oi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function si(t,e){return"firestore_targets_"+t+"_"+e}var ai=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vl=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new p(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(me("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.gl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ui=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vl=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new p(r.error.code,r.error.message)),i?new t(e,r.state,o):(me("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.gl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ci=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vl=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zt(),s=0;i&&s<r.activeTargetIds.length;++s)i=P(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(me("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),li=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(me("SharedClientState","Failed to parse online state: "+e),null)},t}(),hi=function(){function t(){this.activeTargetIds=Zt()}return t.prototype.pl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.yl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.gl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),fi=function(){function t(e,n,r,i,o){if(this.Tr=e,this.platform=n,this.persistenceKey=r,this.bl=i,this.hl=null,this.V_=null,this.ur=null,this.vl=this.Sl.bind(this),this.Dl=new jt(Ee),this.io=!1,this.Cl=[],!t.jh(this.platform))throw new p(f.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Fl=ii(this.persistenceKey,this.bl),this.Nl=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Dl=this.Dl.me(this.bl,new hi),this.$l=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.kl=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ml=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Ll=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.vl)}return t.jh=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.hl.po()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.bl&&(o=this.getItem(ii(this.persistenceKey,r)))&&(s=ci.Vl(r,o))&&(this.Dl=this.Dl.me(s.clientId,s));for(this.Ol(),(a=this.storage.getItem(this.Ll))&&(u=this.xl(a))&&this.Bl(u),c=0,l=this.Cl;c<l.length;c++)this.Sl(l[c]);return this.Cl=[],this.platform.window.addEventListener("unload",(function(){return h.Ro()})),this.io=!0,[2]}}))}))},t.prototype.lr=function(t){this.setItem(this.Nl,JSON.stringify(t))},t.prototype.ql=function(){return this.Ul(this.Dl)},t.prototype.Ql=function(t){var e=!1;return this.Dl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wl=function(t){this.jl(t,"pending")},t.prototype.Kl=function(t,e,n){this.jl(t,e,n),this.Gl(t)},t.prototype.zl=function(t){var e="not-current";if(this.Ql(t)){var n=this.storage.getItem(si(this.persistenceKey,t));if(n){var r=ui.Vl(t,n);r&&(e=r.state)}}return this.Hl.pl(t),this.Ol(),e},t.prototype.Yl=function(t){this.Hl.yl(t),this.Ol()},t.prototype.Jl=function(t){return this.Hl.activeTargetIds.has(t)},t.prototype.Xl=function(t){this.removeItem(si(this.persistenceKey,t))},t.prototype.Zl=function(t,e,n){this.td(t,e,n)},t.prototype.Su=function(t,e,n){var r=this;e.forEach((function(t){r.Gl(t)})),this.currentUser=t,n.forEach((function(t){r.Wl(t)}))},t.prototype.ed=function(t){this.sd(t)},t.prototype.Ro=function(){this.io&&(this.platform.window.removeEventListener("storage",this.vl),this.removeItem(this.Fl),this.io=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ge("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sl=function(t){var e=this;if(t.storageArea===this.storage){if(ge("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Fl)return void me("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.Ua((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){if(this.io){if(null!==t.key)if(this.$l.test(t.key)){if(null==t.newValue)return e=this.nd(t.key),[2,this.rd(e,null)];if(n=this.hd(t.key,t.newValue))return[2,this.rd(n.clientId,n)]}else if(this.kl.test(t.key)){if(null!==t.newValue&&(r=this.od(t.key,t.newValue)))return[2,this.ad(r)]}else if(this.Ml.test(t.key)){if(null!==t.newValue&&(o=this.ud(t.key,t.newValue)))return[2,this._d(o)]}else if(t.key===this.Ll){if(null!==t.newValue&&(s=this.xl(t.newValue)))return[2,this.Bl(s)]}else t.key===this.Nl&&(a=function(t){var e=Fe.dr;if(null!=t)try{var n=JSON.parse(t);be("number"==typeof n),e=n}catch(t){me("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Fe.dr&&this.ur(a)}else this.Cl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Hl",{get:function(){return this.Dl.get(this.bl)},enumerable:!0,configurable:!0}),t.prototype.Ol=function(){this.setItem(this.Fl,this.Hl.gl())},t.prototype.jl=function(t,e,n){var r=new ai(this.currentUser,t,e,n),i=oi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.gl())},t.prototype.Gl=function(t){var e=oi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.sd=function(t){this.storage.setItem(this.Ll,JSON.stringify({clientId:this.bl,onlineState:t}))},t.prototype.td=function(t,e,n){var r=si(this.persistenceKey,t),i=new ui(t,e,n);this.setItem(r,i.gl())},t.prototype.nd=function(t){var e=this.$l.exec(t);return e?e[1]:null},t.prototype.hd=function(t,e){var n=this.nd(t);return ci.Vl(n,e)},t.prototype.od=function(t,e){var n=this.kl.exec(t),r=Number(n[1]);return ai.Vl(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ud=function(t,e){var n=this.Ml.exec(t),r=Number(n[1]);return ui.Vl(r,e)},t.prototype.xl=function(t){return li.Vl(t)},t.prototype.ad=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.hl.ld(t.batchId,t.state,t.error)]:(ge("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype._d=function(t){return this.hl.dd(t.targetId,t.state,t.error)},t.prototype.rd=function(t,e){var n=this,r=e?this.Dl.me(t,e):this.Dl.remove(t),i=this.Ul(this.Dl),o=this.Ul(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.hl.fd(s,a).then((function(){n.Dl=r}))},t.prototype.Bl=function(t){this.Dl.get(t.clientId)&&this.V_(t.onlineState)},t.prototype.Ul=function(t){var e=Zt();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},t}(),pi=function(){function t(){this.Td=new hi,this.Ed={},this.hl=null,this.V_=null,this.ur=null}return t.prototype.Wl=function(t){},t.prototype.Kl=function(t,e,n){},t.prototype.zl=function(t){return this.Td.pl(t),this.Ed[t]||"not-current"},t.prototype.Zl=function(t,e,n){this.Ed[t]=e},t.prototype.Yl=function(t){this.Td.yl(t)},t.prototype.Jl=function(t){return this.Td.activeTargetIds.has(t)},t.prototype.Xl=function(t){delete this.Ed[t]},t.prototype.ql=function(){return this.Td.activeTargetIds},t.prototype.Ql=function(t){return this.Td.activeTargetIds.has(t)},t.prototype.start=function(){return this.Td=new hi,Promise.resolve()},t.prototype.Su=function(t,e,n){},t.prototype.ed=function(t){},t.prototype.Ro=function(){},t.prototype.lr=function(t){},t}(),di=function(t){this.key=t},vi=function(t){this.key=t},yi=function(){function t(t,e){this.query=t,this.Id=e,this.wd=null,this.fs=!1,this.Rd=Kt(),this.ns=Kt(),this.md=new $t(t.se.bind(t))}return Object.defineProperty(t.prototype,"Ad",{get:function(){return this.Id},enumerable:!0,configurable:!0}),t.prototype.Pd=function(t,e){var n=this,r=e?e.Vd:new Xt,i=e?e.md:this.md,o=e?e.ns:this.ns,s=i,a=!1,u=this.query.oe()&&i.size===this.query.limit?i.last():null,c=this.query.ae()&&i.size===this.query.limit?i.first():null;if(t.pe((function(t,e){var l=i.get(t),h=e instanceof mt?e:null;h&&(h=n.query.matches(h)?h:null);var f=!!l&&n.ns.has(l.key),p=!!h&&(h.At||n.ns.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.gd(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.query.se(h,u)>0||c&&n.query.se(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var l=this.query.oe()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{md:s,Vd:r,pd:a,ns:o}},t.prototype.gd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},t.prototype.xn=function(t,e,n){var r=this,i=this.md;this.md=t.md,this.ns=t.ns;var o=t.Vd.es();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return n(t)-n(e)}(t.type,e.type)||r.query.se(t.doc,e.doc)})),this.yd(n);var s=e?this.bd():[],a=0===this.Rd.size&&this.fs?1:0,u=a!==this.wd;return this.wd=a,0!==o.length||u?{snapshot:new Jt(this.query,t.md,i,o,t.ns,0===a,u,!1),vd:s}:{vd:s}},t.prototype.Sd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.xn({md:this.md,Vd:new Xt,ns:this.ns,pd:!1},!1)):{vd:[]}},t.prototype.Dd=function(t){return!this.Id.has(t)&&!!this.md.has(t)&&!this.md.get(t).At},t.prototype.yd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.Id=e.Id.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return e.Id=e.Id.delete(t)})),this.fs=t.fs)},t.prototype.bd=function(){var t=this;if(!this.fs)return[];var e=this.Rd;this.Rd=Kt(),this.md.forEach((function(e){t.Dd(e.key)&&(t.Rd=t.Rd.add(e.key))}));var n=[];return e.forEach((function(e){t.Rd.has(e)||n.push(new vi(e))})),this.Rd.forEach((function(t){e.has(t)||n.push(new di(t))})),n},t.prototype.Cd=function(t){this.Id=t.ju,this.Rd=Kt();var e=this.Pd(t.documents);return this.xn(e,!0)},t.prototype.Fd=function(){return Jt.os(this.query,this.md,this.ns,0===this.wd)},t}(),gi=function(){function t(t,e,n,r){this.wa=t,this.Nd=e,this.updateFunction=n,this.Aa=r,this.$d=5,this.Na=new Ue(this.wa,"transaction_retry")}return t.prototype.kd=function(){this.Md()},t.prototype.Md=function(){var t=this;this.Na.gr((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=this.Nd.ml(),(e=this.Ld(t))&&e.then((function(e){n.wa.oo((function(){return t.commit().then((function(){n.Aa.resolve(e)})).catch((function(t){n.Od(t)}))}))})).catch((function(t){n.Od(t)})),[2]}))}))}))},t.prototype.Ld=function(t){try{var e=this.updateFunction(t);return!O(e)&&e.catch&&e.then?e:(this.Aa.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Aa.reject(t),null}},t.prototype.Od=function(t){var e=this;this.$d>0&&this.xd(t)?(this.$d-=1,this.wa.oo((function(){return e.Md(),Promise.resolve()}))):this.Aa.reject(t)},t.prototype.xd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Dt(e)}return!1},t}(),mi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_i=function(t){this.key=t,this.Bd=!1},wi=function(){function t(t,e,n,r,i){this.F_=t,this.Nd=e,this.qd=n,this.currentUser=r,this.Ud=i,this.Qd=null,this.Wd=new xe((function(t){return t.canonicalId()})),this.jd=new Map,this.Kd=[],this.Gd=new jt(S.N),this.zd=new Map,this.Hd=new sr,this.Yd={},this.Jd=new Map,this.Xd=tn.ih(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Zd",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Qd=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("listen()"),(n=this.Wd.get(t))?(this.qd.zl(n.targetId),e=n.view.Fd(),[3,4]):[3,1];case 1:return[4,this.F_.Uu(t.ee())];case 2:return r=i.sent(),o=this.qd.zl(r.targetId),[4,this.ef(t,r.targetId,"current"===o)];case 3:e=i.sent(),this.Zd&&this.Nd.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.ef=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.F_.Wu(t,!0)];case 1:return r=i.sent(),o=new yi(t,r.ju),s=o.Pd(r.documents),a=ee.ds(e,n&&"Offline"!==this.onlineState),u=o.xn(s,this.Zd,a),this.sf(e,u.vd),c=new mi(t,e,o),[2,(this.Wd.set(t,c),this.jd.has(e)?this.jd.get(e).push(t):this.jd.set(e,[t]),u.snapshot)]}}))}))},t.prototype.nl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("unlisten()"),e=this.Wd.get(t),(n=this.jd.get(e.targetId)).length>1?[2,(this.jd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.Wd.delete(t))]:this.Zd?(this.qd.Yl(e.targetId),this.qd.Ql(e.targetId)?[3,2]:[4,this.F_.Qu(e.targetId,!1).then((function(){r.qd.Xl(e.targetId),r.Nd.nl(e.targetId),r.if(e.targetId)})).catch(or)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.if(e.targetId),[4,this.F_.Qu(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.tf("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.F_.Nu(t)];case 2:return n=i.sent(),this.qd.Wl(n.batchId),this.nf(n.batchId,e),[4,this.rf(n.Dn)];case 3:return i.sent(),[4,this.Nd.tl()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=Zn(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new gi(t,this.Nd,e,n).kd()},t.prototype.Mu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.tf("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.Mu(t)];case 2:return e=r.sent(),t.as.forEach((function(t,e){var r=n.zd.get(e);r&&(be(t.Ts.size+t.Es.size+t.Is.size<=1),t.Ts.size>0?r.Bd=!0:t.Es.size>0?be(r.Bd):t.Is.size>0&&(be(r.Bd),r.Bd=!1))})),[4,this.rf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Sd=function(t,e){this.tf("applyOnlineStateChange()");var n=[];this.Wd.forEach((function(e,r){var i=r.view.Sd(t);i.snapshot&&n.push(i.snapshot)})),this.Qd.hf(t),this.Qd.s_(n),this.onlineState=t},t.prototype.cl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("rejectListens()"),this.qd.Zl(t,"rejected",e),n=this.zd.get(t),(r=n&&n.key)?(o=(o=new jt(S.N)).me(r,new _t(r,w.min())),s=Kt().add(r),a=new te(w.min(),new Map,new Ft(Ee),o,s),[4,this.Mu(a)]):[3,2];case 1:return i.sent(),this.Gd=this.Gd.remove(r),this.zd.delete(t),this.af(),[3,4];case 2:return[4,this.F_.Qu(t,!1).then((function(){return u.if(t,e)})).catch(or)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.El=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.tf("applySuccessfulWrite()"),this.uf(e=t.batch.batchId,null),this.cf(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.Ko(t)];case 2:return n=r.sent(),this.qd.Kl(e,"acknowledged"),[4,this.rf(n)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Rl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.tf("rejectFailedWrite()"),this.uf(t,e),this.cf(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.ku(t)];case 2:return n=r.sent(),this.qd.Kl(t,"rejected",e),[4,this.rf(n)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._f=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.Nd.B_()||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.F_.ta()];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.Jd.get(e)||[]).push(t),this.Jd.set(e,n),[3,4]);case 3:return r=i.sent(),o=Zn(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.cf=function(t){(this.Jd.get(t)||[]).forEach((function(t){t.resolve()})),this.Jd.delete(t)},t.prototype.lf=function(t){this.Jd.forEach((function(e){e.forEach((function(e){e.reject(new p(f.CANCELLED,t))}))})),this.Jd.clear()},t.prototype.nf=function(t,e){var n=this.Yd[this.currentUser.s()];n||(n=new jt(Ee)),n=n.me(t,e),this.Yd[this.currentUser.s()]=n},t.prototype.uf=function(t,e){var n=this.Yd[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Yd[this.currentUser.s()]=n}},t.prototype.if=function(t,e){var n=this;void 0===e&&(e=null),this.qd.Yl(t);for(var r=0,i=this.jd.get(t);r<i.length;r++){var o=i[r];this.Wd.delete(o),e&&this.Qd.df(o,e)}this.jd.delete(t),this.Zd&&this.Hd.ic(t).forEach((function(t){n.Hd.Dh(t)||n.ff(t)}))},t.prototype.ff=function(t){var e=this.Gd.get(t);null!==e&&(this.Nd.nl(e),this.Gd=this.Gd.remove(t),this.zd.delete(e),this.af())},t.prototype.sf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof di?(this.Hd.ph(i.key,t),this.Tf(i)):i instanceof vi?(ge("SyncEngine","Document no longer in limbo: "+i.key),this.Hd.bh(i.key,t),this.Hd.Dh(i.key)||this.ff(i.key)):we()}},t.prototype.Tf=function(t){var e=t.key;this.Gd.get(e)||(ge("SyncEngine","New document in limbo: "+e),this.Kd.push(e),this.af())},t.prototype.af=function(){for(;this.Kd.length>0&&this.Gd.size<this.Ud;){var t=this.Kd.shift(),e=this.Xd.next();this.zd.set(e,new _i(t)),this.Gd=this.Gd.me(t,e),this.Nd.listen(new Nt(kt.Wt(t.path).ee(),e,2,Fe.dr))}},t.prototype.Ef=function(){return this.Gd},t.prototype.If=function(){return this.Kd},t.prototype.rf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.Wd.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.Pd(t);return e.pd?s.F_.Wu(a.query,!1).then((function(t){return a.view.Pd(t.documents,e)})):e})).then((function(t){var i=e&&e.as.get(a.targetId),o=a.view.xn(t,s.Zd,i);if(s.sf(a.targetId,o.vd),o.snapshot){s.Zd&&s.qd.Zl(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Me.ar(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.Qd.s_(n),[4,this.F_.xu(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.tf=function(t){},t.prototype.Al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.lf("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.F_.Su(t)]):[3,3];case 1:return n=r.sent(),this.qd.Su(t,n.Cu,n.Fu),[4,this.rf(n.Du)];case 2:r.sent(),r.label=3;case 3:return[4,this.Nd.Al()];case 4:return r.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nd.disableNetwork()},t.prototype.ei=function(t){var e=this.zd.get(t);if(e&&e.Bd)return Kt().add(e.key);var n=Kt(),r=this.jd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.Wd.get(o[i]);n=n.He(s.view.Ad)}return n},t}(),bi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,n,r,i,o)||this).F_=e,s.wf=void 0,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"Zd",{get:function(){return!0===this.wf},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.F_.ho(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.F_.ho(!1),t.prototype.disableNetwork.call(this)},e.prototype.Rf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.F_.Wu(t.query,!0)];case 1:return e=r.sent(),n=t.view.Cd(e),[2,(this.wf&&this.sf(t.targetId,n.vd),n)]}}))}))},e.prototype.Sd=function(e,n){this.Zd&&0===n&&(t.prototype.Sd.call(this,e,n),this.qd.ed(e)),this.Zd||1!==n||t.prototype.Sd.call(this,e,n)},e.prototype.ld=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("applyBatchState()"),[4,this.F_.Gu(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Nd.tl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.uf(t,n||null),this.F_.zu(t)):we(),i.label=4;case 4:return[4,this.rf(r)];case 5:return i.sent(),[3,7];case 6:ge("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.wf?[3,3]:(e=this.qd.ql(),[4,this.mf(e.W(),!0)]);case 1:return n=i.sent(),this.wf=!0,[4,this.Nd.Pl(!0)];case 2:for(i.sent(),r=0,o=n;r<o.length;r++)this.Nd.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.wf?[3,7]:(s=[],a=Promise.resolve(),this.jd.forEach((function(t,e){u.qd.Jl(e)?s.push(e):a=a.then((function(){return u.if(e),u.F_.Qu(e,!0)})),u.Nd.nl(e)})),[4,a]);case 4:return i.sent(),[4,this.mf(s,!1)];case 5:return i.sent(),this.Af(),this.wf=!1,[4,this.Nd.Pl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},e.prototype.Af=function(){var t=this;this.zd.forEach((function(e,n){t.Nd.nl(n)})),this.Hd.nc(),this.zd=new Map,this.Gd=new jt(S.N)},e.prototype.mf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c,l,h,f,p;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(a=void 0,(u=this.jd.get(s=o[r]))&&0!==u.length?[4,this.F_.Qu(s,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.F_.Uu(u[0].ee())];case 3:a=i.sent(),c=0,l=u,i.label=4;case 4:return c<l.length?(h=this.Wd.get(l[c]),[4,this.Rf(h)]):[3,7];case 5:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.F_.Hu(s)];case 9:return p=i.sent(),[4,this.F_.Uu(p)];case 10:return a=i.sent(),[4,this.ef(this.Pf(p),s,!1)];case 11:i.sent(),i.label=12;case 12:e.push(a),i.label=13;case 13:return r++,[3,1];case 14:return[2,(this.Qd.s_(n),e)]}}))}))},e.prototype.Pf=function(t){return new kt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.po=function(){return this.F_.po()},e.prototype.dd=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.wf?(ge("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.jd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.F_.Wr()];case 3:return r=i.sent(),o=te.ls(t,"current"===e),[4,this.rf(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.F_.Qu(t,!0)];case 6:return i.sent(),this.if(t,n),[3,8];case 7:we(),i.label=8;case 8:return[2]}}))}))},e.prototype.fd=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,h,f=this;return i.__generator(this,(function(p){switch(p.label){case 0:if(!this.wf)return[3,10];n=0,r=t,p.label=1;case 1:return n<r.length?this.jd.has(o=r[n])?(ge("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.F_.Hu(o)]:[3,6];case 2:return s=p.sent(),[4,this.F_.Uu(s)];case 3:return a=p.sent(),[4,this.ef(this.Pf(s),a.targetId,!1)];case 4:p.sent(),this.Nd.listen(a),p.label=5;case 5:return n++,[3,1];case 6:u=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return c.jd.has(t)?[4,c.F_.Qu(t,!1).then((function(){f.Nd.nl(t),f.if(t)})).catch(or)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,l=0,h=e,p.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},e}(wi),ki=function(){this.Vf=void 0,this.gf=[]},Ci=function(){function t(t){this.hl=t,this.pf=new xe((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.yf=new Set,this.hl.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.pf.get(e=t.query))||(n=!0,r=new ki),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.hl.listen(e)];case 2:return o.Vf=i.sent(),[3,4];case 3:return s=i.sent(),a=Zn(s,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(a)];case 4:return this.pf.set(e,r),r.gf.push(t),t.Sd(this.onlineState),r.Vf&&t.bf(r.Vf)&&this.vf(),[2]}}))}))},t.prototype.nl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.pf.get(e=t.query))&&(o=r.gf.indexOf(t))>=0&&(r.gf.splice(o,1),n=0===r.gf.length),n?[2,(this.pf.delete(e),this.hl.nl(e))]:[2]}))}))},t.prototype.s_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.pf.get(i.query);if(o){for(var s=0,a=o.gf;s<a.length;s++)a[s].bf(i)&&(e=!0);o.Vf=i}}e&&this.vf()},t.prototype.df=function(t,e){var n=this.pf.get(t);if(n)for(var r=0,i=n.gf;r<i.length;r++)i[r].onError(e);this.pf.delete(t)},t.prototype.hf=function(t){this.onlineState=t;var e=!1;this.pf.forEach((function(n,r){for(var i=0,o=r.gf;i<o.length;i++)o[i].Sd(t)&&(e=!0)})),e&&this.vf()},t.prototype.Sf=function(t){this.yf.add(t),t.next()},t.prototype.Df=function(t){this.yf.delete(t)},t.prototype.vf=function(){this.yf.forEach((function(t){t.next()}))},t}(),Ei=function(){function t(t,e,n){this.query=t,this.Cf=e,this.Ff=!1,this.Nf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.bf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jt(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.Ff?this.$f(t)&&(this.Cf.next(t),o=!0):this.kf(t,this.onlineState)&&(this.Mf(t),o=!0),this.Nf=t,o},t.prototype.onError=function(t){this.Cf.error(t)},t.prototype.Sd=function(t){this.onlineState=t;var e=!1;return this.Nf&&!this.Ff&&this.kf(this.Nf,t)&&(this.Mf(this.Nf),e=!0),e},t.prototype.kf=function(t,e){return!t.fromCache||!(this.options.Lf&&"Offline"!==e||t.docs.B()&&"Offline"!==e)},t.prototype.$f=function(t){return t.docChanges.length>0||!!(t.rs||this.Nf&&this.Nf.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Mf=function(t){t=Jt.os(t.query,t.docs,t.ns,t.fromCache),this.Ff=!0,this.Cf.next(t)},t}(),Si=function(){function t(){}return t.prototype.vu=function(t){this.Of=t},t.prototype.Zn=function(t,e,n,r){var i=this;return e.te()||n.isEqual(w.min())?this.xf(t,e):this.Of.Yn(t,r).next((function(o){var a=i.Bf(e,o);return(e.oe()||e.ae())&&i.pd(e.Bt,a,r,n)?i.xf(t,e):(ve()<=s.LogLevel.DEBUG&&ge("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Of.Zn(t,e,n).next((function(t){return a.forEach((function(e){t=t.me(e.key,e)})),t})))}))},t.prototype.Bf=function(t,e){var n=new Ft((function(e,n){return t.se(e,n)}));return e.forEach((function(e,r){r instanceof mt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.pd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.S(r)>0)},t.prototype.xf=function(t,e){return ve()<=s.LogLevel.DEBUG&&ge("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Of.Zn(t,e,w.min())},t}(),Ti=function(){function t(t,e){this.jn=t,this.nh=e,this.Wn=[],this.qf=1,this.lastStreamToken=x.ht,this.Uf=new Ft(ar.Ju)}return t.prototype.jo=function(t){return Pe.resolve(0===this.Wn.length)},t.prototype.Ko=function(t,e,n){return be(0===this.Qf(e.batchId,"acknowledged")),this.lastStreamToken=n,Pe.resolve()},t.prototype.zo=function(t){return Pe.resolve(this.lastStreamToken)},t.prototype.Ho=function(t,e){return this.lastStreamToken=e,Pe.resolve()},t.prototype.Yo=function(t,e,n,r){var i=this.qf;this.qf++;var o=new Oe(i,e,n,r);this.Wn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Uf=this.Uf.add(new ar(u.key,i)),this.jn.vr(t,u.key.path.M())}return Pe.resolve(o)},t.prototype.Jo=function(t,e){return Pe.resolve(this.Wf(e))},t.prototype.Zo=function(t,e){var n=this.jf(e+1),r=n<0?0:n;return Pe.resolve(this.Wn.length>r?this.Wn[r]:null)},t.prototype.ta=function(){return Pe.resolve(0===this.Wn.length?-1:this.qf-1)},t.prototype.ea=function(t){return Pe.resolve(this.Wn.slice())},t.prototype.Gn=function(t,e){var n=this,r=new ar(e,0),i=new ar(e,Number.POSITIVE_INFINITY),o=[];return this.Uf.Ke([r,i],(function(t){var e=n.Wf(t.hc);o.push(e)})),Pe.resolve(o)},t.prototype.Xn=function(t,e){var n=this,r=new Ft(Ee);return e.forEach((function(t){var e=new ar(t,0),i=new ar(t,Number.POSITIVE_INFINITY);n.Uf.Ke([e,i],(function(t){r=r.add(t.hc)}))})),Pe.resolve(this.Kf(r))},t.prototype.nr=function(t,e){var n=e.path,r=n.length+1,i=n;S.et(i)||(i=i.child(""));var o=new ar(new S(i),0),s=new Ft(Ee);return this.Uf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.hc)),!0)}),o),Pe.resolve(this.Kf(s))},t.prototype.Kf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Wf(t);null!==r&&n.push(r)})),n},t.prototype.ia=function(t,e){var n=this;be(0===this.Qf(e.batchId,"removed")),this.Wn.shift();var r=this.Uf;return Pe.forEach(e.mutations,(function(i){var o=new ar(i.key,e.batchId);return r=r.delete(o),n.nh.Oo(t,i.key)})).next((function(){n.Uf=r}))},t.prototype.na=function(t){},t.prototype.Dh=function(t,e){var n=new ar(e,0),r=this.Uf.ze(n);return Pe.resolve(e.isEqual(r&&r.key))},t.prototype.ra=function(t){return Pe.resolve()},t.prototype.Qf=function(t,e){return this.jf(t)},t.prototype.jf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},t.prototype.Wf=function(t){var e=this.jf(t);return e<0||e>=this.Wn.length?null:this.Wn[e]},t}(),Ii=function(){function t(t,e){this.jn=t,this.Gf=e,this.docs=new jt(S.N),this.size=0}return t.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Gf(e);return this.docs=this.docs.me(r,{kr:e,size:s,readTime:n}),this.size+=s-o,this.jn.vr(t,r.path.M())},t.prototype.kn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Mn=function(t,e){var n=this.docs.get(e);return Pe.resolve(n?n.kr:null)},t.prototype.getEntries=function(t,e){var n=this,r=Bt();return e.forEach((function(t){var e=n.docs.get(t);r=r.me(t,e?e.kr:null)})),Pe.resolve(r)},t.prototype.Zn=function(t,e,n){for(var r=Ht(),i=new S(e.path.child("")),o=this.docs.ve(i);o.$e();){var s=o.Ne(),a=s.value,u=a.kr,c=a.readTime;if(!e.path.q(s.key.path))break;c.S(n)<=0||u instanceof mt&&e.matches(u)&&(r=r.me(u.key,u))}return Pe.resolve(r)},t.prototype.zf=function(t,e){return Pe.forEach(this.docs,(function(t){return e(t)}))},t.prototype.zr=function(e){return new t.Hr(this)},t.prototype.Jr=function(t){return Pe.resolve(this.size)},t}();Ii.Hr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Xr=e,n}return i.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[];return this.Dn.forEach((function(r,i){i?n.push(e.Xr.Nn(t,i,e.readTime)):e.Xr.kn(r)})),Pe.vn(n)},e.prototype.Ln=function(t,e){return this.Xr.Mn(t,e)},e.prototype.On=function(t,e){return this.Xr.getEntries(t,e)},e}(De);var Ai=function(){function t(t){this.persistence=t,this.Hf=new xe((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=w.min(),this.highestTargetId=0,this.Yf=0,this.Jf=new sr,this.targetCount=0,this.Xf=tn.sh()}return t.prototype.js=function(t,e){return this.Hf.forEach((function(t,n){return e(n)})),Pe.resolve()},t.prototype.ah=function(t){return Pe.resolve(this.lastRemoteSnapshotVersion)},t.prototype.uh=function(t){return Pe.resolve(this.Yf)},t.prototype.rh=function(t){return this.highestTargetId=this.Xf.next(),Pe.resolve(this.highestTargetId)},t.prototype.lh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Yf&&(this.Yf=e),Pe.resolve()},t.prototype.fh=function(t){this.Hf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Xf=new tn(e),this.highestTargetId=e),t.sequenceNumber>this.Yf&&(this.Yf=t.sequenceNumber)},t.prototype.dh=function(t,e){return this.fh(e),this.targetCount+=1,Pe.resolve()},t.prototype.Eh=function(t,e){return this.fh(e),Pe.resolve()},t.prototype.Ih=function(t,e){return this.Hf.delete(e.target),this.Jf.ic(e.targetId),this.targetCount-=1,Pe.resolve()},t.prototype.Rh=function(t,e,n){var r=this,i=0,o=[];return this.Hf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Hf.delete(s),o.push(r.wh(t,a.targetId)),i++)})),Pe.vn(o).next((function(){return i}))},t.prototype.Ph=function(t){return Pe.resolve(this.targetCount)},t.prototype.Vh=function(t,e){var n=this.Hf.get(e)||null;return Pe.resolve(n)},t.prototype.gh=function(t,e,n){return this.Jf.tc(e,n),Pe.resolve()},t.prototype.yh=function(t,e,n){this.Jf.sc(e,n);var r=this.persistence.nh,i=[];return r&&e.forEach((function(e){i.push(r.Oo(t,e))})),Pe.vn(i)},t.prototype.wh=function(t,e){return this.Jf.ic(e),Pe.resolve()},t.prototype.vh=function(t,e){var n=this.Jf.rc(e);return Pe.resolve(n)},t.prototype.Dh=function(t,e){return Pe.resolve(this.Jf.Dh(e))},t}(),xi=function(){function t(t){var e=this;this.Zf={},this.Oh=new Fe(0),this.xh=!1,this.xh=!0,this.nh=t(this),this.zh=new Ai(this),this.jn=new Ge,this.Qn=new Ii(this.jn,(function(t){return e.nh.tT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ro=function(){return this.xh=!1,Promise.resolve()},Object.defineProperty(t.prototype,"io",{get:function(){return this.xh},enumerable:!0,configurable:!0}),t.prototype.no=function(){},t.prototype.Do=function(){return this.jn},t.prototype.yo=function(t){var e=this.Zf[t.s()];return e||(e=new Ti(this.jn,this.nh),this.Zf[t.s()]=e),e},t.prototype.vo=function(){return this.zh},t.prototype.So=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var r=this;ge("MemoryPersistence","Starting transaction:",t);var i=new Oi(this.Oh.next());return this.nh.eT(),n(i).next((function(t){return r.nh.sT(i).next((function(){return t}))})).yn().then((function(t){return i.Un(),t}))},t.prototype.iT=function(t,e){return Pe.Sn(Object.values(this.Zf).map((function(n){return function(){return n.Dh(t,e)}})))},t}(),Oi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Mh=e,n}return i.__extends(e,t),e}(je),Ni=function(){function t(t){this.persistence=t,this.nT=new sr,this.rT=null}return t.hT=function(e){return new t(e)},Object.defineProperty(t.prototype,"oT",{get:function(){if(this.rT)return this.rT;throw we()},enumerable:!0,configurable:!0}),t.prototype.ph=function(t,e,n){return this.nT.ph(n,e),this.oT.delete(n),Pe.resolve()},t.prototype.bh=function(t,e,n){return this.nT.bh(n,e),this.oT.add(n),Pe.resolve()},t.prototype.Oo=function(t,e){return this.oT.add(e),Pe.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.nT.ic(e.targetId).forEach((function(t){return n.oT.add(t)}));var r=this.persistence.vo();return r.vh(t,e.targetId).next((function(t){t.forEach((function(t){return n.oT.add(t)}))})).next((function(){return r.Ih(t,e)}))},t.prototype.eT=function(){this.rT=new Set},t.prototype.sT=function(t){var e=this,n=this.persistence.So().zr();return Pe.forEach(this.oT,(function(r){return e.aT(t,r).next((function(t){t||n.kn(r)}))})).next((function(){return e.rT=null,n.apply(t)}))},t.prototype.Uo=function(t,e){var n=this;return this.aT(t,e).next((function(t){t?n.oT.delete(e):n.oT.add(e)}))},t.prototype.tT=function(t){return 0},t.prototype.aT=function(t,e){var n=this;return Pe.Sn([function(){return Pe.resolve(n.nT.Dh(e))},function(){return n.persistence.vo().Dh(t,e)},function(){return n.persistence.iT(t,e)}])},t}(),Pi=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.qd=this.uT(t),this.persistence=this.cT(t),[4,this.persistence.start()];case 1:return n.sent(),this._T=this.lT(t),this.F_=this.dT(t),this.Nd=this.fT(t),this.hl=this.TT(t),this.ET=this.IT(t),this.qd.V_=function(t){return e.hl.Sd(t,1)},this.Nd.hl=this.hl,[4,this.F_.start()];case 2:return n.sent(),[4,this.qd.start()];case 3:return n.sent(),[4,this.Nd.start()];case 4:return n.sent(),[4,this.Nd.Pl(this.hl.Zd)];case 5:return n.sent(),[2]}}))}))},t.prototype.IT=function(t){return new Ci(this.hl)},t.prototype.lT=function(t){return null},t.prototype.dT=function(t){return new rr(this.persistence,new Si,t.wT)},t.prototype.cT=function(t){return new xi(Ni.hT)},t.prototype.fT=function(t){var e=this;return new ri(this.F_,t.f_,t.wa,(function(t){return e.hl.Sd(t,0)}),t.platform.RT())},t.prototype.uT=function(t){return new pi},t.prototype.TT=function(t){return new wi(this.F_,this.Nd,this.qd,t.wT,t.Ud)},t.prototype.clearPersistence=function(t){throw new p(f.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.so((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.hl.Pl(t)];case 1:return e.sent(),this._T&&(t&&!this._T.io?this._T.start(this.F_):t||this._T.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.dT=function(t){return new ir(this.persistence,new Si,t.wT)},e.prototype.TT=function(t){var e=new bi(this.F_,this.Nd,this.qd,t.wT,t.Ud);return this.qd instanceof fi&&(this.qd.hl=e),e},e.prototype.lT=function(t){return new er(this.persistence.nh.No,t.wa)},e.prototype.cT=function(t){var e=ln.Fo(t.mT),n=t.platform.yc(t.mT.ii);return new ln(t.AT.synchronizeTabs,e,t.clientId,t.platform,tr.ru(t.AT.cacheSizeBytes),t.wa,n,this.qd)},e.prototype.uT=function(t){if(t.AT.PT&&t.AT.synchronizeTabs){if(!fi.jh(t.platform))throw new p(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=ln.Fo(t.mT);return new fi(t.wa,t.platform,e,t.clientId,t.wT)}return new pi},e.prototype.clearPersistence=function(t){var e=ln.Fo(t);return ln.clearPersistence(e)},e}(Pi),Ri=function(){function t(t,e,n,r){this.platform=t,this.mT=e,this.credentials=n,this.wa=r,this.clientId=Ce.cn()}return t.prototype.start=function(t,e){var n=this;this.VT();var r=new Le,i=new Le,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,ge("FirestoreClient","Initializing. user=",s.uid),n.gT(t,e,s,i).then(r.resolve,r.reject);n.wa.oo((function(){return n.Al(s)}))})),this.wa.oo((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.VT(),this.wa.enqueue((function(){return t.hl.enableNetwork()}))},t.prototype.gT=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c=this;return i.__generator(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,this.platform.pT(this.mT)];case 1:return o=l.sent(),s=this.platform.yc(this.mT.ii),a=function(t,e,n){return new ti(t,e,n)}(o,this.credentials,s),[4,t.initialize({wa:this.wa,mT:this.mT,platform:this.platform,f_:a,clientId:this.clientId,wT:n,Ud:100,AT:e})];case 2:return l.sent(),this.persistence=t.persistence,this.qd=t.qd,this.F_=t.F_,this.Nd=t.Nd,this.hl=t.hl,this._T=t._T,this.yT=t.ET,this.persistence.no((function(){return i.__awaiter(c,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=l.sent(),r.reject(u),!this.bT(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.gT(new Pi,{PT:!1},n,r))];case 4:return[2]}}))}))},t.prototype.bT=function(t){return"FirebaseError"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.VT=function(){if(this.wa.Ma)throw new p(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Al=function(t){return this.wa.Wa(),ge("FirestoreClient","Credential Changed. Current user: "+t.uid),this.hl.Al(t)},t.prototype.disableNetwork=function(){var t=this;return this.VT(),this.wa.enqueue((function(){return t.hl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.wa.qa((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this._T&&this._T.stop(),[4,this.Nd.Ro()];case 1:return t.sent(),[4,this.qd.Ro()];case 2:return t.sent(),[4,this.persistence.Ro()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.VT();var e=new Le;return this.wa.oo((function(){return t.hl._f(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.VT();var i=new Ei(t,e,n);return this.wa.oo((function(){return r.yT.listen(i)})),i},t.prototype.nl=function(t){var e=this;this.vT||this.wa.oo((function(){return e.yT.nl(t)}))},t.prototype.ST=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.VT(),e=new Le,[4,this.wa.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.F_.qu(t)];case 1:return(n=i.sent())instanceof mt?e.resolve(n):n instanceof _t?e.resolve(null):e.reject(new p(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Zn(r,"Failed to get document '"+t+" from cache"),e.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.DT=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.VT(),e=new Le,[4,this.wa.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o,s,a,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.F_.Wu(t,!0)];case 1:return n=i.sent(),r=new yi(t,n.ju),o=r.Pd(n.documents),s=r.xn(o,!1),e.resolve(s.snapshot),[3,3];case 2:return a=i.sent(),u=Zn(a,"Failed to execute query '"+t+" against cache"),e.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.VT();var n=new Le;return this.wa.oo((function(){return e.hl.write(t,n)})),n.promise},t.prototype.ii=function(){return this.mT.ii},t.prototype.Sf=function(t){var e=this;this.VT(),this.wa.oo((function(){return e.yT.Sf(t),Promise.resolve()}))},t.prototype.Df=function(t){var e=this;this.vT||this.wa.oo((function(){return e.yT.Df(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"vT",{get:function(){return this.wa.Ma},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.VT();var n=new Le;return this.wa.oo((function(){return e.hl.runTransaction(e.wa,t,n),Promise.resolve()})),n.promise},t}(),ji=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.CT(this.observer.next,t)},t.prototype.error=function(t){this.CT(this.observer.error,t)},t.prototype.FT=function(){this.muted=!0},t.prototype.CT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Vi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Mi=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.NT=n,this.converter=r}return t.prototype.$T=function(t){switch(V(t)){case 0:return null;case 1:return t.booleanValue;case 2:return z(t.integerValue||t.doubleValue);case 3:return this.kT(t.timestampValue);case 4:return this.MT(t);case 5:return t.stringValue;case 6:return new Ar(H(t.bytesValue));case 7:return this.LT(t.referenceValue);case 8:return this.OT(t.geoPointValue);case 9:return this.xT(t.arrayValue);case 10:return this.BT(t.mapValue);default:throw we()}},t.prototype.BT=function(t){var e=this,n={};return I(t.fields||{},(function(t,r){n[t]=e.$T(r)})),n},t.prototype.OT=function(t){return new Mr(z(t.latitude),z(t.longitude))},t.prototype.xT=function(t){var e=this;return(t.values||[]).map((function(t){return e.$T(t)}))},t.prototype.MT=function(t){switch(this.NT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return D(n)?t(n):n}(t);return null==e?null:this.$T(e);case"estimate":return this.kT(R(t));default:return null}},t.prototype.kT=function(t){var e=B(t),n=new _(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.LT=function(t){var e=k.K(t);be(fe(e));var n=new Ae(e.get(1),e.get(3)),r=new S(e.k(5));return n.isEqual(this.firestore.Nc)||me("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.Nc.projectId+"/"+this.firestore.Nc.database+") instead."),new zi(r,this.firestore,this.converter)},t}(),Fi=tr.au,Li=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new p(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else dr("settings","non-empty string","host",t.host),this.host=t.host,vr("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(br("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),vr("settings","object","credentials",t.credentials),this.credentials=t.credentials,vr("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?me("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&me("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,vr("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=tr.cu;else{if(t.cacheSizeBytes!==Fi&&t.cacheSizeBytes<tr.uu)throw new p(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+tr.uu);this.cacheSizeBytes=t.cacheSizeBytes}vr("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Ui=function(){function t(e,n,r){var o=this;if(void 0===r&&(r=new Pi),this.qT=null,this.UT=new Yn,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.QT(),[4,this.WT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.qT=s,this.Nc=t.jT(s),this.KT=s.name,this.GT=new y(n)}else{var a=e;if(!a.projectId)throw new p(f.INVALID_ARGUMENT,"Must provide projectId");this.Nc=new Ae(a.projectId,a.database),this.KT="[DEFAULT]",this.GT=new v}this.zT=r,this.HT=new Li({}),this.YT=new zr(this.Nc)}return t.prototype.settings=function(t){cr("Firestore.settings",arguments,1),fr("Firestore.settings","object",1,t);var e=new Li(t);if(this.WT&&!this.HT.isEqual(e))throw new p(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.HT=e,void 0!==e.credentials&&(this.GT=function(t){if(!t)return new v;switch(t.type){case"gapi":var e=t.JT;return be(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new m(e,t.V||"0");case"provider":return t.JT;default:throw new p(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.QT(),this.WT.enableNetwork()},t.prototype.disableNetwork=function(){return this.QT(),this.WT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.WT)throw new p(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&me("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.XT(this.zT,{PT:!0,cacheSizeBytes:this.HT.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.WT&&!this.WT.vT)throw new p(f.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Le,[2,(this.UT.La((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.ZT(),[4,this.zT.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"tE",{get:function(){return this.QT(),this.WT.vT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.QT(),this.WT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.QT(),Vi(t)?this.eE(t):(fr("Firestore.onSnapshotsInSync","function",1,t),this.eE({next:t}))},t.prototype.eE=function(t){var e=this,n=new ji({next:function(){t.next&&t.next()},error:function(t){throw we()}});return this.WT.Sf(n),function(){n.FT(),e.WT.Df(n)}},t.prototype.QT=function(){return this.WT||this.XT(new Pi,{PT:!1}),this.WT},t.prototype.ZT=function(){return new Ie(this.Nc,this.KT,this.HT.host,this.HT.ssl,this.HT.forceLongPolling)},t.prototype.XT=function(t,e){var n=this.ZT();return this.WT=new Ri(pe.nt(),n,this.GT,this.UT),this.WT.start(t,e)},t.jT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new p(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new p(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ae(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.qT)throw new p(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.qT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return cr("Firestore.collection",arguments,1),fr("Firestore.collection","non-empty string",1,t),this.QT(),new Yi(k.K(t),this)},t.prototype.doc=function(t){return cr("Firestore.doc",arguments,1),fr("Firestore.doc","non-empty string",1,t),this.QT(),zi.sE(k.K(t),this)},t.prototype.collectionGroup=function(t){if(cr("Firestore.collectionGroup",arguments,1),fr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new p(f.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.QT(),new Qi(new kt(k.G,t),this)},t.prototype.runTransaction=function(t){var e=this;return cr("Firestore.runTransaction",arguments,1),fr("Firestore.runTransaction","function",1,t),this.QT().transaction((function(n){return t(new qi(e,n))}))},t.prototype.batch=function(){return this.QT(),new Bi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ve()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(cr("Firestore.setLogLevel",arguments,1),fr("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":ye(s.LogLevel.DEBUG);break;case"error":ye(s.LogLevel.ERROR);break;case"silent":ye(s.LogLevel.SILENT);break;default:throw new p(f.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.iE=function(){return this.HT.timestampsInSnapshots},t}(),qi=function(){function t(t,e){this.nE=t,this.rE=e}return t.prototype.get=function(t){var e=this;cr("Transaction.get",arguments,1);var n=Ji("Transaction.get",t,this.nE);return this.rE.R_([n.$c]).then((function(t){if(!t||1!==t.length)return we();var r=t[0];if(r instanceof _t)return new Gi(e.nE,n.$c,null,!1,!1,n.hE);if(r instanceof mt)return new Gi(e.nE,n.$c,r,!1,!1,n.hE);throw we()}))},t.prototype.set=function(t,e,n){hr("Transaction.set",arguments,2,3);var r=Ji("Transaction.set",t,this.nE);n=Zi("Transaction.set",n);var i=eo(r.hE,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.nE.YT.Sc(s,o,n.mergeFields):this.nE.YT.bc(s,o);return this.rE.set(r.$c,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof xr?(lr("Transaction.update",arguments,3),r=Ji("Transaction.update",t,this.nE),i=this.nE.YT.Cc("Transaction.update",e,n,o)):(cr("Transaction.update",arguments,2),r=Ji("Transaction.update",t,this.nE),i=this.nE.YT.Dc("Transaction.update",e)),this.rE.update(r.$c,i),this},t.prototype.delete=function(t){cr("Transaction.delete",arguments,1);var e=Ji("Transaction.delete",t,this.nE);return this.rE.delete(e.$c),this},t}(),Bi=function(){function t(t){this.nE=t,this.oE=[],this.aE=!1}return t.prototype.set=function(t,e,n){hr("WriteBatch.set",arguments,2,3),this.uE();var r=Ji("WriteBatch.set",t,this.nE);n=Zi("WriteBatch.set",n);var i=eo(r.hE,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.nE.YT.Sc(s,o,n.mergeFields):this.nE.YT.bc(s,o);return this.oE=this.oE.concat(a.Rc(r.$c,ot.ft())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.uE(),"string"==typeof e||e instanceof xr?(lr("WriteBatch.update",arguments,3),r=Ji("WriteBatch.update",t,this.nE),i=this.nE.YT.Cc("WriteBatch.update",e,n,o)):(cr("WriteBatch.update",arguments,2),r=Ji("WriteBatch.update",t,this.nE),i=this.nE.YT.Dc("WriteBatch.update",e)),this.oE=this.oE.concat(i.Rc(r.$c,ot.exists(!0))),this},t.prototype.delete=function(t){cr("WriteBatch.delete",arguments,1),this.uE();var e=Ji("WriteBatch.delete",t,this.nE);return this.oE=this.oE.concat(new lt(e.$c,ot.ft())),this},t.prototype.commit=function(){return this.uE(),this.aE=!0,this.oE.length>0?this.nE.QT().write(this.oE):Promise.resolve()},t.prototype.uE=function(){if(this.aE)throw new p(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),zi=function(){function t(t,e,n){this.$c=t,this.firestore=e,this.hE=n,this.WT=this.firestore.QT()}return t.sE=function(e,n,r){if(e.length%2!=0)throw new p(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.j()+" has "+e.length);return new t(new S(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.$c.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yi(this.$c.path.M(),this.firestore,this.hE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.$c.path.j()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(cr("DocumentReference.collection",arguments,1),fr("DocumentReference.collection","non-empty string",1,t),!t)throw new p(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=k.K(t);return new Yi(this.$c.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw kr("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.$c.isEqual(e.$c)&&this.hE===e.hE},t.prototype.set=function(t,e){hr("DocumentReference.set",arguments,1,2),e=Zi("DocumentReference.set",e);var n=eo(this.hE,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.YT.Sc(i,r,e.mergeFields):this.firestore.YT.bc(i,r);return this.WT.write(o.Rc(this.$c,ot.ft()))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof xr?(lr("DocumentReference.update",arguments,2),n=this.firestore.YT.Cc("DocumentReference.update",t,e,r)):(cr("DocumentReference.update",arguments,1),n=this.firestore.YT.Dc("DocumentReference.update",t)),this.WT.write(n.Rc(this.$c,ot.exists(!0)))},t.prototype.delete=function(){return cr("DocumentReference.delete",arguments,0),this.WT.write([new lt(this.$c,ot.ft())])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];hr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Vi(t[i])||(br("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),vr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Vi(t[i])?n=t[i]:(fr("DocumentReference.onSnapshot","function",i,t[i]),pr("DocumentReference.onSnapshot","function",i+1,t[i+1]),pr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.cE(o,n)},t.prototype.cE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){if(e.next){var r=t.docs.get(n.$c);e.next(new Gi(n.firestore,n.$c,r,t.fromCache,t.hasPendingWrites,n.hE))}},error:r}),o=this.WT.listen(kt.Wt(this.$c.path),i,t);return function(){i.FT(),n.WT.nl(o)}},t.prototype.get=function(t){var e=this;return hr("DocumentReference.get",arguments,0,1),Xi("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.QT().ST(e.$c).then((function(t){n(new Gi(e.firestore,e.$c,t,!0,t instanceof mt&&t.At,e.hE))}),r):e._E(n,r,t)}))},t.prototype._E=function(t,e,n){var r=this.cE({includeMetadataChanges:!0,Lf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new p(f.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new p(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.$c,this.firestore,e)},t}(),Hi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gi=function(){function t(t,e,n,r,i,o){this.nE=t,this.$c=e,this.lE=n,this.dE=r,this.fE=i,this.hE=o}return t.prototype.data=function(t){if(hr("DocumentSnapshot.data",arguments,0,1),t=$i("DocumentSnapshot.data",t),this.lE){if(this.hE){var e=new Wi(this.nE,this.$c,this.lE,this.dE,this.fE);return this.hE.fromFirestore(e,t)}return new Mi(this.nE,this.nE.iE(),t.serverTimestamps,void 0).$T(this.lE.Mt())}},t.prototype.get=function(t,e){if(hr("DocumentSnapshot.get",arguments,1,2),e=$i("DocumentSnapshot.get",e),this.lE){var n=this.lE.data().field(Kr("DocumentSnapshot.get",t));if(null!==n)return new Mi(this.nE,this.nE.iE(),e.serverTimestamps,this.hE).$T(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.$c.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new zi(this.$c,this.nE,this.hE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.lE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Hi(this.fE,this.dE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw kr("isEqual","DocumentSnapshot",1,e);return this.nE===e.nE&&this.dE===e.dE&&this.$c.isEqual(e.$c)&&(null===this.lE?null===e.lE:this.lE.isEqual(e.lE))&&this.hE===e.hE},t}(),Wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Gi),Qi=function(){function t(t,e,n){this.TE=t,this.firestore=e,this.hE=n}return t.prototype.where=function(e,n,r){cr("Query.where",arguments,3),wr("Query.where",3,r);var i,o=function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new p(f.INVALID_ARGUMENT,"Invalid value "+_r(r)+" provided to function Query.where() for its "+Er(2)+" argument. Acceptable values: "+e.join(", "));return r}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n),s=Kr("Query.where",e);if(s.Y()){if("array-contains"===o||"array-contains-any"===o)throw new p(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.EE(r,o);for(var a=[],u=0,c=r;u<c.length;u++){var l=c[u];a.push(this.IE(l))}i={arrayValue:{values:a}}}else i=this.IE(r)}else"in"!==o&&"array-contains-any"!==o||this.EE(r,o),i=this.firestore.YT.Fc("Query.where",r,"in"===o);var h=Ct.create(s,o,i);return this.wE(h),new t(this.TE.Gt(h),this.firestore,this.hE)},t.prototype.orderBy=function(e,n){var r;if(hr("Query.orderBy",arguments,1,2),pr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new p(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}if(null!==this.TE.startAt)throw new p(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.TE.endAt)throw new p(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Kr("Query.orderBy",e),o=new Ot(i,r);return this.RE(o),new t(this.TE.zt(o),this.firestore,this.hE)},t.prototype.limit=function(e){return cr("Query.limit",arguments,1),fr("Query.limit","number",1,e),Cr("Query.limit",1,e),new t(this.TE.Ht(e),this.firestore,this.hE)},t.prototype.limitToLast=function(e){return cr("Query.limitToLast",arguments,1),fr("Query.limitToLast","number",1,e),Cr("Query.limitToLast",1,e),new t(this.TE.Yt(e),this.firestore,this.hE)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.startAt",arguments,1);var i=this.mE("Query.startAt",e,n,!0);return new t(this.TE.Jt(i),this.firestore,this.hE)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.startAfter",arguments,1);var i=this.mE("Query.startAfter",e,n,!1);return new t(this.TE.Jt(i),this.firestore,this.hE)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.endBefore",arguments,1);var i=this.mE("Query.endBefore",e,n,!0);return new t(this.TE.Xt(i),this.firestore,this.hE)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.endAt",arguments,1);var i=this.mE("Query.endAt",e,n,!1);return new t(this.TE.Xt(i),this.firestore,this.hE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw kr("isEqual","Query",1,e);return this.firestore===e.firestore&&this.TE.isEqual(e.TE)},t.prototype.withConverter=function(e){return new t(this.TE,this.firestore,e)},t.prototype.mE=function(t,e,n,r){if(wr(t,1,e),e instanceof Gi){if(n.length>0)throw new p(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new p(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.AE(i.lE,r)}var o=[e].concat(n);return this.PE(t,o,r)},t.prototype.AE=function(t,e){for(var n=[],r=0,i=this.TE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(G(this.firestore.Nc,t.key));else{var s=t.field(o.field);if(D(s))throw new p(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.j();throw new p(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new xt(n,e)},t.prototype.PE=function(t,e,n){var r=this.TE.xt;if(e.length>r.length)throw new p(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new p(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.TE._e()&&-1!==s.indexOf("/"))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.TE.path.child(k.K(s));if(!S.et(a))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new S(a);i.push(G(this.firestore.Nc,u))}else{var c=this.firestore.YT.Fc(t,s);i.push(c)}}return new xt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];hr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Vi(t[i])||(br("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),vr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Vi(t[i])?n=t[i]:(fr("Query.onSnapshot","function",i,t[i]),pr("Query.onSnapshot","function",i+1,t[i+1]),pr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.VE(this.TE),this.cE(r,n)},t.prototype.cE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){e.next&&e.next(new Ki(n.firestore,n.TE,t,n.hE))},error:r}),o=this.firestore.QT(),s=o.listen(this.TE,i,t);return function(){i.FT(),o.nl(s)}},t.prototype.VE=function(t){if(t.ae()&&0===t.xt.length)throw new p(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return hr("Query.get",arguments,0,1),Xi("Query.get",t),this.VE(this.TE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.QT().DT(e.TE).then((function(t){n(new Ki(e.firestore,e.TE,t,e.hE))}),r):e._E(n,r,t)}))},t.prototype._E=function(t,e,n){var r=this.cE({includeMetadataChanges:!0,Lf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new p(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.IE=function(t){if("string"==typeof t){if(""===t)throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.TE._e()&&-1!==t.indexOf("/"))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.TE.path.child(k.K(t));if(!S.et(e))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return G(this.firestore.Nc,new S(e))}if(t instanceof zi)return G(this.firestore.Nc,t.$c);throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_r(t)+".")},t.prototype.EE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new p(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new p(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new p(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new p(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.wE=function(t){if(t instanceof Ct){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ue()){var o=this.TE.jt();if(null!==o&&!o.isEqual(t.field))throw new p(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.TE.Kt();null!==s&&this.gE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.TE.ce(n)),null===a&&r&&(a=this.TE.ce(e)),null!=a)throw new p(f.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.RE=function(t){if(null===this.TE.Kt()){var e=this.TE.jt();null!==e&&this.gE(e,t.field)}},t.prototype.gE=function(t,e){if(!e.isEqual(t))throw new p(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ki=function(){function t(t,e,n,r){this.nE=t,this.pE=e,this.yE=n,this.hE=r,this.bE=null,this.vE=null,this.metadata=new Hi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.yE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.yE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;hr("QuerySnapshot.forEach",arguments,1,2),fr("QuerySnapshot.forEach","function",1,t),this.yE.docs.forEach((function(r){t.call(e,n.SE(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Qi(this.pE,this.nE,this.hE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(br("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),vr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.yE.hs)throw new p(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.bE&&this.vE===e||(this.bE=function(t,e,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(e){return{type:"added",doc:new Wi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Wi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:to(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.nE,e,this.yE,this.hE),this.vE=e),this.bE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw kr("isEqual","QuerySnapshot",1,e);return this.nE===e.nE&&this.pE.isEqual(e.pE)&&this.yE.isEqual(e.yE)&&this.hE===e.hE},t.prototype.SE=function(t){return new Wi(this.nE,t.key,t,this.metadata.fromCache,this.yE.ns.has(t.key),this.hE)},t}(),Yi=function(t){function e(e,n,r){var i=this;if((i=t.call(this,kt.Wt(e),n,r)||this).DE=e,e.length%2!=1)throw new p(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.j()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.TE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.TE.path.M();return t.B()?null:new zi(new S(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.TE.path.j()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(hr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ce.cn()),fr("CollectionReference.doc","non-empty string",1,t),""===t)throw new p(f.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=k.K(t);return zi.sE(this.TE.path.child(e),this.firestore,this.hE)},e.prototype.add=function(t){cr("CollectionReference.add",arguments,1),fr("CollectionReference.add","object",1,this.hE?this.hE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.DE,this.firestore,t)},e}(Qi);function Zi(t,e){if(void 0===e)return{merge:!1};if(br(t,e,["merge","mergeFields"]),vr(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+_r(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+_r(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof xr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new p(f.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $i(t,e){return void 0===e?{}:(br(t,e,["serverTimestamps"]),yr(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Xi(t,e){pr(t,"object",1,e),e&&(br(t,e,["source"]),yr(t,0,"source",e.source,["default","server","cache"]))}function Ji(t,e,n){if(e instanceof zi){if(e.firestore!==n)throw new p(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw kr(t,"DocumentReference",1,e)}function to(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function eo(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function no(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new p(f.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}var ro=no(Ui,"Use firebase.firestore() instead."),io=no(qi,"Use firebase.firestore().runTransaction() instead."),oo=no(Bi,"Use firebase.firestore().batch() instead."),so=no(zi,"Use firebase.firestore().doc() instead."),ao=no(Gi),uo=no(Wi),co=no(Qi),lo=no(Ki),ho=no(Yi,"Use firebase.firestore().collection() instead."),fo=no(function(){function t(){}return t.delete=function(){return ur("FieldValue.delete",arguments),new Pr},t.serverTimestamp=function(){return ur("FieldValue.serverTimestamp",arguments),new Dr},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lr("FieldValue.arrayUnion",arguments,1),new Rr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lr("FieldValue.arrayRemove",arguments,1),new jr(t)},t.increment=function(t){return fr("FieldValue.increment","number",1,t),cr("FieldValue.increment",arguments,1),new Vr(t)},t.prototype.isEqual=function(t){return this===t},t}(),"Use FieldValue.<field>() instead."),po=no(Ar,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),vo={Firestore:ro,GeoPoint:Mr,Timestamp:_,Blob:po,Transaction:io,WriteBatch:oo,DocumentReference:so,DocumentSnapshot:ao,Query:co,QueryDocumentSnapshot:uo,QuerySnapshot:lo,CollectionReference:ho,FieldPath:xr,FieldValue:fo,setLogLevel:Ui.setLogLevel,CACHE_SIZE_UNLIMITED:Fi},yo=function(){function t(){}return t.prototype.x_=function(t){},t.prototype.Ro=function(){},t}(),go=function(){function t(){var t=this;this.CE=function(){return t.FE()},this.NE=function(){return t.$E()},this.kE=[],this.ME()}return t.prototype.x_=function(t){this.kE.push(t)},t.prototype.Ro=function(){window.removeEventListener("online",this.CE),window.removeEventListener("offline",this.NE)},t.prototype.ME=function(){window.addEventListener("online",this.CE),window.addEventListener("offline",this.NE)},t.prototype.FE=function(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.kE;t<e.length;t++)(0,e[t])(0)},t.prototype.$E=function(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.kE;t<e.length;t++)(0,e[t])(1)},t.jh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),mo=function(){function t(t){this.LE=t.LE,this.OE=t.OE}return t.prototype.t_=function(t){this.xE=t},t.prototype.Hc=function(t){this.BE=t},t.prototype.onMessage=function(t){this.qE=t},t.prototype.close=function(){this.OE()},t.prototype.send=function(t){this.LE(t)},t.prototype.UE=function(){this.xE()},t.prototype.QE=function(t){this.BE(t)},t.prototype.WE=function(t){this.qE(t)},t}(),_o={BatchGetDocuments:"batchGet",Commit:"commit"},wo="gl-js/ fire/"+l,bo=function(){function t(t){this.ii=t.ii,this.jE=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.KE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=wo},t.prototype.l_=function(t,e,n){var r=this,i=this.GE(t);return new Promise((function(o,s){var a=new c.XhrIo;a.listenOnce(c.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=a.getResponseJson();ge("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:ge("Connection",'RPC "'+t+'" timed out'),s(new p(f.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(ge("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(f).indexOf(e)>=0?e:f.UNKNOWN}(r.status);s(new p(i,r.message))}else s(new p(f.UNKNOWN,"Server responded with status "+a.getStatus()))}else ge("Connection",'RPC "'+t+'" failed'),s(new p(f.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ge("Connection",'RPC "'+t+'" completed.')}}));var u=Object.assign({},e);delete u.database;var l=JSON.stringify(u);ge("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.KE(h,n),a.send(i,"POST",l,h,15)}))},t.prototype.d_=function(t,e,n){return this.l_(t,e,n)},t.prototype.e_=function(t,e){var n=[this.jE,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.KE(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ge("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,l=!1,h=new mo({LE:function(t){l?ge("Connection","Not sending because WebChannel is closed:",t):(u||(ge("Connection","Opening WebChannel transport."),s.open(),u=!0),ge("Connection","WebChannel sending:",t),s.send(t))},OE:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c.WebChannel.EventType.OPEN,(function(){l||ge("Connection","WebChannel transport opened.")})),d(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,ge("Connection","WebChannel transport closed"),h.QE())})),d(c.WebChannel.EventType.ERROR,(function(t){l||(l=!0,ge("Connection","WebChannel transport errored:",t),h.QE(new p(f.UNAVAILABLE,"The operation could not be completed")))})),d(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];be(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ge("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=vt[t];if(void 0!==e)return Rt(e)}(i),a=r.message;void 0===o&&(o=f.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.QE(new p(o,a)),s.close()}else ge("Connection","WebChannel received:",n),h.WE(n)}})),setTimeout((function(){h.UE()}),0),h},t.prototype.GE=function(t){return this.jE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+_o[t]},t}();function ko(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){return new Ui(t,e,new Di)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},vo)))}(t),t.registerVersion("@firebase/firestore","1.14.5")}pe.an(new(function(){function t(){this.oc="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.pT=function(t){return Promise.resolve(new bo(t))},t.prototype.RT=function(){return go.jh()?new go:new yo},t.prototype.yc=function(t){return new he(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},t}())),ko(o),e.__PRIVATE_registerFirestore=ko},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return b})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.5","app"),t.exports=i},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return b})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return p}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var p=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(p,a.serviceProps),r[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),v=d.next();!v.done;v=d.next())e[v.value]._addComponent(a)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var m=d;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.4",void 0),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(e),n.d(e,"ErrorCode",(function(){return Kn})),n.d(e,"EventType",(function(){return Yn})),n.d(e,"WebChannel",(function(){return Zn})),n.d(e,"XhrIo",(function(){return $n})),n.d(e,"createWebChannelTransport",(function(){return Qn}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},a=o||self;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:v).apply(null,arguments)}function g(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var m=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++p)}(this)},w.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var b=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function E(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function S(t){return/^[\s\xa0]*$/.test(t)}var T,I=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function A(t,e){return-1!=t.indexOf(e)}function x(t,e){return t<e?-1:t>e?1:0}t:{var O=a.navigator;if(O){var N=O.userAgent;if(N){T=N;break t}}T=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=u;var M,F,L=A(T,"Opera"),U=A(T,"Trident")||A(T,"MSIE"),q=A(T,"Edge"),B=q||U,z=A(T,"Gecko")&&!(A(T.toLowerCase(),"webkit")&&!A(T,"Edge"))&&!(A(T,"Trident")||A(T,"MSIE"))&&!A(T,"Edge"),H=A(T.toLowerCase(),"webkit")&&!A(T,"Edge");function G(){var t=a.document;return t?t.documentMode:void 0}t:{var W="",Q=(F=T,z?/rv:([^\);]+)(\)|;)/.exec(F):q?/Edge\/([\d\.]+)/.exec(F):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(F):H?/WebKit\/(\S+)/.exec(F):L?/(?:Version)[ \/]?(\S+)/.exec(F):void 0);if(Q&&(W=Q?Q[1]:""),U){var K=G();if(null!=K&&K>parseFloat(W)){M=String(K);break t}}M=W}var Y={};function Z(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=I(String(M)).split("."),r=I(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=x(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||x(0==s[2].length,0==a[2].length)||x(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var $=a.document&&U&&(G()||parseInt(M,10))||void 0,X=!U||9<=Number($),J=U&&!Z("9"),tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nt(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}et.prototype.b=function(){this.defaultPrevented=!0},_(nt,et);var rt={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,J)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var it="closure_listenable_"+(1e6*Math.random()|0),ot=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++ot,this.V=this.X=!1}function at(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function ut(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=b(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(at(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}ut.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=lt(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new st(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=bt(r),e&&e[it]?e.sa(n,r,h(i)?!!i.capture:!!i,o):dt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=bt(n),t&&t[it]?t.ra(e,n,h(r)?!!r.capture:!!r,i):dt(t,e,n,!1,r,i)}function dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i;if(s&&!X)return null;var a=_t(t);if(a||(t[ht]=a=new ut(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=mt,e=X?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[it])ct(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(ct(n,t),0==n.b&&(n.src=null,e[ht]=null)):at(t)}}}function yt(t){return t in ft?ft[t]:ft[t]="on"+t}function gt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&vt(t),n.call(r,e)}function mt(t,e){if(t.V)return!0;if(!X){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return gt(t,e=new nt(e,this))}return gt(t,new nt(e,this))}function _t(t){return(t=t[ht])instanceof ut?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(t){return"function"==c(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function kt(){w.call(this),this.c=new ut(this),this.J=this,this.A=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&ct(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(kt,w),kt.prototype[it]=!0,(i=kt.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=h(i)?!!i.capture:!!i,r=bt(r),e&&e[it]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=lt(s=e.a[n],r,i,o))&&(at(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=lt(n,r,i,o)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},i.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var i=t;j(t=new et(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ct(s,r,!0,t)&&i}if(i=Ct(s=t.a=n,r,!0,t)&&i,i=Ct(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(s=t.a=e[o],r,!1,t)&&i;return i},i.C=function(){if(kt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)at(n[r]);delete e.a[t],e.b--}}this.A=null},i.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Et=a.JSON.stringify;function St(){this.b=this.a=null}var Tt,It=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new xt}),(function(t){t.reset()}),100);function At(){var t=Dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xt(){this.next=this.b=this.a=null}function Ot(t){a.setTimeout((function(){throw t}),0)}function Nt(t,e){Tt||function(){var t=a.Promise.resolve(void 0);Tt=function(){t.then(Rt)}}(),Pt||(Tt(),Pt=!0),Dt.add(t,e)}St.prototype.add=function(t,e){var n=It.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Dt=new St;function Rt(){for(var t;t=At();){try{t.a.call(t.b)}catch(n){Ot(n)}var e=It;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function jt(t,e){kt.call(this),this.b=t||1,this.a=e||a,this.f=y(this.Ua,this),this.g=m()}function Vt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Mt(t,e,n){if("function"==c(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ft(t,e,n){w.call(this),this.f=null!=n?y(t,n):t,this.c=e,this.b=y(this.Pa,this),this.a=[]}function Lt(t){t.T=Mt(t.b,t.c),t.f.apply(null,t.a)}function Ut(t){w.call(this),this.b=t,this.a={}}_(jt,kt),(i=jt.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var t=m()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Vt(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=m())},i.C=function(){jt.M.C.call(this),Vt(this),delete this.a},_(Ft,w),(i=Ft.prototype).ba=!1,i.T=null,i.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Lt(this)},i.C=function(){Ft.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Lt(this))},_(Ut,w);var qt=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vt(t)}),t),t.a={}}function Ht(){}Ut.prototype.C=function(){Ut.M.C.call(this),zt(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=null;function Wt(){return Gt=Gt||new kt}function Qt(t){et.call(this,"serverreachability",t)}function Kt(t){var e=Wt();e.dispatchEvent(new Qt(e,t))}function Yt(t){et.call(this,"statevent",t)}function Zt(t){var e=Wt();e.dispatchEvent(new Yt(e,t))}function $t(t){et.call(this,"timingevent",t)}function Xt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}_(Qt,et),_(Yt,et),_($t,et);var Jt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},te={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null;var re,ie={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function oe(){et.call(this,"d")}function se(){et.call(this,"c")}function ae(){}function ue(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Ut(this),this.N=ce,this.O=new jt(t=B?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(oe,et),_(se,et),_(ae,ee),re=new ae;var ce=45e3,le={},he={};function fe(t,e,n){t.B=1,t.f=Re(Ae(e)),t.j=n,t.F=!0,pe(t,null)}function pe(t,e){t.s=m(),ye(t),t.A=Ae(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Qe(n.b,"t",r),t.w=0,t.a=Ln(t.g,t.g.w?e:null),0<t.J&&(t.D=new Ft(y(t.ya,t,t.a),t.J)),Bt(t.G,t.a,"readystatechange",t.Sa),e=t.m?D(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Kt(1)}function de(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=ve(t,n);if(i==he){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==le){t.c=4,Zt(15),r=!1;break}be(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(we(t),_e(t))}function ve(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?he:(n=Number(e.substring(n,r)),isNaN(n)?le:(r+=1)+n>e.length?he:(e=e.substr(r,n),t.w=r+n,e))}function ye(t){t.P=m()+t.N,ge(t,t.N)}function ge(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Xt(y(t.Qa,t),e)}function me(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function _e(t){0==t.g.u||t.l||Rn(t.g,t)}function we(t){me(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Vt(t.O),zt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function be(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Dn(n),n.a.cancel(),n.a=null}Pn(n),Zt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Xt(y(n.Na,n),6e3));if(1>=Je(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Vn(n,11)}else if((t.o||n.a==t)&&Dn(n),!S(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(n.G=(i=e[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=a.b;!l.a&&(A(c,"spdy")||A(c,"quic")||A(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(en(l,l.b),l.b=null))}if(a.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,De(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var f=t;if((a=n).ea=Fn(a,a.w?a.R:null,a.P),f.o){nn(a.b,f);var p=f,d=a.D;d&&p.setTimeout(d),p.h&&(me(p),ye(p)),a.a=f}else Nn(a);0<n.f.length&&In(n)}else"stop"!=i[0]&&"close"!=i[0]||Vn(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Vn(n,7):En(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Kt(4)}catch(v){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)k(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(l(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ee(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Se(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=ue.prototype).setTimeout=function(t){this.N=t},i.Sa=function(t){t=t.target;var e=this.D;e&&3==wn(t)?e.Ia():this.ya(t)},i.ya=function(t){try{if(t==this.a)t:{var e=wn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!B&&!this.a.Y())){this.l||4!=e||7==n||Kt(8==n||0>=r?3:2),me(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,Zt(12),we(this),_e(this);break t}this.o=!0,be(this,u)}this.F?(de(this,e,o),B&&this.b&&3==e&&(Bt(this.G,this.O,"tick",this.Ra),this.O.start())):be(this,o),4==e&&we(this),this.b&&!this.l&&(4==e?Rn(this.g,this):(this.b=!1,ye(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),we(this),_e(this)}}}catch(c){}},i.Ra=function(){if(this.a){var t=wn(this.a),e=this.a.Y();this.w<e.length&&(me(this),de(this,t,e),this.b&&4!=t&&ye(this))}},i.cancel=function(){this.l=!0,we(this)},i.Qa=function(){this.h=null;var t=m();0<=t-this.P?(2!=this.B&&(Kt(3),Zt(17)),we(this),this.c=2,_e(this)):ge(this,this.P-t)},(i=Ce.prototype).I=function(){Ee(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Ee(this),this.a.concat()},i.get=function(t,e){return Se(this.b,t)?this.b[t]:e},i.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Te=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ie(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ie){this.a=void 0!==e?e:t.a,xe(this,t.f),this.j=t.j,Oe(this,t.c),Ne(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Pe(this,n),this.i=t.i}else t&&(n=String(t).match(Te))?(this.a=!!e,xe(this,n[1]||"",!0),this.j=je(n[2]||""),Oe(this,n[3]||"",!0),Ne(this,n[4]),this.g=je(n[5]||"",!0),Pe(this,n[6]||"",!0),this.i=je(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function Ae(t){return new Ie(t)}function xe(t,e,n){t.f=n?je(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Oe(t,e,n){t.c=n?je(e,!0):e}function Ne(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Pe(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&(He(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ge(this,e),Qe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ve(e,qe)),t.b=new ze(e,t.a))}function De(t,e,n){t.b.set(e,n)}function Re(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ve(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Me),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Me(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ie.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ve(e,Fe,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ve(e,Fe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ve(n,"/"==n.charAt(0)?Ue:Le,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ve(n,Be)),t.join("")};var Fe=/[#\/\?@]/g,Le=/[#\?:]/g,Ue=/[#\?]/g,qe=/[#\?@]/g,Be=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function He(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ge(t,e){He(t),e=Ke(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Se((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ee(t)))}function We(t,e){return He(t),e=Ke(t,e),Se(t.a.b,e)}function Qe(t,e,n){Ge(t,e),0<n.length&&(t.c=null,t.a.set(Ke(t,e),E(n)),t.b+=n.length)}function Ke(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Ze(t){this.g=t||$e,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=ze.prototype).add=function(t,e){He(this),this.c=null,t=Ke(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){He(this),this.a.forEach((function(n,r){k(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.K=function(){He(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.I=function(t){He(this);var e=[];if("string"==typeof t)We(this,t)&&(e=C(e,this.a.get(Ke(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},i.set=function(t,e){return He(this),this.c=null,We(this,t=Ke(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var $e=10;function Xe(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Je(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),s=o.next();!s.done;s=o.next())i=i.concat(s.value.i)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return E(t.c)}function on(){}function sn(){this.a=new on}function an(t,e,n){var r=n||"";try{ke(t,(function(t,n){var i=t;h(t)&&(i=Et(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ze.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},on.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},on.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var cn=a.JSON.parse;function ln(t){kt.call(this),this.headers=new Ce,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(ln,kt);var hn="",fn=/^https?$/i,pn=["POST","PUT"];function dn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yn(t),mn(t)}function yn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function gn(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=wn(t)||2!=t.S()))if(t.l&&4==wn(t))Mt(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==wn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Te)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!fn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<wn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.S()+"]",yn(t)}}finally{mn(t)}}}function mn(t,e){if(t.a){_n(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function wn(t){return t.a?t.a.readyState:0}function bn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):De(t,e,n))}function kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=kn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=kn("baseRetryDelayMs",5e3,t),this.Ga=kn("retryDelaySeedMs",1e4,t),this.Da=kn("forwardChannelMaxRetries",2,t),this.ga=kn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Ze(t&&t.concurrentRequestLimit),this.ja=new sn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function En(t){if(Sn(t),3==t.u){var e=t.H++,n=Ae(t.v);De(n,"SID",t.B),De(n,"RID",e),De(n,"TYPE","terminate"),xn(t,n),(e=new ue(t,e,void 0)).B=2,e.f=Re(Ae(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=Ln(e.g,null),e.a.$(e.f)),e.s=m(),ye(e)}Mn(t)}function Sn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),Dn(t),t.b.cancel(),t.g&&("number"==typeof t.g&&a.clearTimeout(t.g),t.g=null)}function Tn(t,e){t.f.push(new Ye(t.Fa++,e)),3==t.u&&In(t)}function In(t){Xe(t.b)||t.g||(t.g=!0,Nt(t.xa,t),t.o=0)}function An(t,e){var n;n=e?e.W:t.H++;var r=Ae(t.v);De(r,"SID",t.B),De(r,"RID",n),De(r,"AID",t.G),xn(t,r),t.h&&t.j&&bn(r,t.h,t.j),n=new ue(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=On(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),fe(n,r,e)}function xn(t,e){t.c&&ke({},(function(t,n){De(e,n,t)}))}function On(t,e,n){n=Math.min(t.f.length,n);var r=t.c?y(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{an(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Nn(t){t.a||t.i||(t.J=1,Nt(t.wa,t),t.m=0)}function Pn(t){return!(t.a||t.i||3<=t.m||(t.J++,t.i=Xt(y(t.wa,t),jn(t,t.m)),t.m++,0))}function Dn(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Rn(t,e){var n=null;if(t.a==e){Dn(t),t.a=null;var r=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=m()-e.s;var i=t.o;(r=Wt()).dispatchEvent(new $t(r,n,e,i)),In(t)}else Nn(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Je(t.b)>=t.b.f-(t.g?1:0)||(t.g?(t.f=e.i.concat(t.f),0):1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)||(t.g=Xt(y(t.xa,t,e),jn(t,t.o)),t.o++,0)))}(t,e)||2==r&&Pn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Vn(t,5);break;case 4:Vn(t,10);break;case 3:Vn(t,6);break;default:Vn(t,2)}}function jn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Vn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=y(t.Ta,t);n||(n=new Ie("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||xe(n,"https"),Re(n)),function(t,e){var n=new Ht;if(a.Image){var r=new Image;r.onload=g(un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=g(un,n,r,"TestLoadImage: error",!1,e),r.onabort=g(un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=g(un,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.la(e),Mn(t),Sn(t)}function Mn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,E(t.f),t.f.length=0),t.c.ka())}function Fn(t,e,n){var r=function(t){return t instanceof Ie?Ae(t):new Ie(t,void 0)}(n);if(""!=r.c)e&&Oe(r,e+"."+r.c),Ne(r,r.h);else{var i=a.location;r=function(t,e,n,r){var i=new Ie(null,void 0);return t&&xe(i,t),e&&Oe(i,e),n&&Ne(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&P(t.N,(function(t,e){De(r,e,t)})),n=t.ha,(e=t.s)&&n&&De(r,e,n),De(r,"VER",t.oa),xn(t,r),r}function Ln(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(t.Ea)).F=t.w,e}function Un(){}function qn(){if(U&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function Bn(t,e){kt.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!S(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Gn(this)}function zn(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hn(){se.call(this),this.status=1}function Gn(t){this.a=t}(i=ln.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.G?this.G:re),this.a.onreadystatechange=y(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void vn(this,o)}t=n||"";var i=new Ce(this.headers);r&&ke(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=dn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=b(pn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(t){return U&&Z(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.ta,this)):this.m=Mt(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?gn(this):this.Oa())},i.Oa=function(){gn(this)},i.S=function(){try{return 2<wn(this)?this.a.status:-1}catch(F){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(F){return""}},i.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cn(e)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=Cn.prototype).oa=8,i.u=1,i.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new ue(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?j(r=D(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=On(this,n,e),De(i=Ae(this.v),"RID",t),De(i,"CVER",22),this.s&&De(i,"X-HTTP-Session-Id",this.s),xn(this,i),this.h&&r&&bn(i,this.h,r),en(this.b,n),this.fa?(De(i,"$req",e),De(i,"SID","null"),n.R=!0,fe(n,i,null)):fe(n,i,e),this.u=2}}else 3==this.u&&(t?An(this,t):0==this.f.length||Xe(this.b)||An(this))},i.wa=function(){this.i=null,this.a=new ue(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Ae(this.ea);De(t,"RID","rpc"),De(t,"SID",this.B),De(t,"CI",this.U?"0":"1"),De(t,"AID",this.G),xn(this,t),De(t,"TYPE","xmlhttp"),this.h&&this.j&&bn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Re(Ae(t)),e.j=null,e.F=!0,pe(e,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Pn(this),Zt(19))},i.Ta=function(t){Zt(t?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},qn.prototype.a=function(t,e){return new Bn(t,e)},_(Bn,kt),(i=Bn.prototype).addEventListener=function(t,e,n,r){Bn.M.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){Bn.M.removeEventListener.call(this,t,e,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Zt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Fn(t,null,t.P),In(t)},i.close=function(){En(this.a)},i.La=function(t){if("string"==typeof t){var e={};e.__data__=t,Tn(this.a,e)}else this.g?((e={}).__data__=Et(t),Tn(this.a,e)):Tn(this.a,t)},i.C=function(){this.a.c=null,delete this.f,En(this.a),delete this.a,Bn.M.C.call(this)},_(zn,oe),_(Hn,se),_(Gn,Un),Gn.prototype.na=function(){this.a.dispatchEvent("a")},Gn.prototype.ma=function(t){this.a.dispatchEvent(new zn(t))},Gn.prototype.la=function(t){this.a.dispatchEvent(new Hn(t))},Gn.prototype.ka=function(){this.a.dispatchEvent("b")},qn.prototype.createWebChannel=qn.prototype.a,Bn.prototype.send=Bn.prototype.La,Bn.prototype.open=Bn.prototype.Ka,Bn.prototype.close=Bn.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",kt.prototype.listen=kt.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var Wn={createWebChannelTransport:function(){return new qn},ErrorCode:Jt,EventType:te,WebChannel:ne,XhrIo:ln},Qn=Wn.createWebChannelTransport,Kn=Wn.ErrorCode,Yn=Wn.EventType,Zn=Wn.WebChannel,$n=Wn.XhrIo;e.default=Wn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}var l,h=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=((l=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(i))try{i.call(this)}catch(d){e=d instanceof h?p(d.errors):[d]}if(u(o))for(var a=-1,l=o.length;++a<l;){var f=o[a];if(c(f))try{f.unsubscribe()}catch(d){e=e||[],d instanceof h?e=e.concat(p(d.errors)):e.push(d)}}if(e)throw new h(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new l),l);function p(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!t){o.destination=a;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),t,r,i)}return o}return _createClass(n,[{key:d,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(f),y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,s=i.complete,i!==a&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(v),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(t){return t}function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w(e)}function w(t){return 0===t.length?m:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var b,k=((b=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof v)return t;if(t[d])return t[d]()}return t||e||n?new v(t,e,n):new v(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof v?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=C(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:w(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=C(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new b(t)},b);function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var E,S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(f),I=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(v),A=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:d,value:function(){return new I(this)}},{key:"lift",value:function(t){var e=new x(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new S;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new T(this,t))}},{key:"asObservable",value:function(){var t=new k;return t.source=this,t}}]),n}(k)).create=function(t,e){return new x(t,e)},E),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):f.EMPTY}}]),n}(A);function O(t){return t&&"function"==typeof t.schedule}var N=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),P=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function j(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var V=function(t){if(t&&"function"==typeof t[g])return r=t,function(t){var e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return P(t);if(j(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,s),t};if(t&&"function"==typeof t[D])return e=t,function(t){for(var n=e[D]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=c(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function M(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new N(t,n,r);if(!i.closed)return e instanceof k?e.subscribe(i):V(e)(i)}var F=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(v);function L(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(t,e))}}var U=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}]),t}(),q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(v);function B(t,e){return new k((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function z(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){var i=t[g]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(j(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(R(t))return B(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[D](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof k?t:new k(V(t))}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(H((function(n,r){return z(t(n,r)).pipe(L((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new G(t,n))})}var G=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new W(t,this.project,this.concurrent))}}]),t}(),W=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new N(this,e,n),i=this.destination;i.add(r);var o=M(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(F);function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return H(m,t)}function K(t,e){return e?B(t,e):new k(P(t))}function Y(){return function(t){return t.lift(new $(t))}}var Z,$=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new X(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),X=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),J={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Z=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=f.EMPTY)),t}},{key:"refCount",value:function(){return Y()(this)}}]),n}(k).prototype)._subscribe},_isComplete:{value:Z._isComplete,writable:!0},getSubject:{value:Z.getSubject},connect:{value:Z.connect},refCount:{value:Z.refCount}},tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(I);function et(){return new A}function nt(t){return{toString:t}.toString()}function rt(t,e,n){return nt((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var it=rt("Inject",(function(t){return{token:t}})),ot=rt("Optional"),st=rt("Self"),at=rt("SkipSelf"),ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(var e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function lt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return dt(t,t[yt])||dt(t,t[_t])}function dt(t,e){return e&&e.token===t?e:null}function vt(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(wt))?t[gt]:null}var yt=ct({"\u0275prov":ct}),gt=ct({"\u0275inj":ct}),mt=ct({"\u0275provFallback":ct}),_t=ct({ngInjectableDef:ct}),wt=ct({ngInjectorDef:ct});function bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Ct=ct({__forward_ref__:ct});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return bt(this())},t}function St(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===Et}var It,At="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt="undefined"!=typeof global&&global,Pt=At||Nt||xt||Ot,Dt=ct({"\u0275cmp":ct}),Rt=ct({"\u0275dir":ct}),jt=ct({"\u0275pipe":ct}),Vt=ct({"\u0275mod":ct}),Mt=ct({"\u0275loc":ct}),Ft=ct({"\u0275fac":ct}),Lt=ct({__NG_ELEMENT_ID__:ct}),Ut=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ht({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),qt=new Ut("INJECTOR",-1),Bt={},zt=/\n/gm,Ht=ct({provide:String,useValue:ct}),Gt=void 0;function Wt(t){var e=Gt;return Gt=t,e}function Qt(t){var e=It;return It=t,e}function Kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default;if(void 0===Gt)throw new Error("inject() must be called from an injection context");return null===Gt?Zt(t,void 0,e):Gt.get(t,e&ut.Optional?null:void 0,e)}function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default;return(It||Kt)(St(t),e)}function Zt(t,e,n){var r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ut.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(bt(t),"]"))}function $t(t){for(var e=[],n=0;n<t.length;n++){var r=St(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ut.Default,s=0;s<r.length;s++){var a=r[s];a instanceof ot||"Optional"===a.ngMetadataName||a===ot?o|=ut.Optional:a instanceof at||"SkipSelf"===a.ngMetadataName||a===at?o|=ut.SkipSelf:a instanceof st||"Self"===a.ngMetadataName||a===st?o|=ut.Self:i=a instanceof it||a===it?a.token:a}e.push(Yt(i,o))}else e.push(Yt(r))}return e}var Xt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;if(e===Bt){var n=new Error("NullInjectorError: No provider for ".concat(bt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Jt=function t(){_classCallCheck(this,t)},te=function t(){_classCallCheck(this,t)};function ee(t,e){t.forEach((function(t){return Array.isArray(t)?ee(t,e):e(t)}))}function ne(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function re(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ie(t,e){var n=oe(t,e);if(n>=0)return t[1|n]}function oe(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var se=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ae=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},ce=[],le=0;function he(t){return nt((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ae.Emulated,id:"c",styles:t.styles||ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=le++,i.inputs=ye(t.inputs,r),i.outputs=ye(t.outputs),s&&s.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(fe)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(pe)}:null,i}))}function fe(t){return me(t)||function(t){return t[Rt]||null}(t)}function pe(t){return function(t){return t[jt]||null}(t)}var de={};function ve(t){var e={type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt((function(){de[t.id]=t.type})),e}function ye(t,e){if(null==t)return ue;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var ge=he;function me(t){return t[Dt]||null}function _e(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}function we(t,e){var n=t[Vt]||null;if(!n&&!0===e)throw new Error("Type ".concat(bt(t)," does not have '\u0275mod' property."));return n}function be(t){return Array.isArray(t)&&"object"==typeof t[1]}function ke(t){return Array.isArray(t)&&!0===t[1]}function Ce(t){return 0!=(8&t.flags)}function Ee(t){return 2==(2&t.flags)}function Se(t){return 1==(1&t.flags)}function Te(t){return null!==t.template}function Ie(t){return 0!=(512&t[2])}var Ae=void 0;function xe(t){return!!t.listen}var Oe={createRenderer:function(t,e){return void 0!==Ae?Ae:"undefined"!=typeof document?document:void 0}};function Ne(t){for(;Array.isArray(t);)t=t[0];return t}function Pe(t,e){return Ne(e[t.index])}function De(t,e){return t.data[e+20]}function Re(t,e){var n=e[t];return be(n)?n:n[0]}function je(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ve(t){return 128==(128&t[2])}function Me(t,e){return null===t||null==e?null:t[e]}function Fe(t){t[18]=0}function Le(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Ue={lFrame:nn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function qe(){return Ue.bindingsEnabled}function Be(){return Ue.lFrame.lView}function ze(){return Ue.lFrame.tView}function He(t){Ue.lFrame.contextLView=t}function Ge(){return Ue.lFrame.previousOrParentTNode}function We(t,e){Ue.lFrame.previousOrParentTNode=t,Ue.lFrame.isParent=e}function Qe(){return Ue.lFrame.isParent}function Ke(){return Ue.checkNoChangesMode}function Ye(t){Ue.checkNoChangesMode=t}function Ze(t,e){var n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,$e(e)}function $e(t){Ue.lFrame.currentDirectiveIndex=t}function Xe(t){Ue.lFrame.currentQueryIndex=t}function Je(t,e){var n=en();Ue.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function tn(t,e){var n=en(),r=t[1];Ue.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function en(){var t=Ue.lFrame,e=null===t?null:t.child;return null===e?nn(t):e}function nn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function rn(){var t=Ue.lFrame;return Ue.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var on=rn;function sn(){var t=rn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return Ue.lFrame.selectedIndex}function un(t){Ue.lFrame.selectedIndex=t}function cn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function ln(t,e,n){pn(t,e,3,n)}function hn(t,e,n,r){(3&t[2])===n&&pn(t,e,n,r)}function fn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function pn(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(dn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function dn(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var vn=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function yn(t,e,n){for(var r=xe(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];mn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function gn(t){return 3===t||4===t||6===t}function mn(t){return 64===t.charCodeAt(0)}function _n(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||wn(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function wn(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function bn(t){return-1!==t}function kn(t){return 32767&t}function Cn(t){return t>>16}function En(t,e){for(var n=Cn(t),r=e;n>0;)r=r[15],n--;return r}function Sn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function(t){return"string"==typeof t?t:null==t?"":""+t}(t)}var Tn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt);function In(t){return t instanceof Function?t():t}var An=!0;function xn(t){var e=An;return An=t,e}var On=0;function Nn(t,e){var n=Dn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Pn(r.data,t),Pn(e,null),Pn(r.blueprint,null));var i=Rn(t,e),o=t.injectorIndex;if(bn(i))for(var s=kn(i),a=En(i,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=i,o}function Pn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function jn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[Lt]:n.charCodeAt(0)||0;null==r&&(r=n[Lt]=On++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Vn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[Lt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Je(e,t);try{var s=o();if(null!=s||r&ut.Optional)return s;throw new Error("No provider for ".concat(Sn(n),"!"))}finally{on()}}else if("number"==typeof o){if(-1===o)return new Bn(t,e);var a=null,u=Dn(t,e),c=-1,l=r&ut.Host?e[16][6]:null;for((-1===u||r&ut.SkipSelf)&&(c=-1===u?Rn(t,e):e[u+8],qn(r,!1)?(a=e[1],u=kn(c),e=En(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(Un(o,u,h.data)){var f=Fn(u,e,n,a,r,l);if(f!==Mn)return f}qn(r,e[1].data[u+8]===l)&&Un(o,u,e)?(a=h,u=kn(c),e=En(c,e)):u=-1}}}if(r&ut.Optional&&void 0===i&&(i=null),0==(r&(ut.Self|ut.Host))){var p=e[9],d=Qt(void 0);try{return p?p.get(n,i,r&ut.Optional):Zt(n,i,r&ut.Optional)}finally{Qt(d)}}if(r&ut.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Sn(n),"]"))}var Mn={};function Fn(t,e,n,r,i,o){var s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var p=s[u];if(p&&Te(p)&&p.type===n)return u}return null}(a,s,n,null==r?Ee(a)&&An:r!=s&&3===a.type,i&ut.Host&&o===a);return null!==u?Ln(e,s,u,a):Mn}function Ln(t,e,n,r){var i=t[n],o=e.data;if(i instanceof vn){var s=i;if(s.resolving)throw new Error("Circular dep for ".concat(Sn(o[n])));var a,u=xn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=Qt(s.injectImpl)),Je(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Qt(a),xn(u),s.resolving=!1,on()}}return i}function Un(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function qn(t,e){return!(t&ut.Self||t&ut.Host&&e)}var Bn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return Vn(this._tNode,this._lView,t,void 0,e)}}]),t}();function zn(t){return nt((function(){var e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ft]||function t(e){var n=e;if(Tt(e))return function(){var e=t(St(n));return e?e():null};var r=_e(n);if(null===r){var i=vt(n);r=i&&i.factory}return r||null}(e);return null!==n?n:function(t){return new t}}))}function Hn(t){return t.ngDebugContext}function Gn(t){return t.ngOriginalError}function Wn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Qn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Wn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Hn(t)?Hn(t):this._findContext(Gn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Gn(t);e&&Gn(e);)e=Gn(e);return e}}]),t}(),Kn=!0,Yn=!1;function Zn(){return Yn=!0,Kn}function $n(t,e){t.__ngContext__=e}function Xn(t){throw new Error("Multiple components match node with tagname ".concat(t.tagName))}function Jn(){throw new Error("Cannot mix multi providers and regular providers")}function tr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function er(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==tr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function nr(t){return 0===t.type&&"ng-template"!==t.tagName}function rr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function ir(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(gn(t[e]))return e;return t.length}(i),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!rr(t,u,n)||""===u&&1===e.length){if(or(r))return!1;s=!0}}else{var c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!er(t.attrs,c,n)){if(or(r))return!1;s=!0}continue}var l=sr(8&r?"class":u,i,nr(t),n);if(-1===l){if(or(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==tr(f,c,0)||2&r&&c!==h){if(or(r))return!1;s=!0}}}}else{if(!s&&!or(r)&&!or(u))return!1;if(s&&or(u))continue;s=!1,r=u|1&r}}return or(r)||s}function or(t){return 0==(1&t)}function sr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ar(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(ir(t,e[r],n))return!0;return!1}function ur(t,e){return t?":not("+e.trim()+")":e}function cr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||or(s)||(e+=ur(o,i),i=""),r=s,o=o||!or(r);n++}return""!==i&&(e+=ur(o,i)),e}var lr={};function hr(t){var e=t[3];return ke(e)?e[3]:e}function fr(t){pr(ze(),Be(),an()+t,Ke())}function pr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&ln(e,i,n)}else{var o=t.preOrderHooks;null!==o&&hn(e,o,0,n)}un(n)}function dr(t,e){return t<<17|e<<2}function vr(t){return t>>17&32767}function yr(t){return 2|t}function gr(t){return(131068&t)>>2}function mr(t,e){return-131069&t|e<<2}function _r(t){return 1|t}function wr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];Xe(i),s.contentQueries(2,e[o],o)}}}function br(t,e,n){return xe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function kr(t,e,n,r,i,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Fe(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Cr(t,e,n,r,i,o){var s=n+20,a=t.data[s]||function(t,e,n,r,i,o){var s=Ge(),a=Qe(),u=a?s:s&&s.parent,c=t.data[n]=Pr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return We(a,!0),a}function Er(t,e,n){tn(e,e[6]);try{var r=t.viewQuery;null!==r&&ei(1,r,n);var i=t.template;null!==i&&Ir(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wr(t,e),t.staticViewQueries&&ei(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Zr(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,sn()}}function Sr(t,e,n,r){var i=e[2];if(256!=(256&i)){tn(e,e[6]);var o=Ke();try{Fe(e),Ue.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ir(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&ln(e,a,null)}else{var u=t.preOrderHooks;null!==u&&hn(e,u,0,null),fn(e,0)}if(function(t){for(var e=Qr(t);null!==e;e=Kr(e))if(0!=(1&e[2]))for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Le(o,1),i[2]|=1024}}(e),function(t){for(var e=Qr(t);null!==e;e=Kr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Ve(r)&&Sr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&wr(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&ln(e,c)}else{var l=t.contentHooks;null!==l&&hn(e,l,1),fn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(un(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(Ze(r,i),s(2,e[i])),i++)}}finally{un(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Yr(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ei(2,f,r),!o)if(s){var p=t.viewCheckHooks;null!==p&&ln(e,p)}else{var d=t.viewHooks;null!==d&&hn(e,d,2),fn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Le(e[3],-1))}finally{sn()}}}function Tr(t,e,n,r){var i=e[10],o=!Ke(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Er(t,e,r),Sr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ir(t,e,n,r,i){var o=an();try{un(-1),2&r&&e.length>20&&pr(t,e,0,Ke()),n(r,i)}finally{un(o)}}function Ar(t,e,n){qe()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Nn(n,e),$n(r,e);for(var s=n.initialInputs,a=i;a<o;a++){var u=t.data[a],c=Te(u);c&&zr(e,n,u);var l=Ln(e,t,a,n);$n(l,e),null!==s&&Hr(0,a-i,l,u,0,s),c&&(Re(n.index,e)[8]=l)}}(t,e,n,Pe(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=Ue.lFrame.currentDirectiveIndex;try{un(a);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];$e(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?Mr(l,h):s&&o.push(null)}}finally{un(-1),$e(u)}}(t,e,n))}function xr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}function Or(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Nr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Nr(t,e,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:lr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Pr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Dr(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Rr(t,e,n,r){var i=!1;if(qe()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];ar(n,s.selectors,!1)&&(i||(i=[]),jn(Nn(n,e),t,s.type),Te(s)?(2&n.flags&&Xn(n),Lr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,qr(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}Fr(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var p=o[f];n.mergedAttrs=_n(n.mergedAttrs,p.hostAttrs),Br(t,e,p),Ur(t.data.length-1,p,s),null!==p.contentQueries&&(n.flags|=8),null===p.hostBindings&&null===p.hostAttrs&&0===p.hostVars||(n.flags|=128),!l&&(p.onChanges||p.onInit||p.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!p.onChanges&&!p.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),jr(t,p),a+=p.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||nr(e)?null:Gr(l,i);o.push(h),s=Dr(l,u,s),a=Dr(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Vr(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=_n(n.mergedAttrs,n.attrs),i}function jr(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Vr(t,e,n){for(var r=0;r<n;r++)e.push(lr),t.blueprint.push(lr),t.data.push(null)}function Mr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fr(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Lr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ur(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Te(e)&&(n[""]=t)}}function qr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Br(t,e,n){t.data.push(n);var r=n.factory||(n.factory=_e(n.type)),i=new vn(r,Te(n),null);t.blueprint.push(i),e.push(i)}function zr(t,e,n){var r=Pe(e,t),i=Or(n),o=t[10],s=$r(t,kr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Hr(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function Gr(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wr(t,e,n,r){return new Array(t,!0,-2,e,null,0,r,n,null,null)}function Qr(t){for(var e=t[13];null!==e&&(!ke(e)||e[2]>>1!=-1);)e=e[4];return e}function Kr(t){for(var e=t[4];null!==e&&(!ke(e)||e[2]>>1!=-1);)e=e[4];return e}function Yr(t,e){var n=Re(e,t);if(Ve(n)){var r=n[1];80&n[2]?Sr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Qr(e);null!==n;n=Kr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Sr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=Re(s[a],e);Ve(u)&&u[5]>0&&t(u)}}(n)}}function Zr(t,e){var n=Re(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Er(r,n,n[8])}function $r(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xr(t){for(;t;){t[2]|=64;var e=hr(t);if(Ie(t)&&!e)return t;t=e}return null}function Jr(t,e,n){var r=e[10];r.begin&&r.begin();try{Sr(t,e,t.template,n)}catch(i){throw ii(e,i),i}finally{r.end&&r.end()}}function ti(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=je(n),i=r[1];Tr(i,r,i.template,n)}}(t[8])}function ei(t,e,n){Xe(0),e(t,n)}var ni=Promise.resolve(null);function ri(t){return t[7]||(t[7]=[])}function ii(t,e){var n=t[9],r=n?n.get(Qn,null):null;r&&r.handleError(e)}function oi(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function si(t,e){var n=e[3];return-1===t.index?ke(n)?n:null:n}function ai(t,e){var n=si(t,e);return n?mi(e[11],n[7]):null}function ui(t,e,n,r,i){if(null!=r){var o,s=!1;ke(r)?o=r:be(r)&&(s=!0,r=r[0]);var a=Ne(r);0===t&&null!==n?null==i?yi(e,n,a):vi(e,n,a,i||null):1===t&&null!==n?vi(e,n,a,i||null):2===t?function(t,e,n){var r=mi(t,e);r&&function(t,e,n,r){xe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ne(n)&&ui(e,t,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];ki(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function ci(t,e,n,r){var i=ai(t.node,e);i&&ki(t,e,e[11],n?1:2,i,r)}function li(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&Le(e[3],-1),n.splice(r,1)}function hi(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&li(i,r),e>0&&(t[n-1][4]=r[4]);var o=re(t,10+e);ci(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function fi(t,e){if(!(256&e[2])){var n=e[11];xe(n)&&n.destroyNode&&ki(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return di(t[1],t);for(;e;){var n=null;if(be(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)be(e)&&di(e[1],e),e=pi(e,t);null===e&&(e=t),be(e)&&di(e[1],e),n=e&&e[4]}e=n}}(e)}}function pi(t,e){var n;return be(t)&&(n=t[6])&&2===n.type?si(n,t):t[3]===e?null:t[3]}function di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof vn)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Ne(e[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&xe(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&ke(e[3])){r!==e[3]&&li(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function vi(t,e,n,r){xe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function yi(t,e,n){xe(t)?t.appendChild(e,n):e.appendChild(n)}function gi(t,e,n,r){null!==r?vi(t,e,n,r):yi(t,e,n)}function mi(t,e){return xe(t)?t.parentNode(e):e.parentNode}function _i(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?ai(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Pe(e,n).parentNode;if(2&r.flags){var o=t.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==ae.ShadowDom&&s!==ae.Native)return null}return Pe(r,n)}(t,r,e);if(null!=i){var o=e[11],s=function(t,e){if(2===t.type){var n=si(t,e);return null===n?null:wi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Pe(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)gi(o,i,n[a],s);else gi(o,i,n,s)}}function wi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Pe(n,e);if(0===r)return wi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return ke(o)?wi(-1,o):Ne(o)}var s=e[16],a=s[6],u=hr(s),c=a.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function bi(t,e,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===e&&(a&&$n(Ne(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(bi(t,e,n.child,r,i,o,!1),ui(e,t,i,a,o)):1===u?Ci(t,e,r,n,i,o):ui(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function ki(t,e,n,r,i,o){bi(n,r,t.node.child,e,i,o,!1)}function Ci(t,e,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)ui(e,t,i,a[u],o);else bi(t,e,a,s[3],i,o,!0)}function Ei(t,e,n){xe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Si(t,e,n){xe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ti,Ii,Ai,xi=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}fi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,ri(n=this._lView).push(r),e.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Xr(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Jr(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){Ye(!0);try{Jr(t,e,n)}finally{Ye(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,ki(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Ne(s)),ke(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var p=hr(h);t(p[1],p,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Oi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){ti(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Ye(!0);try{ti(t)}finally{Ye(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(xi);function Ni(t,e,n){return Ti||(Ti=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Ti(Pe(e,n))}var Pi=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Di()},t}(),Di=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ee(t)){var r=Re(t.index,e);return new xi(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new xi(e[16],e):null}(Ge(),Be(),t)},Ri=new Ut("Set Injector scope."),ji={},Vi={},Mi=[],Fi=void 0;function Li(){return void 0===Fi&&(Fi=new Xt),Fi}function Ui(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new qi(t,n,e||Li(),r)}var qi=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&ee(n,(function(t){return i.processProvider(t,e,n)})),ee([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set(qt,Hi(void 0,this));var a=this.records.get(Ri);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:bt(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.Default;this.assertNotDestroyed();var r,i=Wt(this);try{if(!(n&ut.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Ut)&&pt(t);o=s&&this.injectableDefInScope(s)?Hi(Bi(t),ji):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&ut.Self?Li():this.parent).get(t,e=n&ut.Optional&&e===Bt?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(bt(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):bt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(zt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{Wt(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(bt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=St(t)))return!1;var i=vt(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=vt(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{ee(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;ee(i,(function(t){return r.processProvider(t,n,i||Mi)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,Hi(i.factory,ji));var h=i.providers;if(null!=h&&!a){var f=t;ee(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Wi(t=St(t))?t:St(t&&t.provide),i=function(t,e,n){return Gi(t)?Hi(void 0,t.useValue):Hi(zi(t,e,n),ji)}(t,e,n);if(Wi(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Jn()}else{var s=this.records.get(r);s?void 0===s.multi&&Jn():((s=Hi(void 0,ji,!0)).factory=function(){return $t(s.multi)},this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Vi?function(t){throw new Error("Cannot instantiate cyclic dependency! ".concat(t))}(bt(t)):e.value===ji&&(e.value=Vi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Bi(t){var e=pt(t),n=null!==e?e.factory:_e(t);if(null!==n)return n;var r=vt(t);if(null!==r)return r.factory;if(t instanceof Ut)throw new Error("Token ".concat(bt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(bt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[yt]||t[_t]||t[mt]&&t[mt]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function zi(t,e,n){var r,i=void 0;if(Wi(t)){var o=St(t);return _e(o)||Bi(o)}if(Gi(t))i=function(){return St(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray($t(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Yt(St(t.useExisting))};else{var s=St(t&&(t.useClass||t.provide));if(s||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(bt(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return _e(s)||Bi(s);i=function(){return _construct(s,_toConsumableArray($t(t.deps)))}}return i}function Hi(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Gi(t){return null!==t&&"object"==typeof t&&Ht in t}function Wi(t){return"function"==typeof t}var Qi=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Ui(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Ki=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Qi(t,e,""):Qi(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Bt,t.NULL=new Xt,t.\u0275prov=ht({token:t,providedIn:"any",factory:function(){return Yt(qt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Yi=new Ut("AnalyzeForEntryComponents"),Zi=new Map,$i=new Set;function Xi(t){return"string"==typeof t?t:t.text()}function Ji(t,e){for(var n=t.styles,r=t.classes,i=0,o=0;o<e.length;o++){var s=e[o];"number"==typeof s?i=s:1==i?r=kt(r,s):2==i&&(n=kt(n,s+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}var to=null;function eo(){if(!to){var t=Pt.Symbol;if(t&&t.iterator)to=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(to=r)}}return to}function no(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function ro(t){return!!io(t)&&(Array.isArray(t)||!(t instanceof Map)&&eo()in t)}function io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function so(t,e,n,r,i,o,s,a){var u=Be(),c=ze(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){var c=e.consts,l=Cr(e,n[6],t,0,s||null,Me(c,a));Rr(e,n,l,Me(c,u)),cn(e,l);var h=l.tViews=Nr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Pr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];We(h,!1);var f=u[11].createComment("");_i(c,u,f,h),$n(f,u),$r(u,u[l]=Wr(f,u,f,h)),Se(h)&&Ar(c,u,h),null!=s&&xr(u,h,a)}function ao(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default,n=Be();return null==n?Yt(t,e):Vn(Ge(),n,St(t),e)}function uo(){throw new Error("invalid")}function co(t,e,n){var r,i=Be();return oo(i,Ue.lFrame.bindingIndex++,e)&&function(t,e,n,r,i,o,s,a){var u,c=Pe(e,n),l=e.inputs;null!=l&&(u=l[r])?(oi(t,n,u,r,i),Ee(e)&&function(t,e){var n=Re(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,xe(o)?o.setProperty(c,r,i):mn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(ze(),De((r=Ue.lFrame).tView,r.selectedIndex),i,t,e,i[11],n),co}function lo(t,e,n,r,i){var o=i?"class":"style";oi(t,n,e.inputs[o],o,r)}function ho(t,e,n,r){var i=Be(),o=ze(),s=20+t,a=i[11],u=i[s]=br(e,a,Ue.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var a=e.consts,u=Me(a,o),c=Cr(e,n[6],t,3,i,u);return Rr(e,n,c,Me(a,s)),null!==c.mergedAttrs&&Ji(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];We(c,!0);var l=c.mergedAttrs;null!==l&&yn(a,u,l);var h=c.classes;null!==h&&Si(a,u,h);var f=c.styles;null!==f&&Ei(a,u,f),_i(o,i,u,c),0===Ue.lFrame.elementDepthCount&&$n(u,i),Ue.lFrame.elementDepthCount++,Se(c)&&(Ar(o,i,c),function(t,e,n){if(Ce(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&xr(i,c)}function fo(){var t=Ge();Qe()?Ue.lFrame.isParent=!1:We(t=t.parent,!1);var e=t;Ue.lFrame.elementDepthCount--;var n=ze();n.firstCreatePass&&(cn(n,t),Ce(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,Be(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,Be(),e.styles,!1)}function po(t,e,n,r){ho(t,e,n,r),fo()}function vo(){return Be()}function yo(t){return!!t&&"function"==typeof t.then}function go(t){return!!t&&"function"==typeof t.subscribe}function mo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Be(),o=ze(),s=Ge();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=Se(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ri(e),h=!0;if(3===r.type){var f=Pe(r,e),p=a?a(f):ue,d=p.target||f,v=l.length,y=a?function(t){return a(Ne(t[r.index])).target}:r.index;if(xe(n)){var g=null;if(!a&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=wo(r,e,o,!1);var m=n.listen(p.name||d,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=wo(r,e,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var _,w=r.outputs;if(h&&null!==w&&(_=w[i])){var b=_.length;if(b)for(var k=0;k<b;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],s,t,e,n,r),mo}function _o(t,e,n){try{return!1!==e(n)}catch(r){return ii(t,r),!1}}function wo(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?Re(t.index,e):e;0==(32&e[2])&&Xr(s);for(var a=_o(e,n,o),u=i.__ngNextListenerFn__;u;)a=_o(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function bo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Ue.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ue.lFrame.contextLView))[8]}(t)}var ko=[];function Co(t,e,n,r,i){for(var o=t[n+1],s=null===e,a=r?vr(o):gr(o),u=!1;0!==a&&(!1===u||s);){var c=t[a+1];Eo(t[a],e)&&(u=!0,t[a+1]=r?_r(c):yr(c)),a=r?vr(c):gr(c)}u&&(t[n+1]=r?yr(o):_r(o))}function Eo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oe(t,e)>=0}function So(t,e){return function(t,e,n,r){var i,o,s,a=Be(),u=ze(),c=(i=Ue.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[an()+20],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Io(n=To(null,t,e,n,!0),e.attrs,!0),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=To(i,t,e,n,!0),null===o){var a=function(t,e,n){var r=e.classBindings;if(0!==gr(r))return t[vr(r)]}(t,e);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[vr(e.classBindings)]=r}(t,e,0,a=Io(a=To(null,t,e,a[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Io(r,t[o].hostAttrs,!0);return Io(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var s=e.classBindings,a=vr(s),u=gr(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||oe(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=vr(t[a+1]);t[r+1]=dr(f,a),0!==f&&(t[f+1]=mr(t[f+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=dr(a,0),0!==a&&(t[a+1]=mr(t[a+1],r)),a=r;else t[r+1]=dr(u,0),0===a?a=r:t[u+1]=mr(t[u+1],r),u=r;l&&(t[r+1]=yr(t[r+1])),Co(t,c,r,!0),Co(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&oe(o,e)>=0&&(n[r+1]=_r(n[r+1]))}(e,c,t,r),s=dr(a,u),e.classBindings=s}(i,o,e,n,s)}}(u,t,c),e!==lr&&oo(a,c,e))&&(null==n&&(s=function(){var t=Ue.lFrame;return null===t?null:t.currentSanitizer}())&&(n=s),function(t,e,n,r,i,o,s,a){if(3===e.type){var u=t.data,c=u[a+1];xo(1==(1&c)?Ao(u,e,n,i,gr(c),!0):void 0)||(xo(o)||2==(2&c)&&(o=Ao(u,null,n,i,a,!0)),function(t,e,n,r,i){var o=xe(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,function(t,e){return Ne(e[t+20])}(an(),n),i,o))}}(u,u.data[an()+20],a,a[11],t,a[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=bt(function(t){return t instanceof function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}()?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),0,c))}(t,e,null),So}function To(t,e,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=Io(r,(o=e[a]).hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Io(t,e,n){var r,i,o,s,a=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],s=void 0,(s=oe(r,i))>=0?r[1|s]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,s=~s,i,o))}return void 0===t?null:t}function Ao(t,e,n,r,i,o){for(var s=null===e,a=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===lr&&(f=h?ko:void 0);var p=h?ie(f,r):l===r?f:void 0;if(c&&!xo(p)&&(p=ie(u,r)),xo(p)&&(a=p,s))return a;var d=t[i+1];i=s?vr(d):gr(d)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=ie(v,r))}return a}function xo(t){return void 0!==t}function Oo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Be(),r=ze(),i=t+20,o=r.firstCreatePass?Cr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return xe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);_i(r,n,s,o),We(o,!1)}function No(t,e){var n=je(t)[1],r=n.data.length-1;cn(n,{directiveStart:r,directiveEnd:r+1})}function Po(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Te(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Do(t.inputs),o.declaredInputs=Do(t.declaredInputs),o.outputs=Do(t.outputs);var s=i.hostBindings;s&&Vo(t,s);var a=i.viewQuery,u=i.contentQueries;if(a&&Ro(t,a),u&&jo(t,u),lt(t.inputs,i.inputs),lt(t.declaredInputs,i.declaredInputs),lt(t.outputs,i.outputs),Te(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Po&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_n(i.hostAttrs,n=_n(n,i.hostAttrs))}}(r)}function Do(t){return t===ue?{}:t===ce?[]:t}function Ro(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function jo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Vo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Mo=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Fo(t){t.type.prototype.ngOnChanges&&(t.setInput=Lo,t.onChanges=function(){var t=Uo(this),e=t&&t.current;if(e){var n=t.previous;if(n===ue)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Lo(t,e,n,r){var i=Uo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Mo(u&&u.currentValue,e,s===ue),t[r]=e}function Uo(t){return t.__ngSimpleChanges__||null}function qo(t,e,n,r,i){if(t=St(t),Array.isArray(t))for(var o=0;o<t.length;o++)qo(t[o],e,n,r,i);else{var s=ze(),a=Be(),u=Wi(t)?t:St(t.provide),c=zi(t),l=Ge(),h=65535&l.providerIndexes,f=l.directiveStart,p=l.providerIndexes>>16;if(Wi(t)||!t.multi){var d=new vn(c,i,ao),v=Ho(u,e,i?h:h+p,f);-1===v?(jn(Nn(l,a),s,u),Bo(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(d),a.push(d)):(n[v]=d,a[v]=d)}else{var y=Ho(u,e,h+p,f),g=Ho(u,e,h,h+p),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){jn(Nn(l,a),s,u);var w=function(t,e,n,r,i){var o=new vn(t,n,ao);return o.multi=[],o.index=e,o.componentProviders=0,zo(o,i,r&&!n),o}(i?Wo:Go,n.length,i,r,c);!i&&_&&(n[g].providerFactory=w),Bo(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(w),a.push(w)}else Bo(s,t,y>-1?y:g,zo(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function Bo(t,e,n,r){var i=Wi(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function zo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ho(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Go(t,e,n,r){return Qo(this.multi,[])}function Wo(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=Ln(n,n[1],this.providerFactory.index,r);Qo(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Qo(o,i=[]);return i}function Qo(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ze();if(r.firstCreatePass){var i=Te(t);qo(n,r.data,r.blueprint,i,!0),qo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Fo.ngInherit=!0;var Yo=function t(){_classCallCheck(this,t)},Zo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(bt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),$o=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Zo,t}(),Xo=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Jo(t)},t}(),Jo=function(t){return Ni(t,Ge(),Be())},ts=function t(){_classCallCheck(this,t)},es=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ns=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return rs()},t}(),rs=function(){var t=Be(),e=Re(Ge().index,t);return function(t){var e=t[11];if(xe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(be(e)?e:t)},is=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return null}}),t}(),os=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},ss=new os("9.1.7"),as=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return ro(t)}},{key:"create",value:function(t){return new cs(t)}}]),t}(),us=function(t,e){return e},cs=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||us}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<ps(n,r,i)?e:n,s=ps(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ro(t))throw new Error("Error trying to diff '".concat(bt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&no(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),no(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[eo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&no(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),no(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(no(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(no(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ls(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fs),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),ls=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},hs=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&no(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),fs=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new hs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function ps(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var ds=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||io(t)}},{key:"create",value:function(){return new vs}}]),t}(),vs=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||io(t)))throw new Error("Error trying to diff '".concat(bt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ys(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){no(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),ys=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},gs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new ot]]}}}]),t}();return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return new t([new as])}}),t}(),ms=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new ot]]}}}]),t}();return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return new t([new ds])}}),t}(),_s=[new ds],ws=new gs([new as]),bs=new ms(_s),ks=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Cs(t,Xo)},t}(),Cs=function(t,e){return function(t,e,n,r){return Ii||(Ii=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=kr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];null!==r&&(n[19]=r.createEmbeddedView(e)),Er(e,n,t);var i=new xi(n);return i._tViewNode=n[6],i}}]),n}(t)),0===n.type?new Ii(r,n,Ni(e,n,r)):null}(t,e,Ge(),Be())},Es=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ss(t,Xo)},t}(),Ss=function(t,e){return function(t,e,n,r){var i;Ai||(Ai=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(Jt,null);s&&(i=s)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ke(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new Ai(o,o[6],o[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ne(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]|=1),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,a),ci(r,n,!0,wi(a,this._lContainer)),t.attachToViewContainerRef(this),ne(this._lContainer[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=hi(t,e);n&&fi(n[1],n)}(this._lContainer,e),re(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=hi(this._lContainer,e);return n&&null!=re(this._lContainer[8],e)?new xi(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Ni(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Bn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=Rn(this._hostTNode,this._hostView),e=En(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Cn(t),s=e,a=e[6];o>1;)a=(s=s[15])[6],o--;return a}(t,this._hostView,this._hostTNode);return bn(t)&&null!=n?new Bn(n,e):new Bn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(ke(o))(function(t,e){t[2]=-2})(i=o);else{var s;if(4===n.type)s=Ne(o);else if(s=r[11].createComment(""),Ie(r)){var a=r[11],u=Pe(n,r);vi(a,mi(a,u),s,function(t,e){return xe(t)?t.nextSibling(e):e.nextSibling}(a,u))}else _i(r[1],r,s,n);r[n.index]=i=Wr(o,r,s,n),$r(r,i)}return new Ai(i,n,r)}(t,e,Ge(),Be())},Ts={},Is=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=me(t);return new Os(e,this.ngModule)}}]),n}($o);function As(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var xs=new Ut("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Tn}}),Os=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(cr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ts,i);return o!==Ts||r===Ts?o:e.get(n,r,i)}}}(t,r.injector):t,a=s.get(ts,Oe),u=s.get(is,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(xe(t))return t.selectRootElement(e,n===ae.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):br(l,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,p="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Tn,clean:ni,playerHandler:null,flags:0},v=Nr(0,-1,null,1,0,null,null,null,null,null),y=kr(null,v,d,f,null,null,a,c,u,s);tn(y,null);try{var g=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var a=Cr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ji(a,u),null!==t&&(yn(i,t,u),null!==a.classes&&Si(i,t,a.classes),null!==a.styles&&Ei(i,t,a.styles)));var c=r.createRenderer(t,e),l=kr(n,Or(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(jn(Nn(a,n),s,e.type),Lr(s,a),qr(a,n.length,1)),$r(n,l),n[20]=l}(h,this.componentDef,y,a,c);if(h)if(n)yn(c,h,["ng-version",ss.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!or(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,w=m.classes;_&&yn(c,h,_),w&&w.length>0&&Si(c,h,w.join(" "))}if(o=De(v,0),void 0!==e)for(var b=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];b.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=Ge();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fr(t,r,1),Br(t,e,n));var i=Ln(e,t,e.length-1,r);$n(i,e);var o=Pe(r,e);return o&&$n(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=Ge();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){un(a.index-20);var u=n[1];jr(u,e),Vr(u,n,e.hostVars),Mr(e,s)}return s}(g,this.componentDef,y,d,[No]),Er(v,y,null)}finally{sn()}var E=new Ns(this.componentType,i,Ni(Xo,o,y),y,o);return n&&!p||(E.hostView._tViewNode.child=o),E}},{key:"inputs",get:function(){return As(this.componentDef.inputs)}},{key:"outputs",get:function(){return As(this.componentDef.outputs)}}]),n}(Yo),Ns=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a,u,c,l;return _classCallCheck(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new Oi(o),a.hostView._tViewNode=(u=o[1],c=o,null==(l=u.node)&&(u.node=l=Pr(0,null,2,-1,null,null)),c[6]=l),a.componentType=t,a}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new Bn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Ps=void 0,Ds=["en",[["a","p"],["AM","PM"],Ps],[["AM","PM"],Ps,Ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ps,"{1} 'at' {0}",Ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Rs={};function js(t){return t in Rs||(Rs[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),Rs[t]}var Vs=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Ms(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Fs=new Map,Ls=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Is(_assertThisInitialized(i));var o=we(t),s=t[Mt]||null;return s&&Ms(s),i._bootstrapComponents=In(o.bootstrap),i._r3Injector=Ui(t,r,[{provide:Jt,useValue:_assertThisInitialized(i)},{provide:$o,useValue:i.componentFactoryResolver}],bt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.Default;return t===Ki||t===Jt||t===qt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Jt),Us=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==we(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(bt(e)," vs ").concat(bt(e.name)))})(n,Fs.get(n),e),Fs.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new Ls(this.moduleType,t)}}]),n}(te),qs=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof f&&t.add(a),a}}]),n}(A),Bs=new Ut("Application Initializer"),zs=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();yo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Yt(Bs,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),Hs=new Ut("AppId"),Gs={provide:Hs,useFactory:function(){return"".concat(Ws()).concat(Ws()).concat(Ws())},deps:[]};function Ws(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Qs=new Ut("Platform Initializer"),Ks=new Ut("Platform ID"),Ys=new Ut("appBootstrapListener"),Zs=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),$s=new Ut("LocaleId"),Xs=new Ut("DefaultCurrencyCode"),Js=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},ta=function(t){return new Us(t)},ea=ta,na=function(t){return Promise.resolve(ta(t))},ra=function(t){var e=ta(t),n=In(we(t).declarations).reduce((function(t,e){var n=me(e);return n&&t.push(new Os(n)),t}),[]);return new Js(e,n)},ia=ra,oa=function(t){return Promise.resolve(ra(t))},sa=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=ea,this.compileModuleAsync=na,this.compileModuleAndAllComponentsSync=ia,this.compileModuleAndAllComponentsAsync=oa}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),aa=new Ut("compilerOptions"),ua=Promise.resolve(0);function ca(t){"undefined"==typeof Zone?ua.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var la=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qs(!1),this.onMicrotaskEmpty=new qs(!1),this.onStable=new qs(!1),this.onError=new qs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Pt.requestAnimationFrame,e=Pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,(function(){t.lastRequestAnimationFrameId=-1,da(t),pa(t)})),da(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,a){try{return va(n),t.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),ya(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return va(n),t.invoke(r,i,o,s,a)}finally{ya(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,da(n),pa(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,fa,ha,ha);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function ha(){}var fa={};function pa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function da(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function va(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ya(t){t._nesting--,pa(t)}var ga,ma=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qs,this.onMicrotaskEmpty=new qs,this.onStable=new qs,this.onError=new qs}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),_a=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){la.assertNotInAngularZone(),ca((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ca((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Yt(la))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),wa=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,ba.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ba.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),ba=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ka=function(t,e,n){var r=t.get(aa,[]).concat(e),i=new Us(n);if(0===Zi.size)return Promise.resolve(i);var o,s,a=(o=r.map((function(t){return t.providers})),s=[],o.forEach((function(t){return t&&s.push.apply(s,_toConsumableArray(t))})),s);if(0===a.length)return Promise.resolve(i);var u=function(){var t=Pt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=Ki.create({providers:a}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(Xi))}return e}return Zi.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((function(e,n){s.push(""),i.push(r(e).then((function(r){s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){$i.delete(t)}(n)}));e.push(u)})),Zi=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Ca=new Ut("AllowMultipleToken"),Ea=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Sa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Ut(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ta();if(!o||o.injector.get(Ca,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:Ri,useValue:"platform"});!function(t){if(ga&&!ga.destroyed&&!ga.injector.get(Ca,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ga=t.get(Ia);var e=t.get(Qs,null);e&&e.forEach((function(t){return t()}))}(Ki.create({providers:s,name:r}))}return function(t){var e=Ta();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ta(){return ga&&!ga.destroyed?ga:null}var Ia=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new ma:("zone.js"===n?void 0:n)||new la({enableLongStackTrace:Zn(),shouldCoalesceEventChangeDetection:r})),s=[{provide:la,useValue:o}];return o.run((function(){var e=Ki.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Qn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Na(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(zs)).runInitializers(),s.donePromise.then((function(){return Ms(n.injector.get($s,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return yo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Aa({},n);return ka(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Oa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(bt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Yt(Ki))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}();function Aa(t,e){return Array.isArray(e)?e.reduce(Aa,t):Object.assign(Object.assign({},t),e)}var xa,Oa=((xa=function(){function t(e,n,r,i,o,s){var a=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Zn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new k((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),c=new k((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){la.assertNotInAngularZone(),ca((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){la.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return O(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof k?e[0]:Q(r)(K(e,i))}(u,c.pipe((function(t){return Y()((e=et,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,J);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Yo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Jt),o=n.create(Ki.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(_a,null);return s&&o.injector.get(wa).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Zn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Na(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ys,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Na(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||xa)(Yt(la),Yt(Zs),Yt(Ki),Yt(Qn),Yt($o),Yt(zs))},xa.\u0275prov=ht({token:xa,factory:xa.\u0275fac}),xa);function Na(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pa=function t(){_classCallCheck(this,t)},Da=function t(){_classCallCheck(this,t)},Ra={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ja=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Ra}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Va(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Va(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Yt(sa),Yt(Da,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}();function Va(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Ma=Sa(null,"core",[{provide:Ks,useValue:"unknown"},{provide:Ia,deps:[Ki]},{provide:wa,deps:[]},{provide:Zs,deps:[]}]),Fa=[{provide:Oa,useClass:Oa,deps:[la,Zs,Ki,Qn,$o,zs]},{provide:xs,deps:[la],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:zs,useClass:zs,deps:[[new ot,Bs]]},{provide:sa,useClass:sa,deps:[]},Gs,{provide:gs,useFactory:function(){return ws},deps:[]},{provide:ms,useFactory:function(){return bs},deps:[]},{provide:$s,useFactory:function(t){return Ms(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it($s),new ot,new at]]},{provide:Xs,useValue:"USD"}],La=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Yt(Oa))},providers:Fa}),t}(),Ua={apiKey:"AIzaSyDEmlb1pOh7z5d0RqrVAhxCt1XiodjcAA0",authDomain:"test-project-cdb82.firebaseapp.com",databaseURL:"https://test-project-cdb82.firebaseio.com",projectId:"test-project-cdb82",storageBucket:"test-project-cdb82.appspot.com",messagingSenderId:"789556937887",appId:"1:789556937887:web:c5c27cb99d95600915ceaa",measurementId:"G-X94XFZPEHH"},qa=null;function Ba(){return qa}var za,Ha=new Ut("DocumentToken"),Ga=((za=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||za)},za.\u0275prov=ht({factory:Wa,token:za,providedIn:"platform"}),za);function Wa(){return Yt(Ya)}var Qa,Ka=new Ut("Location Initialized"),Ya=((Qa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Ba().getLocation(),this._history=Ba().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Ba().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Ba().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Ba().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Za()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Za()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Ga)).\u0275fac=function(t){return new(t||Qa)(Yt(Ha))},Qa.\u0275prov=ht({factory:$a,token:Qa,providedIn:"platform"}),Qa);function Za(){return!!window.history.pushState}function $a(){return new Ya(Yt(Ha))}function Xa(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ja(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function tu(t){return t&&"?"!==t[0]?"?"+t:t}var eu,nu=((eu=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||eu)},eu.\u0275prov=ht({factory:ru,token:eu,providedIn:"root"}),eu);function ru(t){var e=Yt(Ha).location;return new uu(Yt(Ga),e&&e.origin||"")}var iu,ou,su,au=new Ut("appBaseHref"),uu=((su=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Xa(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+tu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+tu(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+tu(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(nu)).\u0275fac=function(t){return new(t||su)(Yt(Ga),Yt(au,8))},su.\u0275prov=ht({token:su,factory:su.\u0275fac}),su),cu=((ou=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Xa(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+tu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+tu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(nu)).\u0275fac=function(t){return new(t||ou)(Yt(Ga),Yt(au,8))},ou.\u0275prov=ht({token:ou,factory:ou.\u0275fac}),ou),lu=((iu=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new qs,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Ja(fu(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+tu(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,fu(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tu(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tu(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||iu)(Yt(nu),Yt(Ga))},iu.normalizeQueryParams=tu,iu.joinWithSlash=Xa,iu.stripTrailingSlash=Ja,iu.\u0275prov=ht({factory:hu,token:iu,providedIn:"root"}),iu);function hu(){return new lu(Yt(nu),Yt(Ga))}function fu(t){return t.replace(/\/index.html$/,"")}var pu,du,vu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),yu=function t(){_classCallCheck(this,t)},gu=((du=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=js(e);if(n)return n;var r=e.split("-")[0];if(n=js(r))return n;if("en"===r)return Ds;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[Vs.PluralCase]}(e||this.locale)(t)){case vu.Zero:return"zero";case vu.One:return"one";case vu.Two:return"two";case vu.Few:return"few";case vu.Many:return"many";default:return"other"}}}]),n}(yu)).\u0275fac=function(t){return new(t||du)(Yt($s))},du.\u0275prov=ht({token:du,factory:du.\u0275fac}),du),mu=((pu=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new _u,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){wu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){wu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||pu)(ao(Es),ao(ks))},pu.\u0275dir=ge({type:pu,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),pu),_u=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function wu(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(bt(e),"'."))}var bu,ku=((bu=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:bu}),bu.\u0275inj=ft({factory:function(t){return new(t||bu)},providers:[{provide:yu,useClass:gu}]}),bu);function Cu(t){return"browser"===t}function Eu(t){return"server"===t}var Su,Tu,Iu,Au,xu,Ou=((Su=function t(){_classCallCheck(this,t)}).\u0275prov=ht({token:Su,providedIn:"root",factory:function(){return new Nu(Yt(Ha),window,Yt(Qn))}}),Su),Nu=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),Pu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Du||(Du=document.querySelector("base"))?Du.getAttribute("href"):null;return null==n?null:(e=n,Tu||(Tu=document.createElement("a")),Tu.setAttribute("href",e),"/"===Tu.pathname.charAt(0)?Tu.pathname:"/"+Tu.pathname)}},{key:"resetBaseElement",value:function(){Du=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,qa||(qa=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),Du=null,Ru=new Ut("TRANSITION_ID"),ju=[{provide:Bs,useFactory:function(t,e,n){return function(){n.get(zs).donePromise.then((function(){var n=Ba();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Ru,Ha,Ki],multi:!0}],Vu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Pt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Pt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Pt.getAllAngularRootElements=function(){return t.getAllRootElements()},Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push((function(t){var e=Pt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Ba().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,ba=e}}]),t}(),Mu=new Ut("EventManagerPlugins"),Fu=((Iu=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||Iu)(Yt(Mu),Yt(la))},Iu.\u0275prov=ht({token:Iu,factory:Iu.\u0275fac}),Iu),Lu=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Ba().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Uu=((xu=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||xu)},xu.\u0275prov=ht({token:xu,factory:xu.\u0275fac}),xu),qu=((Au=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Ba().remove(t)}))}}]),n}(Uu)).\u0275fac=function(t){return new(t||Au)(Yt(Ha))},Au.\u0275prov=ht({token:Au,factory:Au.\u0275fac}),Au),Bu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zu=/%COMP%/g;function Hu(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Hu(t,i,n):(i=i.replace(zu,t),n.push(i))}return n}function Gu(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Wu,Qu,Ku,Yu,Zu=((Wu=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new $u(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ae.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Xu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case ae.Native:case ae.ShadowDom:return new Ju(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Hu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Wu)(Yt(Fu),Yt(qu),Yt(Hs))},Wu.\u0275prov=ht({token:Wu,factory:Wu.\u0275fac}),Wu),$u=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Bu[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Bu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Bu[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&es.DashCase?t.style.setProperty(e,n,r&es.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&es.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gu(n)):this.eventManager.addEventListener(t,e,Gu(n))}}]),t}(),Xu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).component=i;var a,u=Hu(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(zu,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(zu,a)),s}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}($u),Ju=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===ae.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Hu(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}($u),tc=((Qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Lu)).\u0275fac=function(t){return new(t||Qu)(Yt(Ha))},Qu.\u0275prov=ht({token:Qu,factory:Qu.\u0275fac}),Qu),ec=["alt","control","meta","shift"],nc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ic={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},oc=((Ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Ba().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(ec.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&rc.hasOwnProperty(e)&&(e=rc[e]))}return nc[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ec.forEach((function(r){r!=n&&(0,ic[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Lu)).\u0275fac=function(t){return new(t||Ku)(Yt(Ha))},Ku.\u0275prov=ht({token:Ku,factory:Ku.\u0275fac}),Ku),sc=Sa(Ma,"browser",[{provide:Ks,useValue:"browser"},{provide:Qs,useValue:function(){Pu.makeCurrent(),Vu.init()},multi:!0},{provide:Ha,useFactory:function(){return function(t){Ae=t}(document),document},deps:[]}]),ac=[[],{provide:Ri,useValue:"root"},{provide:Qn,useFactory:function(){return new Qn},deps:[]},{provide:Mu,useClass:tc,multi:!0,deps:[Ha,la,Ks]},{provide:Mu,useClass:oc,multi:!0,deps:[Ha]},[],{provide:Zu,useClass:Zu,deps:[Fu,qu,Hs]},{provide:ts,useExisting:Zu},{provide:Uu,useExisting:qu},{provide:qu,useClass:qu,deps:[Ha]},{provide:_a,useClass:_a,deps:[la]},{provide:Fu,useClass:Fu,deps:[Mu,la]},[]],uc=((Yu=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Hs,useValue:e.appId},{provide:Ru,useExisting:Hs},ju]}}}]),t}()).\u0275mod=ve({type:Yu}),Yu.\u0275inj=ft({factory:function(t){return new(t||Yu)(Yt(Yu,12))},providers:ac,imports:[ku,La]}),Yu);function cc(){return new hc(Yt(Ha))}var lc,hc=((lc=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(t){this._doc.title=t||""}}]),t}()).\u0275fac=function(t){return new(t||lc)(Yt(Ha))},lc.\u0275prov=ht({factory:cc,token:lc,providedIn:"root"}),lc);function fc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return O(r)?(e.pop(),B(e,r)):K(e)}"undefined"!=typeof window&&window;var pc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(A),dc=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),vc={},yc=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new gc(t,this.resultSelector))}}]),t}(),gc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(vc),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(M(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,s=this.toRespond?o[n]===vc?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(F),mc=new k((function(t){return t.complete()}));function _c(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):mc}function wc(t){return new k((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?z(n):_c()).subscribe(e)}))}function bc(){return Q(1)}function kc(t,e){return function(n){return n.lift(new Cc(t,e))}}var Cc=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ec(t,this.predicate,this.thisArg))}}]),t}(),Ec=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(v),Sc=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Tc(t){return function(e){return 0===t?_c():e.lift(new Ic(t))}}var Ic=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Sc}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ac(t,this.total))}}]),t}(),Ac=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(v);function xc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc;return function(e){return e.lift(new Oc(t))}}var Oc=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Nc(t,this.errorFactory))}}]),t}(),Nc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(v);function Pc(){return new dc}function Dc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Rc(t))}}var Rc=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new jc(t,this.defaultValue))}}]),t}(),jc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(v);function Vc(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?kc((function(e,n){return t(e,n,r)})):m,Tc(1),n?Dc(e):xc((function(){return new dc})))}}function Mc(t){return function(e){var n=new Fc(t),r=e.lift(n);return n.caught=r}}var Fc=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Lc(t,this.selector,this.caught))}}]),t}(),Lc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new N(this,void 0,void 0);this.add(r);var i=M(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(F);function Uc(t){return function(e){return 0===t?_c():e.lift(new qc(t))}}var qc=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Sc}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Bc(t,this.total))}}]),t}(),Bc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(v);function zc(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?kc((function(e,n){return t(e,n,r)})):m,Uc(1),n?Dc(e):xc((function(){return new dc})))}}var Hc=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gc(t,this.predicate,this.thisArg,this.source))}}]),t}(),Gc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||_assertThisInitialized(s),s}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(v);function Wc(t,e){return"function"==typeof e?function(n){return n.pipe(Wc((function(n,r){return z(t(n,r)).pipe(L((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Qc(t))}}var Qc=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Kc(t,this.project))}}]),t}(),Kc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new N(this,e,n),o=this.destination;o.add(i),this.innerSubscription=M(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(F);function Yc(){return bc()(fc.apply(void 0,arguments))}function Zc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return O(r)?(e.pop(),function(t){return Yc(e,t,r)}):function(t){return Yc(e,t)}}function $c(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Xc(t,e,n))}}var Xc=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Jc(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Jc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(v);function tl(t,e){return H(t,e,1)}function el(){}function nl(t,e,n){return function(r){return r.lift(new il(t,e,n))}}var rl,il=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ol(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),ol=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,t))._tapNext=el,a._tapError=el,a._tapComplete=el,a._tapError=o||el,a._tapComplete=s||el,r(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||el,a._tapError=i.error||el,a._tapComplete=i.complete||el),a}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(v),sl=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new al(t,this.callback))}}]),t}(),al=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new f(r)),i}return n}(v),ul=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},cl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=s,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ul),ll=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ul),hl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ul),fl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ul),pl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ul),dl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ul),vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ul),yl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ul),gl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ul),ml=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),_l=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),wl=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),bl=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),kl=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Cl=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),El=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Sl=((rl=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||rl)},rl.\u0275cmp=he({type:rl,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&po(0,"router-outlet")},directives:function(){return[Of]},encapsulation:2}),rl),Tl=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Il(t){return new Tl(t)}function Al(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function xl(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Ol=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function Nl(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Pl(r,Dl(e,r))}}function Pl(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Nl(t.children,e)}function Dl(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Rl(t){var e=t.children&&t.children.map(Rl),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Sl),n}function jl(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Vl(t[n=r[o]],e[n]))return!1;return!0}function Vl(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function Ml(t){return Array.prototype.concat.apply([],t)}function Fl(t){return t.length>0?t[t.length-1]:null}function Ll(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ul(t){return go(t)?t:yo(t)?z(Promise.resolve(t)):fc(t)}function ql(t,e,n){return n?function(t,e){return jl(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Gl(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return Vl(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Gl(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Gl(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Gl(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var Bl=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Yl.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}}]),t}(),zl=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Ll(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Zl(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Hl=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return nh(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Il(this.parameters)),this._parameterMap}}]),t}();function Gl(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Wl(t,e){var n=[];return Ll(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Ll(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Ql=function t(){_classCallCheck(this,t)},Kl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new ah(t);return new Bl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return Zl(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Ll(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Wl(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Zl(e),"/(").concat(o.join("//"),")")}(t.root,!0)),(n=t.queryParams,r=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat(Xl(t),"=").concat(Xl(e))})).join("&"):"".concat(Xl(t),"=").concat(Xl(e))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Yl=new Kl;function Zl(t){return t.segments.map((function(t){return nh(t)})).join("/")}function $l(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xl(t){return $l(t).replace(/%3B/gi,";")}function Jl(t){return $l(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function th(t){return decodeURIComponent(t)}function eh(t){return th(t.replace(/\+/g,"%20"))}function nh(t){return"".concat(Jl(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Jl(t),"=").concat(Jl(e[t]))})).join("")));var e}var rh=/^[^\/()?;=#]+/;function ih(t){var e=t.match(rh);return e?e[0]:""}var oh=/^[^=?&#]+/,sh=/^[^?&#]+/,ah=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zl([],{}):new zl([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new zl(t,e)),n}},{key:"parseSegment",value:function(){var t=ih(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Hl(th(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=ih(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=ih(this.remaining);r&&(n=r,this.capture(n))}t[th(e)]=th(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(oh);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(sh);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=eh(e),o=eh(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ih(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new zl([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),uh=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=ch(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=ch(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=lh(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return lh(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function ch(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=ch(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function lh(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=lh(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var hh=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function fh(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var ph=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,_h(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(uh);function dh(t,e){var n=function(t,e){var n=new gh([],{},{},"",{},"primary",e,null,t.root,-1,{});return new mh("",new hh(n,[]))}(t,e),r=new pc([new Hl("",{})]),i=new pc({}),o=new pc({}),s=new pc({}),a=new pc(""),u=new vh(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new ph(new hh(u,[]),n)}var vh=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(L((function(t){return Il(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L((function(t){return Il(t)})))),this._queryParamMap}}]),t}();function yh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var gh=function(){function t(e,n,r,i,o,s,a,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Il(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}}]),t}(),mh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,_h(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return wh(this._root)}}]),n}(uh);function _h(t,e){e.value._routerState=t,e.children.forEach((function(e){return _h(t,e)}))}function wh(t){var e=t.children.length>0?" { ".concat(t.children.map(wh).join(", ")," } "):"";return"".concat(t.value).concat(e)}function bh(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jl(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),jl(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!jl(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),jl(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kh(t,e){var n,r;return jl(t.params,e.params)&&Gl(n=t.url,r=e.url)&&n.every((function(t,e){return jl(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||kh(t.parent,e.parent))}function Ch(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Eh(t,e,n,r,i){var o={};return r&&Ll(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new Bl(n.root===t?e:function t(e,n,r){var i={};return Ll(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new zl(e.segments,i)}(n.root,t,e),o,i)}var Sh=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ch(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==Fl(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Th=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Ih(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function Ah(t,e,n){if(t||(t=new zl([],{})),0===t.segments.length&&t.hasChildren())return xh(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=Ih(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Dh(a,u,s))return o;r+=2}else{if(!Dh(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new zl(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new zl(t.segments.slice(r.pathIndex),t.children),xh(o,0,i)}return r.match&&0===i.length?new zl(t.segments,{}):r.match&&!t.hasChildren()?Oh(t,e,n):r.match?xh(t,0,i):Oh(t,e,n)}function xh(t,e,n){if(0===n.length)return new zl(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Ll(r,(function(n,r){null!==n&&(i[r]=Ah(t.children[r],e,n))})),Ll(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new zl(t.segments,i)}function Oh(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Nh(n[i].outlets);return new zl(r,o)}if(0===i&&Ch(n[0]))r.push(new Hl(t.segments[e].path,n[0])),i++;else{var s=Ih(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&Ch(a)?(r.push(new Hl(s,Ph(a))),i+=2):(r.push(new Hl(s,{})),i++)}}return new zl(r,{})}function Nh(t){var e={};return Ll(t,(function(t,n){null!==t&&(e[n]=Oh(new zl([],{}),0,t))})),e}function Ph(t){var e={};return Ll(t,(function(t,n){return e[n]="".concat(t)})),e}function Dh(t,e,n){return t==n.path&&jl(e,n.parameters)}var Rh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),bh(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=fh(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Ll(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=fh(t),o=t.value.component?r.children:e;Ll(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=fh(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Cl(t.value.snapshot))})),t.children.length&&this.forwardEvent(new bl(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(bh(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jh(a.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function jh(t){bh(t.value),t.children.forEach(jh)}function Vh(t){return"function"==typeof t}function Mh(t){return t instanceof Bl}var Fh=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Lh=function t(e){_classCallCheck(this,t),this.urlTree=e};function Uh(t){return new k((function(e){return e.error(new Fh(t))}))}function qh(t){return new k((function(e){return e.error(new Lh(t))}))}function Bh(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var zh=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Jt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(L((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Mc((function(e){if(e instanceof Lh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Fh)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(L((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Mc((function(t){if(t instanceof Fh)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new zl([],{primary:t}):t;return new Bl(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(L((function(t){return new zl([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return fc({});var o=[],s=[],a={};return Ll(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(L((function(t){return a[i]=t})));"primary"===i?o.push(l):s.push(l)})),fc.apply(null,o.concat(s)).pipe(bc(),Vc(),L((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var s=this;return fc.apply(void 0,_toConsumableArray(n)).pipe(L((function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(Mc((function(t){if(t instanceof Fh)return fc(null);throw t})))})),bc(),zc((function(t){return!!t})),Mc((function(t,n){if(t instanceof dc||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return fc(new zl([],{}));throw new Fh(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,s){return Qh(r)!==o?Uh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Uh(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qh(o):this.lineralizeSegments(n,o).pipe(H((function(n){var o=new zl(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var s=this,a=Hh(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return Uh(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?qh(f):this.lineralizeSegments(r,f).pipe(H((function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(L((function(t){return n._loadedConfig=t,new zl(r,{})}))):fc(new zl(r,{}));var o=Hh(e,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return Uh(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(H((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Wh(t,e,n)&&"primary"!==Qh(n)}))}(t,n,r)?{segmentGroup:Gh(new zl(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Qh(o)&&(n[Qh(o)]=new zl([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new zl(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Wh(t,e,n)}))}(t,n,r)?{segmentGroup:Gh(new zl(t.segments,function(t,e,n,r){var i,o={},s=_createForOfIteratorHelper(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;Wh(t,e,a)&&!r[Qh(a)]&&(o[Qh(a)]=new zl([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,c,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(L((function(t){return new zl(a,t)}))):0===r.length&&0===u.length?fc(new zl(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(L((function(t){return new zl(a.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?fc(new Ol(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?fc(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?z(i).pipe(L((function(r){var i,o=t.get(r);if(function(t){return t&&Vh(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Vh(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Ul(i)}))).pipe(bc(),(r=function(t){return!0===t},function(t){return t.lift(new Hc(r,void 0,t))})):fc(!0)}(t.injector,e,n).pipe(H((function(n){return n?r.configLoader.load(t.injector,e).pipe(L((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(Al("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):fc(new Ol([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return fc(n);if(r.numberOfChildren>1||!r.children.primary)return Bh(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Bl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ll(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return Ll(e.children,(function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)})),new zl(o,s)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function Hh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||xl)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Gh(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new zl(t.segments.concat(e.segments),e.children)}return t}function Wh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Qh(t){return t.outlet||"primary"}var Kh=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Yh=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Zh(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function $h(t,e,n){var r=fh(t),i=t.value;Ll(r,(function(t,r){$h(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Yh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Xh=Symbol("INITIAL_VALUE");function Jh(){return Wc((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return O(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),K(e,i).lift(new yc(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Uc(1),Zc(Xh))})))).pipe($c((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Xh)return t;if(r===Xh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Mh(r))return r}return t}),t)}),Xh),kc((function(t){return t!==Xh})),L((function(t){return Mh(t)?t:!0===t})),Uc(1))}))}function tf(t,e){return null!==t&&e&&e(new kl(t)),fc(!0)}function ef(t,e){return null!==t&&e&&e(new wl(t)),fc(!0)}function nf(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?fc(r.map((function(r){return wc((function(){var i,o=Zh(r,e,n);if(function(t){return t&&Vh(t.canActivate)}(o))i=Ul(o.canActivate(e,t));else{if(!Vh(o))throw new Error("Invalid CanActivate guard");i=Ul(o(e,t))}return i.pipe(zc())}))}))).pipe(Jh()):fc(!0)}function rf(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return wc((function(){return fc(e.guards.map((function(i){var o,s=Zh(i,e.node,n);if(function(t){return t&&Vh(t.canActivateChild)}(s))o=Ul(s.canActivateChild(r,t));else{if(!Vh(s))throw new Error("Invalid CanActivateChild guard");o=Ul(s(r,t))}return o.pipe(zc())}))).pipe(Jh())}))}));return fc(i).pipe(Jh())}var of=function t(){_classCallCheck(this,t)},sf=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(t,[{key:"recognize",value:function(){try{var t=cf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new gh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hh(n,e),i=new mh(this.url,r);return this.inheritParamsAndData(i._root),fc(i)}catch(o){return new k((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=yh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Wl(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(a){if(!(a instanceof of))throw a}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new of}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new of;if((t.outlet||"primary")!==r)throw new of;var i,o=[],s=[];if("**"===t.path){var a=n.length>0?Fl(n).parameters:{};i=new gh(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ff(t),r,t.component,t,af(e),uf(e)+n.length,pf(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new of;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||xl)(n,t,e);if(!r)throw new of;var i={};Ll(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new gh(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ff(t),r,t.component,t,af(e),uf(e)+o.length,pf(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=cf(e,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var p=this.processChildren(c,h);return[new hh(i,p)]}if(0===c.length&&0===f.length)return[new hh(i,[])];var d=this.processSegment(c,h,f,"primary");return[new hh(i,d)]}}]),t}();function af(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function uf(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function cf(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return lf(t,e,n)&&"primary"!==hf(n)}))}(t,n,r)){var o=new zl(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==hf(a)){var u=new zl([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[hf(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(t,e,r,new zl(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return lf(t,e,n)}))}(t,n,r)){var s=new zl(t.segments,function(t,e,n,r,i,o){var s,a={},u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(lf(t,n,c)&&!i[hf(c)]){var l=new zl([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[hf(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var a=new zl(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function lf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function hf(t){return t.outlet||"primary"}function ff(t){return t.data||{}}function pf(t){return t.resolve||{}}function df(t,e,n,r){var i=Zh(t,e,r);return Ul(i.resolve?i.resolve(e,n):i(e,n))}function vf(t){return function(e){return e.pipe(Wc((function(e){var n=t(e);return n?z(n).pipe(L((function(){return e}))):z([e])})))}}var yf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),gf=new Ut("ROUTES"),mf=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(L((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Ol(Ml(i.injector.get(gf)).map(Rl),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?z(this.loader.load(t)):Ul(t()).pipe(H((function(t){return t instanceof te?fc(t):z(e.compiler.compileModuleAsync(t))})))}}]),t}(),_f=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function wf(t){throw t}function bf(t,e,n){return e.parse("/")}function kf(t,e){return fc(null)}var Cf,Ef,Sf,Tf,If=((Cf=function(){function t(e,n,r,i,o,s,a,u){var c=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=wf,this.malformedUriErrorHandler=bf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kf,afterPreactivation:kf},this.urlHandlingStrategy=new _f,this.routeReuseStrategy=new yf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Jt),this.console=o.get(Zs);var l=o.get(la);this.isNgZoneEnabled=l instanceof la,this.resetConfig(u),this.currentUrlTree=new Bl(new zl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mf(s,a,(function(t){return c.triggerEvent(new ml(t))}),(function(t){return c.triggerEvent(new _l(t))})),this.routerState=dh(this.currentUrlTree,this.rootComponentType),this.transitions=new pc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(kc((function(t){return 0!==t.id})),L((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Wc((function(t){var r,i,o,s,a=!1,u=!1;return fc(t).pipe(nl((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Wc((function(t){var r,i,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return fc(t).pipe(Wc((function(t){var r=e.transitions.getValue();return n.next(new cl(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?mc:[t]})),Wc((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(Wc((function(t){return function(t,e,n,r,i){return new zh(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(L((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),nl((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(H((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new sf(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(L((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),nl((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),nl((function(t){var r=new pl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,p=new cl(u,e.serializeUrl(c),l,h);n.next(p);var d=dh(c,e.rootComponentType).snapshot;return fc(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),mc})),vf((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),nl((function(t){var n=new dl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),L((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=fh(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gl(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gl(t.url,e.url)||!jl(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kh(t,e)||!jl(t.queryParams,e.queryParams);case"paramsChange":default:return!kh(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Kh(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Yh(u&&u.outlet&&u.outlet.component||null,a))}else a&&$h(n,u,o),o.canActivateChecks.push(new Kh(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]})),Ll(s,(function(t,e){return $h(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(H((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?fc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return z(t).pipe(H((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?fc(o.map((function(o){var s,a=Zh(o,e,i);if(function(t){return t&&Vh(t.canDeactivate)}(a))s=Ul(a.canDeactivate(t,e,n,r));else{if(!Vh(a))throw new Error("Invalid CanDeactivate guard");s=Ul(a(t,e,n,r))}return s.pipe(zc())}))).pipe(Jh()):fc(!0)}(t.component,t.route,n,e,r)})),zc((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(H((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return z(e).pipe(tl((function(e){return z([ef(e.route.parent,r),tf(e.route,r),rf(t,e.path,n),nf(t,e.route,n)]).pipe(bc(),zc((function(t){return!0!==t}),!0))})),zc((function(t){return!0!==t}),!0))}(r,s,t,e):fc(n)})),L((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),nl((function(t){if(Mh(t.guardsResult)){var n=Al('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),nl((function(t){var n=new vl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),kc((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new hl(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),vf((function(t){if(t.guards.canActivateChecks.length)return fc(t).pipe(nl((function(t){var n=new yl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(H((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?z(i).pipe(tl((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return fc({});if(1===i.length){var o=i[0];return df(t[o],e,n,r).pipe(L((function(t){return _defineProperty({},o,t)})))}var s={};return z(i).pipe(H((function(i){return df(t[i],e,n,r).pipe(L((function(t){return s[i]=t,t})))}))).pipe(Vc(),L((function(){return s})))}(t._resolve,t,e,r).pipe(L((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),yh(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return _($c(t,e),Tc(1),Dc(e))(n)}:function(e){return _($c((function(e,n,r){return t(e,n,r+1)})),Tc(1))(e)}}((function(t,e){return t})),L((function(e){return t}))):fc(t)})))}),nl((function(t){var n=new gl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),vf((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),L((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(a){o.e(a)}finally{o.f()}return t(e,n)}))}(e,n,r);return new hh(i,o)}var s=e.retrieve(n.value);if(s){var a=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var u,c=new vh(new pc((u=n.value).url),new pc(u.params),new pc(u.queryParams),new pc(u.fragment),new pc(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new hh(c,l)}(t,e._root,n?n._root:void 0);return new ph(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),nl((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},L((function(t){return new Rh(o,t.targetRouterState,t.currentRouterState,s).activate(i),t}))),nl({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){e.resetUrlToCurrentUrlTree();var r=new hl(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new sl(r))}),Mc((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=Mh(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new hl(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new fl(t.id,e.serializeUrl(t.extractedUrl),r);n.next(s);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var a;return mc})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Nl(t),this.config=t.map(Rl),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;Zn()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i,l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Eh(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Sh(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ll(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new Sh(n,e,r)}(n);if(o.toRoot())return Eh(e.root,new zl([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new Th(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Th(n.snapshot._urlSegment,!0,0);var r=Ch(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Th(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?xh(s.segmentGroup,s.index,o.commands):Ah(s.segmentGroup,s.index,o.commands);return Eh(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Zn()&&this.isNgZoneEnabled&&!la.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Mh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Mh(t))return ql(this.currentUrlTree,t,e);var n=this.parseUrl(t);return ql(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new ll(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,s,a,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(t,e){o=t,s=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){uo()},Cf.\u0275dir=ge({type:Cf}),Cf),Af=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new xf,this.attachRef=null},xf=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Af,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Of=((Ef=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new qs,this.deactivateEvents=new qs,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Nf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||Ef)(ao(xf),ao(Es),ao($o),function(t,e){var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(gn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if("name"===o)return n[i+1];i+=2}}return null}(Ge()),ao(Pi))},Ef.\u0275dir=ge({type:Ef,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Ef),Nf=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===vh?this.route:t===xf?this.childContexts:this.parent.get(t,e)}}]),t}(),Pf=function t(){_classCallCheck(this,t)},Df=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return fc(null)}}]),t}(),Rf=((Tf=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new mf(n,r,(function(t){return e.triggerEvent(new ml(t))}),(function(t){return e.triggerEvent(new _l(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(kc((function(t){return t instanceof ll})),tl((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Jt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(a){i.e(a)}finally{i.f()}return z(r).pipe(Q(),L((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(H((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||Tf)(Yt(If),Yt(Pa),Yt(sa),Yt(Ki),Yt(Pf))},Tf.\u0275prov=ht({token:Tf,factory:Tf.\u0275fac}),Tf),jf=((Sf=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof cl?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ll&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof El&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new El(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){uo()},Sf.\u0275dir=ge({type:Sf}),Sf),Vf=new Ut("ROUTER_CONFIGURATION"),Mf=new Ut("ROUTER_FORROOT_GUARD"),Ff=[lu,{provide:Ql,useClass:Kl},{provide:If,useFactory:function(t,e,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new If(null,t,e,n,r,i,o,Ml(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=Ba();l.events.subscribe((function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Ql,xf,lu,Ki,Pa,sa,gf,Vf,[function(){return function t(){_classCallCheck(this,t)}}(),new ot],[function(){return function t(){_classCallCheck(this,t)}}(),new ot]]},xf,{provide:vh,useFactory:function(t){return t.routerState.root},deps:[If]},{provide:Pa,useClass:ja},Rf,Df,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Mc((function(){return fc(null)})))}}]),t}(),{provide:Vf,useValue:{enableTracing:!1}}];function Lf(){return new Ea("Router",If)}var Uf,qf=((Uf=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Ff,Gf(e),{provide:Mf,useFactory:Hf,deps:[[If,new ot,new at]]},{provide:Vf,useValue:n||{}},{provide:nu,useFactory:zf,deps:[Ga,[new it(au),new ot],Vf]},{provide:jf,useFactory:Bf,deps:[If,Ou,Vf]},{provide:Pf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Df},{provide:Ea,multi:!0,useFactory:Lf},[Qf,{provide:Bs,multi:!0,useFactory:Kf,deps:[Qf]},{provide:$f,useFactory:Yf,deps:[Qf]},{provide:Ys,multi:!0,useExisting:$f}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Gf(e)]}}}]),t}()).\u0275mod=ve({type:Uf}),Uf.\u0275inj=ft({factory:function(t){return new(t||Uf)(Yt(Mf,8),Yt(If,8))}}),Uf);function Bf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new jf(t,e,n)}function zf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new cu(t,e):new uu(t,e)}function Hf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Gf(t){return[{provide:Yi,multi:!0,useValue:t},{provide:gf,multi:!0,useValue:t}]}var Wf,Qf=((Wf=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new A}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Ka,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(If),i=t.injector.get(Vf);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?fc(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Vf),n=this.injector.get(Rf),r=this.injector.get(jf),i=this.injector.get(If),o=this.injector.get(Oa);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Wf)(Yt(Ki))},Wf.\u0275prov=ht({token:Wf,factory:Wf.\u0275fac}),Wf);function Kf(t){return t.appInitializer.bind(t)}function Yf(t){return t.bootstrapListener.bind(t)}var Zf,$f=new Ut("Router Initializer"),Xf=((Zf=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return fc(this.value);case"E":return t=this.error,new k((function(e){return e.error(t)}));case"C":return _c()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Zf("C"),Zf.undefinedValueNotification=new Zf("N",void 0),Zf);function Jf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new tp(t,e))}}var tp=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ep(t,this.scheduler,this.delay))}}]),t}(),ep=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new np(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(Xf.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(Xf.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Xf.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(v),np=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n},rp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(f)),ip=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(rp),op=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),sp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op.now;return _classCallCheck(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(op),ap=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(sp))(ip),up=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new cp(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new S;if(this.isStopped||this.hasError?e=f.EMPTY:(this.observers.push(t),e=new T(this,t)),i&&t.add(t=new ep(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(var a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||ap).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(A),cp=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function lp(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){c++,e&&!l||(l=!1,e=new up(i,s,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}var hp=new sp(rp),fp=1,pp=Promise.resolve(),dp={};function vp(t){return t in dp&&(delete dp[t],!0)}var yp=function(t){var e=fp++;return dp[e]=!0,pp.then((function(){return vp(e)&&t()})),e},gp=function(t){vp(t)},mp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=yp(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(gp(e),t.scheduled=void 0)}}]),n}(rp),_p=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(sp))(mp),wp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_p;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=s,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=_p),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_p;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(k),bp=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new wp(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),kp=n("Wcq6");function Cp(){}var Ep=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ap;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),Sp=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Cp,{},Cp,Cp)})),e.pipe(nl(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),Tp=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new Ep(Zone.current)})),this.insideAngular=e.run((function(){return new Ep(Zone.current,hp)}))};function Ip(t,e){return function(e){return(e=e.lift(new Sp(t.ngZone))).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new bp(t,e))}}(t.outsideAngular),Jf(t.insideAngular))}}var Ap=["ngOnDestroy"],xp=function(t,e,n){return new Proxy(t,{get:function(r,i){return n.runOutsideAngular((function(){if(t[i])return t[i];if(Ap.includes(i))return function(){};var r=e.toPromise().then((function(t){var e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return r[e]},apply:function(t,e,n){return r.then((function(t){return t&&t.apply(void 0,_toConsumableArray(n))}))}})}))}})},Op=new Ut("angularfire2.app.options"),Np=new Ut("angularfire2.app.nameOrConfig"),Pp=new os("6.0.0");function Dp(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",kp.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return Object(kp.initializeApp)(t,r)}))}var Rp,jp,Vp,Mp,Fp={provide:function t(){_classCallCheck(this,t)},useFactory:Dp,deps:[Op,la,[new ot,Np]]},Lp=((Mp=function(){function t(e){_classCallCheck(this,t),Object(kp.registerVersion)("angularfire",Pp.full,e.toString()),Object(kp.registerVersion)("angular",ss.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:Op,useValue:e},{provide:Np,useValue:n}]}}}]),t}()).\u0275mod=ve({type:Mp}),Mp.\u0275inj=ft({factory:function(t){return new(t||Mp)(Yt(Ks))},providers:[Fp]}),Mp),Up=((Vp=function t(e,r,i,o){_classCallCheck(this,t);var s=new Tp(o),a=Ip(s),u=fc(void 0).pipe(Jf(s.outsideAngular),Wc((function(){return o.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),L((function(){return Dp(e,o,r)})),L((function(t){return t.auth()})),lp({bufferSize:1,refCount:!1}));return this.authState=u.pipe(Jf(s.outsideAngular),Wc((function(t){return new k(t.onAuthStateChanged.bind(t))})),a),this.user=u.pipe(Jf(s.outsideAngular),Wc((function(t){return new k(t.onIdTokenChanged.bind(t))})),a),this.idToken=this.user.pipe(Wc((function(t){return t?z(t.getIdToken()):fc(null)}))),this.idTokenResult=this.user.pipe(Wc((function(t){return t?z(t.getIdTokenResult()):fc(null)}))),xp(this,u,o)}).\u0275fac=function(t){return new(t||Vp)(Yt(Op),Yt(Np,8),Yt(Ks),Yt(la))},Vp.\u0275prov=ht({factory:function(){return new Vp(Yt(Op),Yt(Np,8),Yt(Ks),Yt(la))},token:Vp,providedIn:"any"}),Vp),qp=((jp=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:jp}),jp.\u0275inj=ft({factory:function(t){return new(t||jp)},providers:[Up]}),jp),Bp=((Rp=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.auth=e,this.router=n,this.issignin=!1,this.auth.user.subscribe((function(t){null!=t.uid?(r.issignin=!0,r.router.navigateByUrl("home")):(r.issignin=!1,r.router.navigateByUrl(""))}))}return _createClass(t,[{key:"signup",value:function(t,e){var n=this;this.auth.createUserWithEmailAndPassword(t,e).then((function(t){n.router.navigateByUrl("home")})).catch((function(t){alert("Invalid Credentials")}))}},{key:"login",value:function(t,e){var n=this;this.auth.signInWithEmailAndPassword(t,e).then((function(t){n.issignin=!0,n.router.navigateByUrl("home")})).catch((function(t){alert(t.message),n.router.navigateByUrl("")}))}},{key:"logout",value:function(){var t=this;this.issignin=!1,this.auth.signOut().then((function(e){t.router.navigateByUrl("")}))}}]),t}()).\u0275fac=function(t){return new(t||Rp)(Yt(Up),Yt(If))},Rp.\u0275prov=ht({token:Rp,factory:Rp.\u0275fac,providedIn:"root"}),Rp);function zp(t,e){return new k((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=z(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var Hp,Gp,Wp,Qp,Kp=new Ut("NgValueAccessor"),Yp={provide:Kp,useExisting:Et((function(){return Zp})),multi:!0},Zp=((Hp=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Hp)(ao(ns),ao(Xo))},Hp.\u0275dir=ge({type:Hp,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&mo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ko([Yp])]}),Hp),$p={provide:Kp,useExisting:Et((function(){return Jp})),multi:!0},Xp=new Ut("CompositionEventMode"),Jp=((Qp=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Ba()?Ba().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Qp)(ao(ns),ao(Xo),ao(Xp,8))},Qp.\u0275dir=ge({type:Qp,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&mo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ko([$p])]}),Qp),td=((Wp=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Wp)},Wp.\u0275dir=ge({type:Wp}),Wp),ed=((Gp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(td)).\u0275fac=function(t){return nd(t||Gp)},Gp.\u0275dir=ge({type:Gp,features:[Po]}),Gp),nd=zn(ed);function rd(){throw new Error("unimplemented")}var id,od=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return rd()}},{key:"asyncValidator",get:function(){return rd()}}]),n}(td),sd=((id=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}())).\u0275fac=function(t){return new(t||id)(ao(od,2))},id.\u0275dir=ge({type:id,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&So("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Po]}),id);function ad(t){return null==t||0===t.length}var ud=new Ut("NgValidators"),cd=new Ut("NgAsyncValidators"),ld=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(ad(e.value)||ad(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(ad(e.value)||ad(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return ad(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return ad(t.value)||ld.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(ad(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(ad(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(fd);return 0==e.length?null:function(t){return dd(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(fd);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(u(r))return zp(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return zp(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return zp(e=1===e.length&&u(e[0])?e[0]:e,null).pipe(L((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return zp(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(pd)).pipe(L(dd))}}}]),t}();function fd(t){return null!=t}function pd(t){var e=yo(t)?z(t):t;if(!go(e))throw new Error("Expected validator to return Promise or Observable.");return e}function dd(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function vd(t){return t.validate?function(e){return t.validate(e)}:t}function yd(t){return t.validate?function(e){return t.validate(e)}:t}var gd,md,_d,wd,bd,kd,Cd={provide:Kp,useExisting:Et((function(){return Ed})),multi:!0},Ed=((gd=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||gd)(ao(ns),ao(Xo))},gd.\u0275dir=ge({type:gd,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&mo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ko([Cd])]}),gd),Sd={provide:Kp,useExisting:Et((function(){return Id})),multi:!0},Td=((_d=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||_d)},_d.\u0275prov=ht({token:_d,factory:_d.\u0275fac}),_d),Id=((md=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(od),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||md)(ao(ns),ao(Xo),ao(Td),ao(Ki))},md.\u0275dir=ge({type:md,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&mo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ko([Sd])]}),md),Ad={provide:Kp,useExisting:Et((function(){return xd})),multi:!0},xd=((wd=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||wd)(ao(ns),ao(Xo))},wd.\u0275dir=ge({type:wd,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&mo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ko([Ad])]}),wd),Od='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Nd='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Pd={provide:Kp,useExisting:Et((function(){return Dd})),multi:!0},Dd=((bd=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=no}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||bd)(ao(ns),ao(Xo))},bd.\u0275dir=ge({type:bd,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&mo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ko([Pd])]}),bd),Rd={provide:Kp,useExisting:Et((function(){return jd})),multi:!0},jd=((kd=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=no}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||kd)(ao(ns),ao(Xo))},kd.\u0275dir=ge({type:kd,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&mo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ko([Rd])]}),kd);function Vd(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Md(t,e){t||Ld(e,"Cannot find control with"),e.valueAccessor||Ld(e,"No value accessor for form control with"),t.validator=hd.compose([t.validator,e.validator]),t.asyncValidator=hd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Fd(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Fd(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Fd(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ld(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Ud(t){return null!=t?hd.compose(t.map(vd)):null}function qd(t){return null!=t?hd.composeAsync(t.map(yd)):null}var Bd=[Zp,xd,Ed,Dd,jd,Id];function zd(t){var e=Gd(t)?t.validators:t;return Array.isArray(e)?Ud(e):e||null}function Hd(t,e){var n=Gd(e)?e.asyncValidators:t;return Array.isArray(n)?qd(n):n||null}function Gd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Wd,Qd,Kd,Yd,Zd,$d,Xd=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=zd(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Hd(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=pd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof tv?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ev&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new qs,this.statusChanges=new qs}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Gd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Jd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,zd(i),Hd(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Xd),tv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,zd(r),Hd(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Jd?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Xd),ev=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,zd(r),Hd(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Jd?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Xd),nv={provide:ed,useExisting:Et((function(){return iv}))},rv=Promise.resolve(null),iv=((Qd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new qs,i.form=new tv({},Ud(t),qd(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;rv.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Md(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;rv.then((function(){var n,r,i,o=e._findContainer(t.path);o&&o.removeControl(t.name),n=e._directives,r=t,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(t){var e=this;rv.then((function(){var n=e._findContainer(t.path),r=new tv({});(function(t,e){null==t&&Ld(e,"Cannot find control with"),t.validator=hd.compose([t.validator,e.validator]),t.asyncValidator=hd.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;rv.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;rv.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(ed)).\u0275fac=function(t){return new(t||Qd)(ao(ud,10),ao(cd,10))},Qd.\u0275dir=ge({type:Qd,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&mo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ko([nv]),Po]}),Qd),ov=((Wd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Vd(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ud(this._validators)}},{key:"asyncValidator",get:function(){return qd(this._asyncValidators)}}]),n}(ed)).\u0275fac=function(t){return sv(t||Wd)},Wd.\u0275dir=ge({type:Wd,features:[Po]}),Wd),sv=zn(ov),av=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Od,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Nd))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Od,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Nd))}}]),t}(),uv={provide:ed,useExisting:Et((function(){return cv}))},cv=((Kd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof iv||av.modelGroupParentException()}}]),n}(ov)).\u0275fac=function(t){return new(t||Kd)(ao(ed,5),ao(ud,10),ao(cd,10))},Kd.\u0275dir=ge({type:Kd,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ko([uv]),Po]}),Kd),lv={provide:od,useExisting:Et((function(){return fv}))},hv=Promise.resolve(null),fv=(($d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new Jd,s._registered=!1,s.update=new qs,s._parent=t,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Ld(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Jp?n=e:(o=e,Bd.some((function(t){return o.constructor===t}))?(r&&Ld(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Ld(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Ld(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!no(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Md(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof cv)&&this._parent instanceof ov?av.formGroupNameException():this._parent instanceof cv||this._parent instanceof iv||av.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||av.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;hv.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;hv.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?Vd(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ud(this._rawValidators)}},{key:"asyncValidator",get:function(){return qd(this._rawAsyncValidators)}}]),n}(od)).\u0275fac=function(t){return new(t||$d)(ao(ed,9),ao(ud,10),ao(cd,10),ao(Kp,10))},$d.\u0275dir=ge({type:$d,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ko([lv]),Po,Fo]}),$d),pv=((Zd=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:Zd}),Zd.\u0275inj=ft({factory:function(t){return new(t||Zd)}}),Zd),dv=((Yd=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:Yd}),Yd.\u0275inj=ft({factory:function(t){return new(t||Yd)},providers:[Td],imports:[pv]}),Yd);function vv(t,e){if(1&t){var n=vo();ho(0,"button",6),mo("click",(function(){He(n);var t=bo();return t.authsignup(t.user)})),Oo(1,"SignUp"),fo()}}function yv(t,e){if(1&t){var n=vo();ho(0,"button",6),mo("click",(function(){He(n);var t=bo();return t.authlogin(t.user)})),Oo(1,"Login"),fo()}}var gv,mv,_v,wv,bv=((gv=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.signup=!0,this.login=!1,this.user={email:"",password:""}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"change",value:function(t){"log"===t?(this.signup=!1,this.login=!0):(this.signup=!0,this.login=!1)}},{key:"authsignup",value:function(t){""!==t.email&&""!==t.password&&t.password.length>6?this.auth.signup(t.email,t.password):alert("invalid entry : ")}},{key:"authlogin",value:function(t){""!==t.email&&""!==t.password&&t.password.length>6?this.auth.login(t.email,t.password):alert("invalid entry : ")}}]),t}()).\u0275fac=function(t){return new(t||gv)(ao(Bp))},gv.\u0275cmp=he({type:gv,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"ims"],[1,"ins"],[1,"card","myform",2,"border-radius","2em","width","90%","box-shadow","5px 5px #0f3517"],[1,"myForm"],[1,"card-header",2,"display","flex","justify-content","center"],[1,"up",2,"display","flex","justify-content","space-around"],[1,"btn","btn-success","btn-lg",3,"click"],[1,"form-group",2,"margin","auto","width","80%","padding","10px"],["for","email"],["type","email","id","email","placeholder","Enter Email",1,"form-control","input-lg",3,"ngModel","ngModelChange"],["for","password"],["type","password","placeholder","Enter Password",1,"form-control","input-lg",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","center","padding","2em"],["class","btn btn-success btn-lg",3,"click",4,"ngIf"],["src","./assets/icon-nav.svg","width","30","height","30","alt","",1,"d-inline-block","align-top",2,"height","18em","width","auto"]],template:function(t,e){1&t&&(ho(0,"div",0),ho(1,"div",1),ho(2,"div",2),ho(3,"div",3),ho(4,"h1",4),ho(5,"u"),Oo(6,"AgriHelp"),fo(),fo(),ho(7,"div",5),ho(8,"button",6),mo("click",(function(){return e.change("sig")})),Oo(9,"Signup"),fo(),ho(10,"button",6),mo("click",(function(){return e.change("log")})),Oo(11,"Login"),fo(),fo(),ho(12,"div",7),ho(13,"label",8),Oo(14,"Email"),fo(),ho(15,"input",9),mo("ngModelChange",(function(t){return e.user.email=t})),fo(),fo(),ho(16,"div",7),ho(17,"label",10),Oo(18,"Password"),fo(),ho(19,"input",11),mo("ngModelChange",(function(t){return e.user.password=t})),fo(),fo(),ho(20,"div",12),so(21,vv,2,0,"button",13),so(22,yv,2,0,"button",13),fo(),po(23,"img",14),fo(),fo(),fo(),fo()),2&t&&(fr(15),co("ngModel",e.user.email),fr(4),co("ngModel",e.user.password),fr(2),co("ngIf",e.signup),fr(1),co("ngIf",e.login))},directives:[Jp,sd,fv,mu],styles:[".card.myform[_ngcontent-%COMP%]{display:flex;margin:25px 20px 20px;background-color:rgba(26,74,23,.86);color:azure;border:#afe422;border-radius:2em}.ins[_ngcontent-%COMP%]{height:-webkit-fill-available;overflow:auto;background-image:url(f.dd72316a4ff2b24af723.jpg);display:flex;justify-items:center;justify-content:center}.below[_ngcontent-%COMP%]{background-color:#000}button[_ngcontent-%COMP%]{box-shadow:3px 2px 4px #000}"]}),gv),kv=[{path:"home",component:(mv=function(){function t(e,n){_classCallCheck(this,t),this.auth=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"userlogout",value:function(){this.auth.logout()}}]),t}(),mv.\u0275fac=function(t){return new(t||mv)(ao(Bp),ao(If))},mv.\u0275cmp=he({type:mv,selectors:[["app-nav-bar"]],decls:19,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#345038","background-image","url('./assets/icon-nav.svg')"],["src","./assets/icon-nav.svg","width","30","height","30","alt","",1,"d-inline-block","align-top"],["href","#",1,"navbar-brand",2,"color","antiquewhite","padding-left","1em"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","flex-grow-0"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","#",1,"nav-link",2,"color","antiquewhite"],[1,"btn","btn-success",2,"color","antiquewhite",3,"click"]],template:function(t,e){1&t&&(ho(0,"nav",0),po(1,"img",1),ho(2,"a",2),Oo(3,"AgriHelp"),fo(),ho(4,"button",3),po(5,"span",4),fo(),ho(6,"div",5),ho(7,"ul",6),ho(8,"li",7),ho(9,"a",8),Oo(10,"Features"),fo(),fo(),ho(11,"li",7),ho(12,"a",8),Oo(13,"Pricing"),fo(),fo(),ho(14,"li",7),ho(15,"a",8),Oo(16,"Disabled"),fo(),fo(),ho(17,"button",9),mo("click",(function(){return e.userlogout()})),Oo(18,"LogOut"),fo(),fo(),fo(),fo())},styles:[""]}),mv)},{path:"",component:bv}],Cv=((wv=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:wv}),wv.\u0275inj=ft({factory:function(t){return new(t||wv)},imports:[[qf.forRoot(kv)],qf]}),wv),Ev=((_v=function t(){_classCallCheck(this,t),this.title="fourth"}).\u0275fac=function(t){return new(t||_v)},_v.\u0275cmp=he({type:_v,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&po(0,"router-outlet")},directives:[Of],styles:[""]}),_v),Sv=function t(){_classCallCheck(this,t)};function Tv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Iv(t){return{type:6,styles:t,offset:null}}function Av(t){Promise.resolve(null).then(t)}var xv=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Av((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),Ov=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,s=this.players.length;0==s?Av((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++i==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function Nv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pv(t){switch(t.length){case 0:return new xv;case 1:return t[0];default:return new Ov(t)}}function Dv(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a})),r||a.push(l),c=l,u=n})),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function Rv(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&jv(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&jv(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&jv(n,"destroy",t))}))}}function jv(t,e,n){var r=n.totalTime,i=Vv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Vv(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Mv(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Fv(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Lv=function(t,e){return!1},Uv=function(t,e){return!1},qv=function(t,e,n){return[]},Bv=Nv();(Bv||"undefined"!=typeof Element)&&(Lv=function(t,e){return t.contains(e)},Uv=function(){if(Bv||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Uv}(),qv=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var zv=null,Hv=!1;function Gv(t){zv||(zv=("undefined"!=typeof document?document.body:null)||{},Hv=!!zv.style&&"WebkitAppearance"in zv.style);var e=!0;return zv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in zv.style)&&Hv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in zv.style),e}var Wv=Uv,Qv=Lv,Kv=qv;function Yv(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var Zv,$v=((Zv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Gv(t)}},{key:"matchesElement",value:function(t,e){return Wv(t,e)}},{key:"containsElement",value:function(t,e){return Qv(t,e)}},{key:"query",value:function(t,e,n){return Kv(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new xv(n,r)}}]),t}()).\u0275fac=function(t){return new(t||Zv)},Zv.\u0275prov=ht({token:Zv,factory:Zv.\u0275fac}),Zv),Xv=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new $v,t}();function Jv(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ty(parseFloat(e[1]),e[2])}function ty(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ey(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=ty(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=ty(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function ny(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function ry(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else ny(t,n);return n}function iy(t,e,n){return n?e+":"+n+";":""}function oy(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=iy(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=iy(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function sy(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=dy(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),Nv()&&oy(t))}function ay(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=dy(e);t.style[n]=""})),Nv()&&oy(t))}function uy(t){return Array.isArray(t)?1==t.length?t[0]:Tv(t):t}var cy=new RegExp("{{\\s*(.+?)\\s*}}","g");function ly(t){var e=[];if("string"==typeof t){for(var n;n=cy.exec(t);)e.push(n[1]);cy.lastIndex=0}return e}function hy(t,e,n){var r=t.toString(),i=r.replace(cy,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?t:i}function fy(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var py=/-+([a-z0-9])/g;function dy(t){return t.replace(py,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function vy(t,e){return 0===t||0===e}function yy(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var s=function(){var n=e[a];o.forEach((function(e){n[e]=my(t,e)}))},a=1;a<e.length;a++)s()}return e}function gy(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function my(t,e){return window.getComputedStyle(t)[e]}var _y=new Set(["true","1"]),wy=new Set(["false","0"]);function by(t,e){var n=_y.has(t)||wy.has(t),r=_y.has(e)||wy.has(e);return function(i,o){var s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?_y.has(t):wy.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?_y.has(e):wy.has(e)),s&&a}}var ky=new RegExp("s*:selfs*,?","g");function Cy(t,e,n){return new Ey(t).build(e,n)}var Ey=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Sy(e);return this._resetContextStyleTimingState(n),gy(this,uy(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,o.push(n.visitState(a,e))})),a.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Ty(t)){var e=t;Object.keys(e).forEach((function(t){ly(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var s=fy(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=gy(this,uy(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],s=i[2],a=i[3];e.push(by(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(by(a,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Iy(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return gy(n,t,e)})),options:Iy(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=gy(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:Iy(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ay(ey(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=Ay(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Ay((n=n||ey(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Iv({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=Iv(a)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Ty(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],p=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),p=!1),o=f.startTime),p&&(h[r]={startTime:o,endTime:i}),e.options&&(s=t[r],a=e.options,u=e.errors,c=a.params||{},(l=ly(s)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Ty(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Ty(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,p=e.currentTime,d=e.currentAnimateTimings,v=d.duration;return c.forEach((function(t,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;e.currentTime=p+d.delay+a,d.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:gy(this,uy(t.animation),e),options:Iy(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Iy(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Iy(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(ky,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],s=i[1];e.currentQuerySelector=n.length?n+" "+o:o,Mv(e.collectedStyles,e.currentQuerySelector,{});var a=gy(this,uy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Iy(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ey(t.timings,e.errors,!0);return{type:12,animation:gy(this,uy(t.animation),e),timings:n,options:null}}}]),t}(),Sy=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ty(t){return!Array.isArray(t)&&"object"==typeof t}function Iy(t){var e;return t?(t=ny(t)).params&&(t.params=(e=t.params)?ny(e):null):t={},t}function Ay(t,e,n){return{duration:t,delay:e,easing:n}}function xy(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Oy=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Ny=new RegExp(":enter","g"),Py=new RegExp(":leave","g");function Dy(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Ry).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}var Ry=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Oy;var l=new Vy(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),gy(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map((function(t){return t.buildKeyframes()})):[xy(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Jv(n.duration):null,o=null!=n.delay?Jv(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),gy(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jy);var s=Jv(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return gy(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Jv(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),gy(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return ey(e.params?hy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Jv(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jy);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){e.currentQueryIndex=i;var a=e.createSubContext(t.options,r);o&&a.delayNextStep(o),r===e.element&&(u=a.currentTimeline),gy(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;gy(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),jy={},Vy=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new My(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Jv(r.duration)),null!=r.delay&&(i.delay=Jv(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=hy(o[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=jy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Fy(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Ny,"."+this._enterClassName)).replace(Py,"."+this._leaveClassName);var a=this._driver.query(this.element,t,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),t}(),My=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):ry(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=hy(s[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=ry(o,!0);Object.keys(a).forEach((function(t){var r=a[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(a.offset=s/t.duration),i.push(a)}));var o=e.size?fy(e.values()):[],s=n.size?fy(n.values()):[];if(r){var a=i[0],u=ny(a);a.offset=0,u.offset=1,i=[a,u]}return xy(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Fy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=ry(t[0],!1);u.offset=0,o.push(u);var c=ry(t[0],!1);c.offset=Ly(a),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=ry(t[h],!1);f.offset=Ly((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",t=o}return xy(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(My);function Ly(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Uy=function t(){_classCallCheck(this,t)},qy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return dy(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(By[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Uy),By=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function zy(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Hy={},Gy=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Hy,f=this.buildStyles(n,s&&s.params||Hy,l),p=a&&a.params||Hy,d=this.buildStyles(r,p,l),v=new Set,y=new Map,g=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),p)},w=c?[]:Dy(t,e,this.ast.animation,i,o,f,d,_,u,l),b=0;if(w.forEach((function(t){b=Math.max(t.duration+t.delay,b)})),l.length)return zy(e,this._triggerName,n,r,m,f,d,[],[],y,g,b,l);w.forEach((function(t){var n=t.element,r=Mv(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=Mv(g,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=fy(v.values());return zy(e,this._triggerName,n,r,m,f,d,w,k,y,g,b)}}]),t}(),Wy=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=ny(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=hy(o,r,e)),n[t]=o}))}})),n}}]),t}(),Qy=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new Wy(t.style,t.options&&t.options.params||{})})),Ky(this.states,"true","1"),Ky(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new Gy(e,t,r.states))})),this.fallbackTransition=new Gy(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Ky(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Yy=new Oy,Zy=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Cy(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=Dv(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=Dy(this._driver,e,s,"ng-enter","ng-leave",{},{},i,Yy,o)).forEach((function(t){var e=Mv(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=Pv(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=Vv(e,"","","");return Rv(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),$y=[],Xy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tg=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=ny(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),eg=new tg("void"),ng=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cg(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=Mv(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var u=Mv(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(cg(t,"ng-trigger"),cg(t,"ng-trigger-"+e),u[e]=eg),function(){o._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new ig(this.id,e,t),a=this._engine.statesByElement.get(t);a||(cg(t,"ng-trigger"),cg(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],c=new tg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[e]=c,u||(u=eg),"void"===c.value||u.value!==c.value){var l=Mv(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(cg(t,"ng-animate-queued"),s.onStart((function(){lg(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),l.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var p=[],d=o.matchStyles(u.value,u.params,p),v=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){ay(t,d),sy(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Pv(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,s=e._engine.statesByElement.get(t)[i]||eg,a=new tg("void"),u=new ig(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var a=t.__ng_removed;a&&a!==Xy||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){cg(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=e._elementListeners.get(o);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=Vv(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Rv(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),rg=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new ng(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(og(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(og(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),cg(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),lg(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(og(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return og(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return Pv(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Xy,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)cg(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Pv(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Oy,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=ug(f,this.collectedEnterElements),d=new Map,v=0;p.forEach((function(t,e){var n="ng-enter"+v++;d.set(e,n),t.forEach((function(t){return cg(t,n)}))}));for(var y=[],g=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],b=w.__ng_removed;b&&b.setForRemoval&&(y.push(w),g.add(w),b.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach((function(t){return g.add(t)})):m.add(w))}var k=new Map,C=ug(f,Array.from(g));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return cg(t,n)}))})),t.push((function(){p.forEach((function(t,e){var n=d.get(e);t.forEach((function(t){return lg(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return lg(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),p=k.get(o),v=d.get(o),y=n._buildInstruction(t,r,v,p,f);if(!y.errors||!y.errors.length)return f||t.isFallbackTransition?(e.onStart((function(){return ay(o,y.fromStyles)})),e.onDestroy((function(){return sy(o,y.toStyles)})),void i.push(e)):(y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),s.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return Mv(a,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),void y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))})));S.push(y)}));if(S.length){var I=[];S.forEach((function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return I.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(I)}var A=new Map,x=new Map;s.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){Mv(A,e,[]).push(t),t.destroy()}))}));var O=y.filter((function(t){return fg(t,u,c)})),N=new Map;ag(N,this.driver,m,c,"*").forEach((function(t){fg(t,u,c)&&O.push(t)}));var P=new Map;p.forEach((function(t,e){ag(P,n.driver,new Set(t),u,"!")})),O.forEach((function(t){var e=N.get(t),n=P.get(t);N.set(t,Object.assign(Object.assign({},e),n))}));var D=[],R=[],j={};s.forEach((function(t){var e=t.element,s=t.player,a=t.instruction;if(r.has(e)){if(l.has(e))return s.onDestroy((function(){return sy(e,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=j;if(x.size>1){for(var c=e,h=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return x.set(t,u)}))}var p=n._buildAnimation(s.namespaceId,a,A,o,P,N);if(s.setRealPlayer(p),u===j)D.push(s);else{var d=n.playersByElement.get(u);d&&d.length&&(s.parentPlayer=Pv(d)),i.push(s)}}else ay(e,a.fromStyles),s.onDestroy((function(){return sy(e,a.toStyles)})),R.push(s),l.has(e)&&i.push(s)})),R.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=Pv(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var V=0;V<y.length;V++){var M=y[V],F=M.__ng_removed;if(lg(M,"ng-leave"),!F||!F.hasAnimation){var L=[];if(a.size){var U=a.get(M);U&&U.length&&L.push.apply(L,_toConsumableArray(U));for(var q=this.driver.query(M,".ng-animating",!0),B=0;B<q.length;B++){var z=a.get(q[B]);z&&z.length&&L.push.apply(L,_toConsumableArray(z))}}var H=L.filter((function(t){return!t.destroyed}));H.length?hg(this,M,H):this.processLeaveNode(M)}}return y.length=0,D.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),D}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!i||"void"==i;a.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=Mv(n,t,[]);i._getPreviousPlayers(t,u,s,a,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}ay(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var s=this,a=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var p=f.__ng_removed;if(p&&p.removedBeforeQueried)return new xv(e.duration,e.delay);var d,v,y=f!==u,g=(d=(n.get(f)||$y).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof Ov?t(i.players,n):n.push(i)}}(d,v),v).filter((function(t){return!!t.element&&t.element===f})),m=i.get(f),_=o.get(f),w=Dv(0,s._normalizer,0,e.keyframes,m,_),b=s._buildPlayer(e,w,g);if(e.subTimeline&&r&&h.add(f),y){var k=new ig(t,a,f);k.setRealPlayer(b),c.push(k)}return b}));c.forEach((function(t){Mv(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return cg(t,"ng-animating")}));var p=Pv(f);return p.onDestroy((function(){l.forEach((function(t){return lg(t,"ng-animating")})),sy(u,e.toStyles)})),h.forEach((function(t){Mv(r,t,[]).push(p)})),p}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new xv(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),ig=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new xv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return Rv(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){Mv(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function og(t){return t&&1===t.nodeType}function sg(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function ag(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(sg(t))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Jy,s.push(r))})),t.set(r,o)}));var a=0;return n.forEach((function(t){return sg(t,o[a++])})),s}function ug(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function cg(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function lg(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function hg(t,e,n){Pv(n).onDone((function(){return t.processLeaveNode(e)}))}function fg(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var pg=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new rg(e,n,r),this._timelineEngine=new Zy(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=Cy(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new Qy(t,e)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Fv(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Fv(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,e,a,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function dg(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=yg(e[0]),e.length>1&&(r=yg(e[e.length-1]))):e&&(n=yg(e)),n||r?new vg(t,n,r):null}var vg=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&sy(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(sy(this._element,this._initialStyles),this._endStyles&&(sy(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ay(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ay(this._element,this._endStyles),this._endStyles=null),sy(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function yg(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];gg(i)&&((e=e||{})[i]=t[i])}return e}function gg(t){return"display"===t||"position"===t}var mg=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Eg(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Cg(t,"",e),kg(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){_g(this._element,this._name,"paused")}},{key:"resume",value:function(){_g(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=wg(this._element,this._name);this._position=t*this._duration,Cg(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),kg(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Eg(t,"").split(","),r=bg(n,e);r>=0&&(n.splice(r,1),Cg(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function _g(t,e,n){Cg(t,"PlayState",n,wg(t,e))}function wg(t,e){var n=Eg(t,"");return n.indexOf(",")>0?bg(n.split(","),e):bg([n],e)}function bg(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function kg(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Cg(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}t.style[i]=n}function Eg(t,e){return t.style["animation"+e]}var Sg=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new mg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:my(t.element,r))}))}this.currentSnapshot=e}}]),t}(),Tg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=Yv(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(xv),Ig=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Gv(t)}},{key:"matchesElement",value:function(t,e){return Wv(t,e)}},{key:"containsElement",value:function(t,e){return Qv(t,e)}},{key:"query",value:function(t,e,n){return Kv(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Yv(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(t){return t instanceof Sg})),u={};vy(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=yy(t,e,u));if(0==n)return new Tg(t,c);var l="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=dg(t,e),p=new Sg(t,e,l,n,r,i,c,f);return p.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),p}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),Ag=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:my(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),xg=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Og().toString()),this._cssKeyframesDriver=new Ig}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Gv(t)}},{key:"matchesElement",value:function(t,e){return Wv(t,e)}},{key:"containsElement",value:function(t,e){return Qv(t,e)}},{key:"query",value:function(t,e,n){return Kv(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},c=o.filter((function(t){return t instanceof Ag}));vy(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=dg(t,e=yy(t,e=e.map((function(t){return ry(t,!1)})),u));return new Ag(t,e,a,l)}}]),t}();function Og(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Ng,Pg=((Ng=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ae.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Tv(t):t;return jg(this._renderer,null,e,"register",[n]),new Dg(e,this._renderer)}}]),n}(Sv)).\u0275fac=function(t){return new(t||Ng)(Yt(ts),Yt(Ha))},Ng.\u0275prov=ht({token:Ng,factory:Ng.\u0275fac}),Ng),Dg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new Rg(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Rg=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return jg(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function jg(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var Vg,Mg,Fg,Lg,Ug,qg,Bg,zg,Hg,Gg=((Vg=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Wg("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,s,t,r.name,r)})),new Qg(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||Vg)(Yt(ts),Yt(pg),Yt(la))},Vg.\u0275prov=ht({token:Vg,factory:Vg.\u0275fac}),Vg),Wg=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Qg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,r,i,o)).factory=t,s.namespaceId=r,s}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var s,a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,a,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(Wg),Kg=((Mg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(pg)).\u0275fac=function(t){return new(t||Mg)(Yt(Ha),Yt(Xv),Yt(Uy))},Mg.\u0275prov=ht({token:Mg,factory:Mg.\u0275fac}),Mg),Yg=[{provide:Xv,useFactory:function(){return"function"==typeof Og()?new xg:new Ig}},{provide:new Ut("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Sv,useClass:Pg},{provide:Uy,useFactory:function(){return new qy}},{provide:pg,useClass:Kg},{provide:ts,useFactory:function(t,e,n){return new Gg(t,e,n)},deps:[Zu,pg,la]}],Zg=((Fg=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:Fg}),Fg.\u0275inj=ft({factory:function(t){return new(t||Fg)},providers:Yg,imports:[uc]}),Fg),$g=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xg(t,this.observables,this.project))}}]),t}(),Xg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var u=0;u<s;u++){var c=r[u];o.add(M(_assertThisInitialized(o),c,c,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(F),Jg=function(){function t(e,n,r,i){_classCallCheck(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new tm(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),tm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,t)).keySelector=r,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(a){this.error(a)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new A,n.set(e,i);var o=new nm(e,i,this);if(this.destination.next(o),this.durationSelector){var s;try{s=this.durationSelector(new nm(e,i))}catch(a){return void this.error(a)}this.add(s.subscribe(new em(e,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}}]),n}(v),em=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,r)).key=t,o.group=r,o.parent=i,o}return _createClass(n,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),n}(v),nm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).key=t,o.groupSubject=r,o.refCountSubscription=i,o}return _createClass(n,[{key:"_subscribe",value:function(t){var e=new f,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new rm(n)),e.add(r.subscribe(t)),e}}]),n}(k),rm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).parent=t,t.count++,r}return _createClass(n,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),n}(f),im=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new om(t))}}]),t}(),om=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(v),sm=new Ut("angularfire2.analytics.analyticsCollectionEnabled"),am=new Ut("angularfire2.analytics.appVersion"),um=new Ut("angularfire2.analytics.appName"),cm=new Ut("angularfire2.analytics.debugMode"),lm=new Ut("angularfire2.analytics.config"),hm={},fm=((zg=function(){function t(e,r,i,o,s,a,u,c,l){_classCallCheck(this,t),this.options=e,Ug||(Cu(c)?(Lg=window.gtag||function(){window.dataLayer.push(arguments)},window.dataLayer=window.dataLayer||[],Ug=l.runOutsideAngular((function(){return new Promise((function(t){window.gtag=function(){"js"==(arguments.length<=0?void 0:arguments[0])&&t(),Lg.apply(void 0,arguments)}}))}))):(Lg=function(){},Ug=Promise.resolve()));var h=hm[e.measurementId];return h||(h=fc(void 0).pipe(Jf(new Tp(l).outsideAngular),Wc((function(){return Cu(c)?n.e(6).then(n.bind(null,"AAub")):_c()})),L((function(){return Dp(e,l,r)})),L((function(t){return t.analytics()})),nl((function(t){!1===i&&t.setAnalyticsCollectionEnabled(!1)})),lp({bufferSize:1,refCount:!1})),hm[e.measurementId]=h),u&&this.updateConfig(u),s&&this.updateConfig({app_name:s}),o&&this.updateConfig({app_version:o}),a&&this.updateConfig({debug_mode:1}),xp(this,h,l)}return _createClass(t,[{key:"updateConfig",value:function(t){return e=this,r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ug;case 2:Lg("config",this.options.measurementId,Object.assign(Object.assign({},t),{update:!0}));case 3:case"end":return e.stop()}}),e,this)})),new((n=void 0)||(n=Promise))((function(t,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(o,s)}a((r=r.apply(e,[])).next())}));var e,n,r}}]),t}()).\u0275fac=function(t){return new(t||zg)(Yt(Op),Yt(Np,8),Yt(sm,8),Yt(am,8),Yt(um,8),Yt(cm,8),Yt(lm,8),Yt(Ks),Yt(la))},zg.\u0275prov=ht({factory:function(){return new zg(Yt(Op),Yt(Np,8),Yt(sm,8),Yt(am,8),Yt(um,8),Yt(cm,8),Yt(lm,8),Yt(Ks),Yt(la))},token:zg,providedIn:"any"}),zg),pm=((Bg=function(){function t(e,n,r,i,o,s,a,u){var c=this;if(_classCallCheck(this,t),!n||!Cu(o))return this;a.runOutsideAngular((function(){var t,o=n.events.pipe(kc((function(t){return t instanceof Cl}))),l=n.events.pipe(kc((function(t){return t instanceof ll})));c.disposable=l.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new $g(e,n))}}(o),Wc((function(t){var e=_slicedToArray(t,2),n=e[0],o=e[1],s=n.url,a=o.snapshot.routeConfig&&o.snapshot.routeConfig.path||s,c={screen_name:a,page_path:s,firebase_event_origin:"auto",firebase_screen:a,outlet:o.snapshot.outlet};r&&(c.page_title=r.getTitle());var l=o.snapshot.component,h=o.snapshot.routeConfig,f=h&&h.loadChildren;if("string"==typeof f)return fc(Object.assign(Object.assign({},c),{screen_class:f.split("#")[1]}));if("string"==typeof l)return fc(Object.assign(Object.assign({},c),{screen_class:l}));if(l){var p=i.resolveComponentFactory(l);return fc(Object.assign(Object.assign({},c),{screen_class:p.selector}))}if(f){var d=f();return(d instanceof k?d:z(Promise.resolve(d))).pipe(L((function(t){if(!(t instanceof te)){var e=[].concat.apply([],(t.__annotations__||[]).map((function(t){return t.declarations}))),n=[].concat.apply([],e.map((function(t){return(t.__annotations__||[]).map((function(t){return t.selector}))})));return Object.assign(Object.assign({},c),{screen_class:n[0]||"???"})}var r=t.create(u),i=r.injector.get(gf)[0][0].component;try{var o=r.componentFactoryResolver.resolveComponentFactory(i);return Object.assign(Object.assign({},c),{screen_class:o.selector})}catch(s){return Object.assign(Object.assign({},c),{screen_class:"???"})}})))}return fc(Object.assign(Object.assign({},c),{screen_class:"???"}))})),L((function(t){return Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:gm(t)},t)})),nl((function(t){"primary"==t.outlet&&(e.setCurrentScreen(t.screen_name),e.updateConfig({page_path:t.page_path,screen_class:t.screen_class}),r&&e.updateConfig({page_title:t.page_title}))})),(t=function(t){return t.outlet},function(e){return e.lift(new Jg(t,void 0,void 0,void 0))}),H((function(t){return t.pipe(Zc(void 0),(function(t){return t.lift(new im)}))})),L((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return n?Object.assign({firebase_previous_class:n.screen_class,firebase_previous_screen:n.screen_name,firebase_previous_id:n.firebase_screen_id},r):r})),nl((function(t){return s&&console.info("screen_view",t)})),nl((function(t){return a.runOutsideAngular((function(){return e.logEvent("screen_view",t)}))}))).subscribe()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.disposable&&this.disposable.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Bg)(Yt(fm),Yt(If,8),Yt(hc,8),Yt($o),Yt(Ks),Yt(cm,8),Yt(la),Yt(Ki))},Bg.\u0275prov=ht({factory:function(){return new Bg(Yt(fm),Yt(If,8),Yt(hc,8),Yt($o),Yt(Ks),Yt(cm,8),Yt(la),Yt(qt))},token:Bg,providedIn:"any"}),Bg),dm=((qg=function(){function t(e,r,i){var o=this;_classCallCheck(this,t);var s=new Tp(r);Eu(i)||r.runOutsideAngular((function(){o.disposable=z(n.e(1).then(n.bind(null,"6nsN"))).pipe(Jf(s.outsideAngular),Wc((function(){return e.app})),L((function(t){return t.auth()})),Wc((function(t){return new k(t.onAuthStateChanged.bind(t))})),Wc((function(t){return e.setUserId(t?t.uid:null)}))).subscribe()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.disposable&&this.disposable.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||qg)(Yt(fm),Yt(la),Yt(Ks))},qg.\u0275prov=ht({factory:function(){return new qg(Yt(fm),Yt(la),Yt(Ks))},token:qg,providedIn:"any"}),qg),vm=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31),ym={},gm=function(t){var e=[t.screen_class,t.outlet].join("#");if(ym.hasOwnProperty(e))return ym[e];var n=vm++;return ym[e]=n,n},mm=((Hg=function t(e,n,r){_classCallCheck(this,t)}).\u0275mod=ve({type:Hg}),Hg.\u0275inj=ft({factory:function(t){return new(t||Hg)(Yt(fm),Yt(pm,8),Yt(dm,8))},providers:[fm]}),Hg),_m=n("wj3C"),wm=n.n(_m),bm=n("6Joi");function km(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hp;return new k((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function Cm(t,e){return km(t,e).pipe(L((function(t){return{payload:t,type:"query"}})))}function Em(t,e){return Cm(t,e).pipe(L((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function Sm(t,e,n){return Cm(t,n).pipe(L((function(t){return t.payload.docChanges()})),$c((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),L((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Tm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var Im=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Em(this.query,this.afs.schedulers.outsideAngular).pipe(L((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),kc((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):Em(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe($c((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Tm(t);return Sm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Cm(this.query,this.afs.schedulers.outsideAngular).pipe(L((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return z(this.query.get(t)).pipe(Jf(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Am(this.ref.doc(t),this.afs)}}]),t}(),Am=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Dm(this.ref.collection(t),e),r=n.ref,i=n.query;return new Im(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return km(this.ref,this.afs.schedulers.outsideAngular).pipe(L((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(L((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return z(this.ref.get(t)).pipe(Jf(this.afs.schedulers.insideAngular))}}]),t}(),xm=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Em(this.query,this.afs.schedulers.outsideAngular).pipe(L((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),kc((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):Em(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe($c((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Tm(t);return Sm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return Cm(this.query,this.afs.schedulers.outsideAngular).pipe(L((function(t){return t.payload.docs.map((function(t){return t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return z(this.query.get(t)).pipe(Jf(this.afs.schedulers.insideAngular))}}]),t}(),Om=new Ut("angularfire2.enableFirestorePersistence"),Nm=new Ut("angularfire2.firestore.persistenceSettings"),Pm=new Ut("angularfire2.firestore.settings");function Dm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Rm,jm,Vm,Mm=((Vm=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this.schedulers=new Tp(s),this.keepUnstableUntilFirst=Ip(this.schedulers),this.firestore=s.runOutsideAngular((function(){var t=Dp(e,s,n);bm.registerFirestore&&Object(bm.registerFirestore)(wm.a);var r=t.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!Eu(o)?s.runOutsideAngular((function(){try{return z(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return fc(!1)}})):fc(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=Dm("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new Im(r,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new xm(n(r),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Am(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Vm)(Yt(Op),Yt(Np,8),Yt(Om,8),Yt(Pm,8),Yt(Ks),Yt(la),Yt(Nm,8))},Vm.\u0275prov=ht({factory:function(){return new Vm(Yt(Op),Yt(Np,8),Yt(Om,8),Yt(Pm,8),Yt(Ks),Yt(la),Yt(Nm,8))},token:Vm,providedIn:"any"}),Vm),Fm=((jm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:Om,useValue:!0},{provide:Nm,useValue:e}]}}}]),t}()).\u0275mod=ve({type:jm}),jm.\u0275inj=ft({factory:function(t){return new(t||jm)},providers:[Mm]}),jm),Lm=((Rm=function t(){_classCallCheck(this,t)}).\u0275mod=ve({type:Rm,bootstrap:[Ev]}),Rm.\u0275inj=ft({factory:function(t){return new(t||Rm)},providers:[],imports:[[uc,Cv,Zg,Lp.initializeApp(Ua),mm,Fm,dv,ku,qp]]}),Rm);(function(){if(Yn)throw new Error("Cannot enable prod mode after platform setup.");Kn=!1})(),sc().bootstrapModule(Lm).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,d.prototype.create),i}return r.__extends(e,t),e}(Error),d=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function v(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function g(t){return JSON.parse(t)}var m=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}function k(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=d,e.FirebaseError=p,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=m,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=k,e.getUA=f,e.isAdmin=function(t){var e=m(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=m(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=m(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=m(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=g,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);